(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(o){if(o.ep)return;o.ep=!0;const f=i(o);fetch(o.href,f)}})();function $0(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Af={exports:{}},Il={};var fy;function W0(){if(fy)return Il;fy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,f){var d=null;if(f!==void 0&&(d=""+f),o.key!==void 0&&(d=""+o.key),"key"in o){f={};for(var y in o)y!=="key"&&(f[y]=o[y])}else f=o;return o=f.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:f}}return Il.Fragment=e,Il.jsx=i,Il.jsxs=i,Il}var dy;function tE(){return dy||(dy=1,Af.exports=W0()),Af.exports}var S=tE(),bf={exports:{}},gt={};var my;function eE(){if(my)return gt;my=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),M=Symbol.iterator;function K(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rt=Object.assign,nt={};function Tt(O,Q,tt){this.props=O,this.context=Q,this.refs=nt,this.updater=tt||Z}Tt.prototype.isReactComponent={},Tt.prototype.setState=function(O,Q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Q,"setState")},Tt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function bt(){}bt.prototype=Tt.prototype;function mt(O,Q,tt){this.props=O,this.context=Q,this.refs=nt,this.updater=tt||Z}var Bt=mt.prototype=new bt;Bt.constructor=mt,rt(Bt,Tt.prototype),Bt.isPureReactComponent=!0;var $t=Array.isArray;function wt(){}var D={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function w(O,Q,tt){var it=tt.ref;return{$$typeof:s,type:O,key:Q,ref:it!==void 0?it:null,props:tt}}function I(O,Q){return w(O.type,Q,O.props)}function V(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function z(O){var Q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(tt){return Q[tt]})}var C=/\/+/g;function te(O,Q){return typeof O=="object"&&O!==null&&O.key!=null?z(""+O.key):Q.toString(36)}function oe(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(wt,wt):(O.status="pending",O.then(function(Q){O.status==="pending"&&(O.status="fulfilled",O.value=Q)},function(Q){O.status==="pending"&&(O.status="rejected",O.reason=Q)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,Q,tt,it,dt){var et=typeof O;(et==="undefined"||et==="boolean")&&(O=null);var At=!1;if(O===null)At=!0;else switch(et){case"bigint":case"string":case"number":At=!0;break;case"object":switch(O.$$typeof){case s:case e:At=!0;break;case A:return At=O._init,H(At(O._payload),Q,tt,it,dt)}}if(At)return dt=dt(O),At=it===""?"."+te(O,0):it,$t(dt)?(tt="",At!=null&&(tt=At.replace(C,"$&/")+"/"),H(dt,Q,tt,"",function(Oa){return Oa})):dt!=null&&(V(dt)&&(dt=I(dt,tt+(dt.key==null||O&&O.key===dt.key?"":(""+dt.key).replace(C,"$&/")+"/")+At)),Q.push(dt)),1;At=0;var Qt=it===""?".":it+":";if($t(O))for(var Yt=0;Yt<O.length;Yt++)it=O[Yt],et=Qt+te(it,Yt),At+=H(it,Q,tt,et,dt);else if(Yt=K(O),typeof Yt=="function")for(O=Yt.call(O),Yt=0;!(it=O.next()).done;)it=it.value,et=Qt+te(it,Yt++),At+=H(it,Q,tt,et,dt);else if(et==="object"){if(typeof O.then=="function")return H(oe(O),Q,tt,it,dt);throw Q=String(O),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return At}function W(O,Q,tt){if(O==null)return O;var it=[],dt=0;return H(O,it,"","",function(et){return Q.call(tt,et,dt++)}),it}function ut(O){if(O._status===-1){var Q=O._result;Q=Q(),Q.then(function(tt){(O._status===0||O._status===-1)&&(O._status=1,O._result=tt)},function(tt){(O._status===0||O._status===-1)&&(O._status=2,O._result=tt)}),O._status===-1&&(O._status=0,O._result=Q)}if(O._status===1)return O._result.default;throw O._result}var St=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Pt={map:W,forEach:function(O,Q,tt){W(O,function(){Q.apply(this,arguments)},tt)},count:function(O){var Q=0;return W(O,function(){Q++}),Q},toArray:function(O){return W(O,function(Q){return Q})||[]},only:function(O){if(!V(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return gt.Activity=N,gt.Children=Pt,gt.Component=Tt,gt.Fragment=i,gt.Profiler=o,gt.PureComponent=mt,gt.StrictMode=r,gt.Suspense=_,gt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,gt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return D.H.useMemoCache(O)}},gt.cache=function(O){return function(){return O.apply(null,arguments)}},gt.cacheSignal=function(){return null},gt.cloneElement=function(O,Q,tt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var it=rt({},O.props),dt=O.key;if(Q!=null)for(et in Q.key!==void 0&&(dt=""+Q.key),Q)!b.call(Q,et)||et==="key"||et==="__self"||et==="__source"||et==="ref"&&Q.ref===void 0||(it[et]=Q[et]);var et=arguments.length-2;if(et===1)it.children=tt;else if(1<et){for(var At=Array(et),Qt=0;Qt<et;Qt++)At[Qt]=arguments[Qt+2];it.children=At}return w(O.type,dt,it)},gt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:f,_context:O},O},gt.createElement=function(O,Q,tt){var it,dt={},et=null;if(Q!=null)for(it in Q.key!==void 0&&(et=""+Q.key),Q)b.call(Q,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(dt[it]=Q[it]);var At=arguments.length-2;if(At===1)dt.children=tt;else if(1<At){for(var Qt=Array(At),Yt=0;Yt<At;Yt++)Qt[Yt]=arguments[Yt+2];dt.children=Qt}if(O&&O.defaultProps)for(it in At=O.defaultProps,At)dt[it]===void 0&&(dt[it]=At[it]);return w(O,et,dt)},gt.createRef=function(){return{current:null}},gt.forwardRef=function(O){return{$$typeof:y,render:O}},gt.isValidElement=V,gt.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:ut}},gt.memo=function(O,Q){return{$$typeof:v,type:O,compare:Q===void 0?null:Q}},gt.startTransition=function(O){var Q=D.T,tt={};D.T=tt;try{var it=O(),dt=D.S;dt!==null&&dt(tt,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(wt,St)}catch(et){St(et)}finally{Q!==null&&tt.types!==null&&(Q.types=tt.types),D.T=Q}},gt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},gt.use=function(O){return D.H.use(O)},gt.useActionState=function(O,Q,tt){return D.H.useActionState(O,Q,tt)},gt.useCallback=function(O,Q){return D.H.useCallback(O,Q)},gt.useContext=function(O){return D.H.useContext(O)},gt.useDebugValue=function(){},gt.useDeferredValue=function(O,Q){return D.H.useDeferredValue(O,Q)},gt.useEffect=function(O,Q){return D.H.useEffect(O,Q)},gt.useEffectEvent=function(O){return D.H.useEffectEvent(O)},gt.useId=function(){return D.H.useId()},gt.useImperativeHandle=function(O,Q,tt){return D.H.useImperativeHandle(O,Q,tt)},gt.useInsertionEffect=function(O,Q){return D.H.useInsertionEffect(O,Q)},gt.useLayoutEffect=function(O,Q){return D.H.useLayoutEffect(O,Q)},gt.useMemo=function(O,Q){return D.H.useMemo(O,Q)},gt.useOptimistic=function(O,Q){return D.H.useOptimistic(O,Q)},gt.useReducer=function(O,Q,tt){return D.H.useReducer(O,Q,tt)},gt.useRef=function(O){return D.H.useRef(O)},gt.useState=function(O){return D.H.useState(O)},gt.useSyncExternalStore=function(O,Q,tt){return D.H.useSyncExternalStore(O,Q,tt)},gt.useTransition=function(){return D.H.useTransition()},gt.version="19.2.0",gt}var gy;function md(){return gy||(gy=1,bf.exports=eE()),bf.exports}var jt=md();const hs=$0(jt);var Cf={exports:{}},Ml={},Rf={exports:{}},wf={};var py;function nE(){return py||(py=1,(function(s){function e(H,W){var ut=H.length;H.push(W);t:for(;0<ut;){var St=ut-1>>>1,Pt=H[St];if(0<o(Pt,W))H[St]=W,H[ut]=Pt,ut=St;else break t}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var W=H[0],ut=H.pop();if(ut!==W){H[0]=ut;t:for(var St=0,Pt=H.length,O=Pt>>>1;St<O;){var Q=2*(St+1)-1,tt=H[Q],it=Q+1,dt=H[it];if(0>o(tt,ut))it<Pt&&0>o(dt,tt)?(H[St]=dt,H[it]=ut,St=it):(H[St]=tt,H[Q]=ut,St=Q);else if(it<Pt&&0>o(dt,ut))H[St]=dt,H[it]=ut,St=it;else break t}}return W}function o(H,W){var ut=H.sortIndex-W.sortIndex;return ut!==0?ut:H.id-W.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var d=Date,y=d.now();s.unstable_now=function(){return d.now()-y}}var _=[],v=[],A=1,N=null,M=3,K=!1,Z=!1,rt=!1,nt=!1,Tt=typeof setTimeout=="function"?setTimeout:null,bt=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function Bt(H){for(var W=i(v);W!==null;){if(W.callback===null)r(v);else if(W.startTime<=H)r(v),W.sortIndex=W.expirationTime,e(_,W);else break;W=i(v)}}function $t(H){if(rt=!1,Bt(H),!Z)if(i(_)!==null)Z=!0,wt||(wt=!0,z());else{var W=i(v);W!==null&&oe($t,W.startTime-H)}}var wt=!1,D=-1,b=5,w=-1;function I(){return nt?!0:!(s.unstable_now()-w<b)}function V(){if(nt=!1,wt){var H=s.unstable_now();w=H;var W=!0;try{t:{Z=!1,rt&&(rt=!1,bt(D),D=-1),K=!0;var ut=M;try{e:{for(Bt(H),N=i(_);N!==null&&!(N.expirationTime>H&&I());){var St=N.callback;if(typeof St=="function"){N.callback=null,M=N.priorityLevel;var Pt=St(N.expirationTime<=H);if(H=s.unstable_now(),typeof Pt=="function"){N.callback=Pt,Bt(H),W=!0;break e}N===i(_)&&r(_),Bt(H)}else r(_);N=i(_)}if(N!==null)W=!0;else{var O=i(v);O!==null&&oe($t,O.startTime-H),W=!1}}break t}finally{N=null,M=ut,K=!1}W=void 0}}finally{W?z():wt=!1}}}var z;if(typeof mt=="function")z=function(){mt(V)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,te=C.port2;C.port1.onmessage=V,z=function(){te.postMessage(null)}}else z=function(){Tt(V,0)};function oe(H,W){D=Tt(function(){H(s.unstable_now())},W)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(H){switch(M){case 1:case 2:case 3:var W=3;break;default:W=M}var ut=M;M=W;try{return H()}finally{M=ut}},s.unstable_requestPaint=function(){nt=!0},s.unstable_runWithPriority=function(H,W){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ut=M;M=H;try{return W()}finally{M=ut}},s.unstable_scheduleCallback=function(H,W,ut){var St=s.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?St+ut:St):ut=St,H){case 1:var Pt=-1;break;case 2:Pt=250;break;case 5:Pt=1073741823;break;case 4:Pt=1e4;break;default:Pt=5e3}return Pt=ut+Pt,H={id:A++,callback:W,priorityLevel:H,startTime:ut,expirationTime:Pt,sortIndex:-1},ut>St?(H.sortIndex=ut,e(v,H),i(_)===null&&H===i(v)&&(rt?(bt(D),D=-1):rt=!0,oe($t,ut-St))):(H.sortIndex=Pt,e(_,H),Z||K||(Z=!0,wt||(wt=!0,z()))),H},s.unstable_shouldYield=I,s.unstable_wrapCallback=function(H){var W=M;return function(){var ut=M;M=W;try{return H.apply(this,arguments)}finally{M=ut}}}})(wf)),wf}var yy;function iE(){return yy||(yy=1,Rf.exports=nE()),Rf.exports}var Df={exports:{}},Ge={};var _y;function aE(){if(_y)return Ge;_y=1;var s=md();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(_,v,A){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:N==null?null:""+N,children:_,containerInfo:v,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ge.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return f(_,v,null,A)},Ge.flushSync=function(_){var v=d.T,A=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=v,r.p=A,r.d.f()}},Ge.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(_,v))},Ge.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},Ge.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,N=y(A,v.crossOrigin),M=typeof v.integrity=="string"?v.integrity:void 0,K=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?r.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:N,integrity:M,fetchPriority:K}):A==="script"&&r.d.X(_,{crossOrigin:N,integrity:M,fetchPriority:K,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Ge.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=y(v.as,v.crossOrigin);r.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(_)},Ge.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,N=y(A,v.crossOrigin);r.d.L(_,A,{crossOrigin:N,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Ge.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=y(v.as,v.crossOrigin);r.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(_)},Ge.requestFormReset=function(_){r.d.r(_)},Ge.unstable_batchedUpdates=function(_,v){return _(v)},Ge.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},Ge.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ge.version="19.2.0",Ge}var vy;function sE(){if(vy)return Df.exports;vy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Df.exports=aE(),Df.exports}var Ey;function rE(){if(Ey)return Ml;Ey=1;var s=iE(),e=md(),i=sE();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(f(t)!==t)throw Error(r(188))}function v(t){var n=t.alternate;if(!n){if(n=f(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===a)return _(c),t;if(h===l)return _(c),n;h=h.sibling}throw Error(r(188))}if(a.return!==l.return)a=c,l=h;else{for(var g=!1,E=c.child;E;){if(E===a){g=!0,a=c,l=h;break}if(E===l){g=!0,l=c,a=h;break}E=E.sibling}if(!g){for(E=h.child;E;){if(E===a){g=!0,a=h,l=c;break}if(E===l){g=!0,l=h,a=c;break}E=E.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var N=Object.assign,M=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),rt=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),Tt=Symbol.for("react.profiler"),bt=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),Bt=Symbol.for("react.forward_ref"),$t=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function te(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case rt:return"Fragment";case Tt:return"Profiler";case nt:return"StrictMode";case $t:return"Suspense";case wt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Z:return"Portal";case mt:return t.displayName||"Context";case bt:return(t._context.displayName||"Context")+".Consumer";case Bt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return n=t.displayName||null,n!==null?n:te(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return te(t(n))}catch{}}return null}var oe=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},St=[],Pt=-1;function O(t){return{current:t}}function Q(t){0>Pt||(t.current=St[Pt],St[Pt]=null,Pt--)}function tt(t,n){Pt++,St[Pt]=t.current,t.current=n}var it=O(null),dt=O(null),et=O(null),At=O(null);function Qt(t,n){switch(tt(et,n),tt(dt,t),tt(it,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?jp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=jp(n),t=zp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(it),tt(it,t)}function Yt(){Q(it),Q(dt),Q(et)}function Oa(t){t.memoizedState!==null&&tt(At,t);var n=it.current,a=zp(n,t.type);n!==a&&(tt(dt,t),tt(it,a))}function ps(t){dt.current===t&&(Q(it),Q(dt)),At.current===t&&(Q(At),Nl._currentValue=ut)}var ys,_s;function Yn(t){if(ys===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ys=n&&n[1]||"",_s=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ys+t+_s}var Nr=!1;function Ia(t,n){if(!t||Nr)return"";Nr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(k){var P=k}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(k){P=k}t.call(Y.prototype)}}else{try{throw Error()}catch(k){P=k}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(k){if(k&&P&&typeof k.stack=="string")return[k.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),g=h[0],E=h[1];if(g&&E){var R=g.split(`
`),B=E.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===B.length)for(l=R.length-1,c=B.length-1;1<=l&&0<=c&&R[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==B[c]){var G=`
`+R[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{Nr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Yn(a):""}function xr(t,n){switch(t.tag){case 26:case 27:case 5:return Yn(t.type);case 16:return Yn("Lazy");case 13:return t.child!==n&&n!==null?Yn("Suspense Fallback"):Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 15:return Ia(t.type,!1);case 11:return Ia(t.type.render,!1);case 1:return Ia(t.type,!0);case 31:return Yn("Activity");default:return""}}function Vr(t){try{var n="",a=null;do n+=xr(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ye=Object.prototype.hasOwnProperty,Ne=s.unstable_scheduleCallback,ki=s.unstable_cancelCallback,bc=s.unstable_shouldYield,lo=s.unstable_requestPaint,Ze=s.unstable_now,Ma=s.unstable_getCurrentPriorityLevel,Or=s.unstable_ImmediatePriority,Ir=s.unstable_UserBlockingPriority,Hi=s.unstable_NormalPriority,Cc=s.unstable_LowPriority,oo=s.unstable_IdlePriority,uo=s.log,co=s.unstable_setDisableYieldValue,On=null,ze=null;function _n(t){if(typeof uo=="function"&&co(t),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(On,t)}catch{}}var he=Math.clz32?Math.clz32:fo,ho=Math.log,vs=Math.LN2;function fo(t){return t>>>=0,t===0?32:31-(ho(t)/vs|0)|0}var Xn=256,ja=262144,_e=4194304;function Kn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Zn(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,h=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~h,l!==0?c=Kn(l):(g&=E,g!==0?c=Kn(g):a||(a=E&~t,a!==0&&(c=Kn(a))))):(E=l&~h,E!==0?c=Kn(E):g!==0?c=Kn(g):a||(a=l&~t,a!==0&&(c=Kn(a)))),c===0?0:n!==0&&n!==c&&(n&h)===0&&(h=c&-c,a=n&-n,h>=a||h===32&&(a&4194048)!==0)?n:c}function In(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Rc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mo(){var t=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),t}function Jn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function za(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function wc(t,n,a,l,c,h){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,B=t.hiddenUpdates;for(a=g&~a;0<a;){var G=31-he(a),Y=1<<G;E[G]=0,R[G]=-1;var P=B[G];if(P!==null)for(B[G]=null,G=0;G<P.length;G++){var k=P[G];k!==null&&(k.lane&=-536870913)}a&=~Y}l!==0&&La(t,l,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(g&~n))}function La(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-he(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Mr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-he(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function jr(t,n){var a=n&-n;return a=(a&42)!==0?1:Ua(a),(a&(t.suspendedLanes|n))!==0?0:a}function Ua(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ti(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function go(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:sy(t.type))}function Mn(t,n){var a=W.p;try{return W.p=t,n()}finally{W.p=a}}var jn=Math.random().toString(36).slice(2),ve="__reactFiber$"+jn,Oe="__reactProps$"+jn,$n="__reactContainer$"+jn,Es="__reactEvents$"+jn,Dc="__reactListeners$"+jn,po="__reactHandles$"+jn,yo="__reactResources$"+jn,Wn="__reactMarker$"+jn;function Ts(t){delete t[ve],delete t[Oe],delete t[Es],delete t[Dc],delete t[po]}function ti(t){var n=t[ve];if(n)return n;for(var a=t.parentNode;a;){if(n=a[$n]||a[ve]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Hp(t);t!==null;){if(a=t[ve])return a;t=Hp(t)}return n}t=a,a=t.parentNode}return null}function vn(t){if(t=t[ve]||t[$n]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function un(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function ei(t){var n=t[yo];return n||(n=t[yo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(t){t[Wn]=!0}var zr=new Set,Lr={};function ni(t,n){ii(t,n),ii(t+"Capture",n)}function ii(t,n){for(Lr[t]=n,t=0;t<n.length;t++)zr.add(n[t])}var Ur=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Br={},Pr={};function _o(t){return ye.call(Pr,t)?!0:ye.call(Br,t)?!1:Ur.test(t)?Pr[t]=!0:(Br[t]=!0,!1)}function Ss(t,n,a){if(_o(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function cn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Te(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Ie(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function qr(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,h=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,h.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ht(t){if(!t._valueTracker){var n=Gi(t)?"checked":"value";t._valueTracker=qr(t,n,""+t[n])}}function Ba(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Gi(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ai(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Pa=/[\n"\\]/g;function We(t){return t.replace(Pa,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function As(t,n,a,l,c,h,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ie(n)):t.value!==""+Ie(n)&&(t.value=""+Ie(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?kr(t,g,Ie(n)):a!=null?kr(t,g,Ie(a)):l!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ie(E):t.removeAttribute("name")}function vo(t,n,a,l,c,h,g,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),n!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){Ht(t);return}a=a!=null?""+Ie(a):"",n=n!=null?""+Ie(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Ht(t)}function kr(t,n,a){n==="number"&&ai(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Fi(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ie(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Eo(t,n,a){if(n!=null&&(n=""+Ie(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ie(a):""}function Qi(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(oe(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Ie(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ht(t)}function tn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var To=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hr(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||To.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Gr(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&Hr(t,c,l)}else for(var h in n)n.hasOwnProperty(h)&&Hr(t,h,n[h])}function bs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var So=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cs(t){return Yi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function zn(){}var Fr=null;function En(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xi=null,si=null;function qa(t){var n=vn(t);if(n&&(t=n.stateNode)){var a=t[Oe]||null;t:switch(t=n.stateNode,n.type){case"input":if(As(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+We(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[Oe]||null;if(!c)throw Error(r(90));As(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Ba(l)}break t;case"textarea":Eo(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Fi(t,!!a.multiple,n,!1)}}}var Rs=!1;function Ki(t,n,a){if(Rs)return t(n,a);Rs=!0;try{var l=t(n);return l}finally{if(Rs=!1,(Xi!==null||si!==null)&&(gu(),Xi&&(n=Xi,t=si,si=Xi=null,qa(n),t)))for(n=0;n<t.length;n++)qa(t[n])}}function Ln(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Oe]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ka=!1;if(Tn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){ka=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{ka=!1}var ri=null,Qr=null,Ha=null;function Yr(){if(Ha)return Ha;var t,n=Qr,a=n.length,l,c="value"in ri?ri.value:ri.textContent,h=c.length;for(t=0;t<a&&n[t]===c[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===c[h-l];l++);return Ha=c.slice(t,1<l?1-l:void 0)}function Ga(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Si(){return!0}function Un(){return!1}function Le(t){function n(a,l,c,h,g){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Si:Un,this.isPropagationStopped=Un,this}return N(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Si)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Si)},persist:function(){},isPersistent:Si}),n}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},li=Le(Ai),Zi=N({},Ai,{view:0,detail:0}),Xr=Le(Zi),Ji,ws,oi,Ds=N({},Zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$i,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oi&&(oi&&t.type==="mousemove"?(Ji=t.screenX-oi.screenX,ws=t.screenY-oi.screenY):ws=Ji=0,oi=t),Ji)},movementY:function(t){return"movementY"in t?t.movementY:ws}}),Kr=Le(Ds),Fa=N({},Ds,{dataTransfer:0}),Ao=Le(Fa),bo=N({},Zi,{relatedTarget:0}),Qa=Le(bo),Zr=N({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),Co=Le(Zr),Ns=N({},Ai,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ro=Le(Ns),wo=N({},Ai,{data:0}),ui=Le(wo),Do={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},No={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=xo[t])?!!n[t]:!1}function $i(){return Vo}var Je=N({},Zi,{key:function(t){if(t.key){var n=Do[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ga(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?No[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$i,charCode:function(t){return t.type==="keypress"?Ga(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ga(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Oo=Le(Je),Io=N({},Ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bi=Le(Io),u=N({},Zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$i}),m=Le(u),p=N({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Le(p),L=N({},Ds,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Le(L),$=N({},Ai,{newState:0,oldState:0}),_t=Le($),fe=[9,13,27,32],qt=Tn&&"CompositionEvent"in window,ie=null;Tn&&"documentMode"in document&&(ie=document.documentMode);var Sn=Tn&&"TextEvent"in window&&!ie,ci=Tn&&(!qt||ie&&8<ie&&11>=ie),Bn=" ",Pn=!1;function Ya(t,n){switch(t){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xs(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vs=!1;function S1(t,n){switch(t){case"compositionend":return xs(n);case"keypress":return n.which!==32?null:(Pn=!0,Bn);case"textInput":return t=n.data,t===Bn&&Pn?null:t;default:return null}}function A1(t,n){if(Vs)return t==="compositionend"||!qt&&Ya(t,n)?(t=Yr(),Ha=Qr=ri=null,Vs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ci&&n.locale!=="ko"?null:n.data;default:return null}}var b1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!b1[t.type]:n==="textarea"}function Yd(t,n,a,l){Xi?si?si.push(l):si=[l]:Xi=l,n=Su(n,"onChange"),0<n.length&&(a=new li("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Jr=null,$r=null;function C1(t){Np(t,0)}function Mo(t){var n=un(t);if(Ba(n))return t}function Xd(t,n){if(t==="change")return n}var Kd=!1;if(Tn){var Nc;if(Tn){var xc="oninput"in document;if(!xc){var Zd=document.createElement("div");Zd.setAttribute("oninput","return;"),xc=typeof Zd.oninput=="function"}Nc=xc}else Nc=!1;Kd=Nc&&(!document.documentMode||9<document.documentMode)}function Jd(){Jr&&(Jr.detachEvent("onpropertychange",$d),$r=Jr=null)}function $d(t){if(t.propertyName==="value"&&Mo($r)){var n=[];Yd(n,$r,t,En(t)),Ki(C1,n)}}function R1(t,n,a){t==="focusin"?(Jd(),Jr=n,$r=a,Jr.attachEvent("onpropertychange",$d)):t==="focusout"&&Jd()}function w1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mo($r)}function D1(t,n){if(t==="click")return Mo(n)}function N1(t,n){if(t==="input"||t==="change")return Mo(n)}function x1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var hn=typeof Object.is=="function"?Object.is:x1;function Wr(t,n){if(hn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!ye.call(n,c)||!hn(t[c],n[c]))return!1}return!0}function Wd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tm(t,n){var a=Wd(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Wd(a)}}function em(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?em(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function nm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ai(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ai(t.document)}return n}function Vc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var V1=Tn&&"documentMode"in document&&11>=document.documentMode,Os=null,Oc=null,tl=null,Ic=!1;function im(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ic||Os==null||Os!==ai(l)||(l=Os,"selectionStart"in l&&Vc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),tl&&Wr(tl,l)||(tl=l,l=Su(Oc,"onSelect"),0<l.length&&(n=new li("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Os)))}function Xa(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Is={animationend:Xa("Animation","AnimationEnd"),animationiteration:Xa("Animation","AnimationIteration"),animationstart:Xa("Animation","AnimationStart"),transitionrun:Xa("Transition","TransitionRun"),transitionstart:Xa("Transition","TransitionStart"),transitioncancel:Xa("Transition","TransitionCancel"),transitionend:Xa("Transition","TransitionEnd")},Mc={},am={};Tn&&(am=document.createElement("div").style,"AnimationEvent"in window||(delete Is.animationend.animation,delete Is.animationiteration.animation,delete Is.animationstart.animation),"TransitionEvent"in window||delete Is.transitionend.transition);function Ka(t){if(Mc[t])return Mc[t];if(!Is[t])return t;var n=Is[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in am)return Mc[t]=n[a];return t}var sm=Ka("animationend"),rm=Ka("animationiteration"),lm=Ka("animationstart"),O1=Ka("transitionrun"),I1=Ka("transitionstart"),M1=Ka("transitioncancel"),om=Ka("transitionend"),um=new Map,jc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jc.push("scrollEnd");function qn(t,n){um.set(t,n),ni(n,[t])}var jo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},An=[],Ms=0,zc=0;function zo(){for(var t=Ms,n=zc=Ms=0;n<t;){var a=An[n];An[n++]=null;var l=An[n];An[n++]=null;var c=An[n];An[n++]=null;var h=An[n];if(An[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}h!==0&&cm(a,c,h)}}function Lo(t,n,a,l){An[Ms++]=t,An[Ms++]=n,An[Ms++]=a,An[Ms++]=l,zc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Lc(t,n,a,l){return Lo(t,n,a,l),Uo(t)}function Za(t,n){return Lo(t,null,null,n),Uo(t)}function cm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,h=t.return;h!==null;)h.childLanes|=a,l=h.alternate,l!==null&&(l.childLanes|=a),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,c&&n!==null&&(c=31-he(a),t=h.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),h):null}function Uo(t){if(50<Sl)throw Sl=0,Qh=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var js={};function j1(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,n,a,l){return new j1(t,n,a,l)}function Uc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ci(t,n){var a=t.alternate;return a===null?(a=fn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function hm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Bo(t,n,a,l,c,h){var g=0;if(l=t,typeof t=="function")Uc(t)&&(g=1);else if(typeof t=="string")g=P0(t,a,it.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=fn(31,a,n,c),t.elementType=w,t.lanes=h,t;case rt:return Ja(a.children,c,h,n);case nt:g=8,c|=24;break;case Tt:return t=fn(12,a,n,c|2),t.elementType=Tt,t.lanes=h,t;case $t:return t=fn(13,a,n,c),t.elementType=$t,t.lanes=h,t;case wt:return t=fn(19,a,n,c),t.elementType=wt,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case mt:g=10;break t;case bt:g=9;break t;case Bt:g=11;break t;case D:g=14;break t;case b:g=16,l=null;break t}g=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=fn(g,a,n,c),n.elementType=t,n.type=l,n.lanes=h,n}function Ja(t,n,a,l){return t=fn(7,t,l,n),t.lanes=a,t}function Bc(t,n,a){return t=fn(6,t,null,n),t.lanes=a,t}function fm(t){var n=fn(18,null,null,0);return n.stateNode=t,n}function Pc(t,n,a){return n=fn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var dm=new WeakMap;function bn(t,n){if(typeof t=="object"&&t!==null){var a=dm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Vr(n)},dm.set(t,n),n)}return{value:t,source:n,stack:Vr(n)}}var zs=[],Ls=0,Po=null,el=0,Cn=[],Rn=0,Wi=null,hi=1,fi="";function Ri(t,n){zs[Ls++]=el,zs[Ls++]=Po,Po=t,el=n}function mm(t,n,a){Cn[Rn++]=hi,Cn[Rn++]=fi,Cn[Rn++]=Wi,Wi=t;var l=hi;t=fi;var c=32-he(l)-1;l&=~(1<<c),a+=1;var h=32-he(n)+c;if(30<h){var g=c-c%5;h=(l&(1<<g)-1).toString(32),l>>=g,c-=g,hi=1<<32-he(n)+c|a<<c|l,fi=h+t}else hi=1<<h|a<<c|l,fi=t}function qc(t){t.return!==null&&(Ri(t,1),mm(t,1,0))}function kc(t){for(;t===Po;)Po=zs[--Ls],zs[Ls]=null,el=zs[--Ls],zs[Ls]=null;for(;t===Wi;)Wi=Cn[--Rn],Cn[Rn]=null,fi=Cn[--Rn],Cn[Rn]=null,hi=Cn[--Rn],Cn[Rn]=null}function gm(t,n){Cn[Rn++]=hi,Cn[Rn++]=fi,Cn[Rn++]=Wi,hi=n.id,fi=n.overflow,Wi=t}var Ue=null,ee=null,xt=!1,ta=null,wn=!1,Hc=Error(r(519));function ea(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw nl(bn(n,t)),Hc}function pm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[ve]=t,n[Oe]=l,a){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(a=0;a<bl.length;a++)Rt(bl[a],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":Rt("invalid",n),vo(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Rt("invalid",n);break;case"textarea":Rt("invalid",n),Qi(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Ip(n.textContent,a)?(l.popover!=null&&(Rt("beforetoggle",n),Rt("toggle",n)),l.onScroll!=null&&Rt("scroll",n),l.onScrollEnd!=null&&Rt("scrollend",n),l.onClick!=null&&(n.onclick=zn),n=!0):n=!1,n||ea(t,!0)}function ym(t){for(Ue=t.return;Ue;)switch(Ue.tag){case 5:case 31:case 13:wn=!1;return;case 27:case 3:wn=!0;return;default:Ue=Ue.return}}function Us(t){if(t!==Ue)return!1;if(!xt)return ym(t),xt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||of(t.type,t.memoizedProps)),a=!a),a&&ee&&ea(t),ym(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ee=kp(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ee=kp(t)}else n===27?(n=ee,ga(t.type)?(t=df,df=null,ee=t):ee=n):ee=Ue?Nn(t.stateNode.nextSibling):null;return!0}function $a(){ee=Ue=null,xt=!1}function Gc(){var t=ta;return t!==null&&(sn===null?sn=t:sn.push.apply(sn,t),ta=null),t}function nl(t){ta===null?ta=[t]:ta.push(t)}var Fc=O(null),Wa=null,wi=null;function na(t,n,a){tt(Fc,n._currentValue),n._currentValue=a}function Di(t){t._currentValue=Fc.current,Q(Fc)}function Qc(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Yc(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var g=c.child;h=h.firstContext;t:for(;h!==null;){var E=h;h=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){h.lanes|=a,E=h.alternate,E!==null&&(E.lanes|=a),Qc(h.return,a,t),l||(g=null);break t}h=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=a,h=g.alternate,h!==null&&(h.lanes|=a),Qc(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Bs(t,n,a,l){t=null;for(var c=n,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=c.type;hn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===At.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}c=c.return}t!==null&&Yc(n,t,a,l),n.flags|=262144}function qo(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ts(t){Wa=t,wi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Be(t){return _m(Wa,t)}function ko(t,n){return Wa===null&&ts(t),_m(t,n)}function _m(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},wi===null){if(t===null)throw Error(r(308));wi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else wi=wi.next=n;return a}var z1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},L1=s.unstable_scheduleCallback,U1=s.unstable_NormalPriority,Se={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xc(){return{controller:new z1,data:new Map,refCount:0}}function il(t){t.refCount--,t.refCount===0&&L1(U1,function(){t.controller.abort()})}var al=null,Kc=0,Ps=0,qs=null;function B1(t,n){if(al===null){var a=al=[];Kc=0,Ps=$h(),qs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Kc++,n.then(vm,vm),n}function vm(){if(--Kc===0&&al!==null){qs!==null&&(qs.status="fulfilled");var t=al;al=null,Ps=0,qs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function P1(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Em=H.S;H.S=function(t,n){ip=Ze(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&B1(t,n),Em!==null&&Em(t,n)};var es=O(null);function Zc(){var t=es.current;return t!==null?t:Wt.pooledCache}function Ho(t,n){n===null?tt(es,es.current):tt(es,n.pool)}function Tm(){var t=Zc();return t===null?null:{parent:Se._currentValue,pool:t}}var ks=Error(r(460)),Jc=Error(r(474)),Go=Error(r(542)),Fo={then:function(){}};function Sm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Am(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(zn,zn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Cm(t),t;default:if(typeof n.status=="string")n.then(zn,zn);else{if(t=Wt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Cm(t),t}throw is=n,ks}}function ns(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(is=a,ks):a}}var is=null;function bm(){if(is===null)throw Error(r(459));var t=is;return is=null,t}function Cm(t){if(t===ks||t===Go)throw Error(r(483))}var Hs=null,sl=0;function Qo(t){var n=sl;return sl+=1,Hs===null&&(Hs=[]),Am(Hs,t,n)}function rl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Yo(t,n){throw n.$$typeof===M?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Rm(t){function n(j,x){if(t){var U=j.deletions;U===null?(j.deletions=[x],j.flags|=16):U.push(x)}}function a(j,x){if(!t)return null;for(;x!==null;)n(j,x),x=x.sibling;return null}function l(j){for(var x=new Map;j!==null;)j.key!==null?x.set(j.key,j):x.set(j.index,j),j=j.sibling;return x}function c(j,x){return j=Ci(j,x),j.index=0,j.sibling=null,j}function h(j,x,U){return j.index=U,t?(U=j.alternate,U!==null?(U=U.index,U<x?(j.flags|=67108866,x):U):(j.flags|=67108866,x)):(j.flags|=1048576,x)}function g(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function E(j,x,U,F){return x===null||x.tag!==6?(x=Bc(U,j.mode,F),x.return=j,x):(x=c(x,U),x.return=j,x)}function R(j,x,U,F){var ct=U.type;return ct===rt?G(j,x,U.props.children,F,U.key):x!==null&&(x.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&ns(ct)===x.type)?(x=c(x,U.props),rl(x,U),x.return=j,x):(x=Bo(U.type,U.key,U.props,null,j.mode,F),rl(x,U),x.return=j,x)}function B(j,x,U,F){return x===null||x.tag!==4||x.stateNode.containerInfo!==U.containerInfo||x.stateNode.implementation!==U.implementation?(x=Pc(U,j.mode,F),x.return=j,x):(x=c(x,U.children||[]),x.return=j,x)}function G(j,x,U,F,ct){return x===null||x.tag!==7?(x=Ja(U,j.mode,F,ct),x.return=j,x):(x=c(x,U),x.return=j,x)}function Y(j,x,U){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Bc(""+x,j.mode,U),x.return=j,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case K:return U=Bo(x.type,x.key,x.props,null,j.mode,U),rl(U,x),U.return=j,U;case Z:return x=Pc(x,j.mode,U),x.return=j,x;case b:return x=ns(x),Y(j,x,U)}if(oe(x)||z(x))return x=Ja(x,j.mode,U,null),x.return=j,x;if(typeof x.then=="function")return Y(j,Qo(x),U);if(x.$$typeof===mt)return Y(j,ko(j,x),U);Yo(j,x)}return null}function P(j,x,U,F){var ct=x!==null?x.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ct!==null?null:E(j,x,""+U,F);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case K:return U.key===ct?R(j,x,U,F):null;case Z:return U.key===ct?B(j,x,U,F):null;case b:return U=ns(U),P(j,x,U,F)}if(oe(U)||z(U))return ct!==null?null:G(j,x,U,F,null);if(typeof U.then=="function")return P(j,x,Qo(U),F);if(U.$$typeof===mt)return P(j,x,ko(j,U),F);Yo(j,U)}return null}function k(j,x,U,F,ct){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return j=j.get(U)||null,E(x,j,""+F,ct);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case K:return j=j.get(F.key===null?U:F.key)||null,R(x,j,F,ct);case Z:return j=j.get(F.key===null?U:F.key)||null,B(x,j,F,ct);case b:return F=ns(F),k(j,x,U,F,ct)}if(oe(F)||z(F))return j=j.get(U)||null,G(x,j,F,ct,null);if(typeof F.then=="function")return k(j,x,U,Qo(F),ct);if(F.$$typeof===mt)return k(j,x,U,ko(x,F),ct);Yo(x,F)}return null}function st(j,x,U,F){for(var ct=null,Lt=null,ot=x,Et=x=0,Nt=null;ot!==null&&Et<U.length;Et++){ot.index>Et?(Nt=ot,ot=null):Nt=ot.sibling;var Ut=P(j,ot,U[Et],F);if(Ut===null){ot===null&&(ot=Nt);break}t&&ot&&Ut.alternate===null&&n(j,ot),x=h(Ut,x,Et),Lt===null?ct=Ut:Lt.sibling=Ut,Lt=Ut,ot=Nt}if(Et===U.length)return a(j,ot),xt&&Ri(j,Et),ct;if(ot===null){for(;Et<U.length;Et++)ot=Y(j,U[Et],F),ot!==null&&(x=h(ot,x,Et),Lt===null?ct=ot:Lt.sibling=ot,Lt=ot);return xt&&Ri(j,Et),ct}for(ot=l(ot);Et<U.length;Et++)Nt=k(ot,j,Et,U[Et],F),Nt!==null&&(t&&Nt.alternate!==null&&ot.delete(Nt.key===null?Et:Nt.key),x=h(Nt,x,Et),Lt===null?ct=Nt:Lt.sibling=Nt,Lt=Nt);return t&&ot.forEach(function(Ea){return n(j,Ea)}),xt&&Ri(j,Et),ct}function ht(j,x,U,F){if(U==null)throw Error(r(151));for(var ct=null,Lt=null,ot=x,Et=x=0,Nt=null,Ut=U.next();ot!==null&&!Ut.done;Et++,Ut=U.next()){ot.index>Et?(Nt=ot,ot=null):Nt=ot.sibling;var Ea=P(j,ot,Ut.value,F);if(Ea===null){ot===null&&(ot=Nt);break}t&&ot&&Ea.alternate===null&&n(j,ot),x=h(Ea,x,Et),Lt===null?ct=Ea:Lt.sibling=Ea,Lt=Ea,ot=Nt}if(Ut.done)return a(j,ot),xt&&Ri(j,Et),ct;if(ot===null){for(;!Ut.done;Et++,Ut=U.next())Ut=Y(j,Ut.value,F),Ut!==null&&(x=h(Ut,x,Et),Lt===null?ct=Ut:Lt.sibling=Ut,Lt=Ut);return xt&&Ri(j,Et),ct}for(ot=l(ot);!Ut.done;Et++,Ut=U.next())Ut=k(ot,j,Et,Ut.value,F),Ut!==null&&(t&&Ut.alternate!==null&&ot.delete(Ut.key===null?Et:Ut.key),x=h(Ut,x,Et),Lt===null?ct=Ut:Lt.sibling=Ut,Lt=Ut);return t&&ot.forEach(function(J0){return n(j,J0)}),xt&&Ri(j,Et),ct}function Jt(j,x,U,F){if(typeof U=="object"&&U!==null&&U.type===rt&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case K:t:{for(var ct=U.key;x!==null;){if(x.key===ct){if(ct=U.type,ct===rt){if(x.tag===7){a(j,x.sibling),F=c(x,U.props.children),F.return=j,j=F;break t}}else if(x.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&ns(ct)===x.type){a(j,x.sibling),F=c(x,U.props),rl(F,U),F.return=j,j=F;break t}a(j,x);break}else n(j,x);x=x.sibling}U.type===rt?(F=Ja(U.props.children,j.mode,F,U.key),F.return=j,j=F):(F=Bo(U.type,U.key,U.props,null,j.mode,F),rl(F,U),F.return=j,j=F)}return g(j);case Z:t:{for(ct=U.key;x!==null;){if(x.key===ct)if(x.tag===4&&x.stateNode.containerInfo===U.containerInfo&&x.stateNode.implementation===U.implementation){a(j,x.sibling),F=c(x,U.children||[]),F.return=j,j=F;break t}else{a(j,x);break}else n(j,x);x=x.sibling}F=Pc(U,j.mode,F),F.return=j,j=F}return g(j);case b:return U=ns(U),Jt(j,x,U,F)}if(oe(U))return st(j,x,U,F);if(z(U)){if(ct=z(U),typeof ct!="function")throw Error(r(150));return U=ct.call(U),ht(j,x,U,F)}if(typeof U.then=="function")return Jt(j,x,Qo(U),F);if(U.$$typeof===mt)return Jt(j,x,ko(j,U),F);Yo(j,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,x!==null&&x.tag===6?(a(j,x.sibling),F=c(x,U),F.return=j,j=F):(a(j,x),F=Bc(U,j.mode,F),F.return=j,j=F),g(j)):a(j,x)}return function(j,x,U,F){try{sl=0;var ct=Jt(j,x,U,F);return Hs=null,ct}catch(ot){if(ot===ks||ot===Go)throw ot;var Lt=fn(29,ot,null,j.mode);return Lt.lanes=F,Lt.return=j,Lt}finally{}}}var as=Rm(!0),wm=Rm(!1),ia=!1;function $c(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function aa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function sa(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(kt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Uo(t),cm(t,null,a),n}return Lo(t,l,n,a),Uo(t)}function ll(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Mr(t,a)}}function th(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?c=h=g:h=h.next=g,a=a.next}while(a!==null);h===null?c=h=n:h=h.next=n}else c=h=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var eh=!1;function ol(){if(eh){var t=qs;if(t!==null)throw t}}function ul(t,n,a,l){eh=!1;var c=t.updateQueue;ia=!1;var h=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,B=R.next;R.next=null,g===null?h=B:g.next=B,g=R;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=B:E.next=B,G.lastBaseUpdate=R))}if(h!==null){var Y=c.baseState;g=0,G=B=R=null,E=h;do{var P=E.lane&-536870913,k=P!==E.lane;if(k?(Dt&P)===P:(l&P)===P){P!==0&&P===Ps&&(eh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var st=t,ht=E;P=n;var Jt=a;switch(ht.tag){case 1:if(st=ht.payload,typeof st=="function"){Y=st.call(Jt,Y,P);break t}Y=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=ht.payload,P=typeof st=="function"?st.call(Jt,Y,P):st,P==null)break t;Y=N({},Y,P);break t;case 2:ia=!0}}P=E.callback,P!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[P]:k.push(P))}else k={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(B=G=k,R=Y):G=G.next=k,g|=P;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);G===null&&(R=Y),c.baseState=R,c.firstBaseUpdate=B,c.lastBaseUpdate=G,h===null&&(c.shared.lanes=0),ca|=g,t.lanes=g,t.memoizedState=Y}}function Dm(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Nm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Dm(a[t],n)}var Gs=O(null),Xo=O(0);function xm(t,n){t=Li,tt(Xo,t),tt(Gs,n),Li=t|n.baseLanes}function nh(){tt(Xo,Li),tt(Gs,Gs.current)}function ih(){Li=Xo.current,Q(Gs),Q(Xo)}var dn=O(null),Dn=null;function ra(t){var n=t.alternate;tt(de,de.current&1),tt(dn,t),Dn===null&&(n===null||Gs.current!==null||n.memoizedState!==null)&&(Dn=t)}function ah(t){tt(de,de.current),tt(dn,t),Dn===null&&(Dn=t)}function Vm(t){t.tag===22?(tt(de,de.current),tt(dn,t),Dn===null&&(Dn=t)):la()}function la(){tt(de,de.current),tt(dn,dn.current)}function mn(t){Q(dn),Dn===t&&(Dn=null),Q(de)}var de=O(0);function Ko(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||hf(a)||ff(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ni=0,vt=null,Kt=null,Ae=null,Zo=!1,Fs=!1,ss=!1,Jo=0,cl=0,Qs=null,q1=0;function ue(){throw Error(r(321))}function sh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!hn(t[a],n[a]))return!1;return!0}function rh(t,n,a,l,c,h){return Ni=h,vt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?mg:Th,ss=!1,h=a(l,c),ss=!1,Fs&&(h=Im(n,a,l,c)),Om(t),h}function Om(t){H.H=dl;var n=Kt!==null&&Kt.next!==null;if(Ni=0,Ae=Kt=vt=null,Zo=!1,cl=0,Qs=null,n)throw Error(r(300));t===null||be||(t=t.dependencies,t!==null&&qo(t)&&(be=!0))}function Im(t,n,a,l){vt=t;var c=0;do{if(Fs&&(Qs=null),cl=0,Fs=!1,25<=c)throw Error(r(301));if(c+=1,Ae=Kt=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}H.H=gg,h=n(a,l)}while(Fs);return h}function k1(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?hl(n):n,t=t.useState()[0],(Kt!==null?Kt.memoizedState:null)!==t&&(vt.flags|=1024),n}function lh(){var t=Jo!==0;return Jo=0,t}function oh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function uh(t){if(Zo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Zo=!1}Ni=0,Ae=Kt=vt=null,Fs=!1,cl=Jo=0,Qs=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?vt.memoizedState=Ae=t:Ae=Ae.next=t,Ae}function me(){if(Kt===null){var t=vt.alternate;t=t!==null?t.memoizedState:null}else t=Kt.next;var n=Ae===null?vt.memoizedState:Ae.next;if(n!==null)Ae=n,Kt=t;else{if(t===null)throw vt.alternate===null?Error(r(467)):Error(r(310));Kt=t,t={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},Ae===null?vt.memoizedState=Ae=t:Ae=Ae.next=t}return Ae}function $o(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(t){var n=cl;return cl+=1,Qs===null&&(Qs=[]),t=Am(Qs,t,n),n=vt,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?mg:Th),t}function Wo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hl(t);if(t.$$typeof===mt)return Be(t)}throw Error(r(438,String(t)))}function ch(t){var n=null,a=vt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=vt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=$o(),vt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=I;return n.index++,a}function xi(t,n){return typeof n=="function"?n(t):n}function tu(t){var n=me();return hh(n,Kt,t)}function hh(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=t.baseQueue,h=l.pending;if(h!==null){if(c!==null){var g=c.next;c.next=h.next,h.next=g}n.baseQueue=c=h,l.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{n=c.next;var E=g=null,R=null,B=n,G=!1;do{var Y=B.lane&-536870913;if(Y!==B.lane?(Dt&Y)===Y:(Ni&Y)===Y){var P=B.revertLane;if(P===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Y===Ps&&(G=!0);else if((Ni&P)===P){B=B.next,P===Ps&&(G=!0);continue}else Y={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},R===null?(E=R=Y,g=h):R=R.next=Y,vt.lanes|=P,ca|=P;Y=B.action,ss&&a(h,Y),h=B.hasEagerState?B.eagerState:a(h,Y)}else P={lane:Y,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},R===null?(E=R=P,g=h):R=R.next=P,vt.lanes|=Y,ca|=Y;B=B.next}while(B!==null&&B!==n);if(R===null?g=h:R.next=E,!hn(h,t.memoizedState)&&(be=!0,G&&(a=qs,a!==null)))throw a;t.memoizedState=h,t.baseState=g,t.baseQueue=R,l.lastRenderedState=h}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function fh(t){var n=me(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,h=n.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do h=t(h,g.action),g=g.next;while(g!==c);hn(h,n.memoizedState)||(be=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),a.lastRenderedState=h}return[h,l]}function Mm(t,n,a){var l=vt,c=me(),h=xt;if(h){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!hn((Kt||c).memoizedState,a);if(g&&(c.memoizedState=a,be=!0),c=c.queue,gh(Lm.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,Ys(9,{destroy:void 0},zm.bind(null,l,c,a,n),null),Wt===null)throw Error(r(349));h||(Ni&127)!==0||jm(l,n,a)}return a}function jm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=vt.updateQueue,n===null?(n=$o(),vt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function zm(t,n,a,l){n.value=a,n.getSnapshot=l,Um(n)&&Bm(t)}function Lm(t,n,a){return a(function(){Um(n)&&Bm(t)})}function Um(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!hn(t,a)}catch{return!0}}function Bm(t){var n=Za(t,2);n!==null&&rn(n,t,2)}function dh(t){var n=$e();if(typeof t=="function"){var a=t;if(t=a(),ss){_n(!0);try{a()}finally{_n(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:t},n}function Pm(t,n,a,l){return t.baseState=a,hh(t,Kt,typeof l=="function"?l:xi)}function H1(t,n,a,l,c){if(iu(t))throw Error(r(485));if(t=n.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){h.listeners.push(g)}};H.T!==null?a(!0):h.isTransition=!1,l(h),a=n.pending,a===null?(h.next=n.pending=h,qm(n,h)):(h.next=a.next,n.pending=a.next=h)}}function qm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var h=H.T,g={};H.T=g;try{var E=a(c,l),R=H.S;R!==null&&R(g,E),km(t,n,E)}catch(B){mh(t,n,B)}finally{h!==null&&g.types!==null&&(h.types=g.types),H.T=h}}else try{h=a(c,l),km(t,n,h)}catch(B){mh(t,n,B)}}function km(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Hm(t,n,l)},function(l){return mh(t,n,l)}):Hm(t,n,a)}function Hm(t,n,a){n.status="fulfilled",n.value=a,Gm(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,qm(t,a)))}function mh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Gm(n),n=n.next;while(n!==l)}t.action=null}function Gm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Fm(t,n){return n}function Qm(t,n){if(xt){var a=Wt.formState;if(a!==null){t:{var l=vt;if(xt){if(ee){e:{for(var c=ee,h=wn;c.nodeType!==8;){if(!h){c=null;break e}if(c=Nn(c.nextSibling),c===null){c=null;break e}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){ee=Nn(c.nextSibling),l=c.data==="F!";break t}}ea(l)}l=!1}l&&(n=a[0])}}return a=$e(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fm,lastRenderedState:n},a.queue=l,a=hg.bind(null,vt,l),l.dispatch=a,l=dh(!1),h=Eh.bind(null,vt,!1,l.queue),l=$e(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=H1.bind(null,vt,c,h,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function Ym(t){var n=me();return Xm(n,Kt,t)}function Xm(t,n,a){if(n=hh(t,n,Fm)[0],t=tu(xi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=hl(n)}catch(g){throw g===ks?Go:g}else l=n;n=me();var c=n.queue,h=c.dispatch;return a!==n.memoizedState&&(vt.flags|=2048,Ys(9,{destroy:void 0},G1.bind(null,c,a),null)),[l,h,t]}function G1(t,n){t.action=n}function Km(t){var n=me(),a=Kt;if(a!==null)return Xm(n,a,t);me(),n=n.memoizedState,a=me();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Ys(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=vt.updateQueue,n===null&&(n=$o(),vt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Zm(){return me().memoizedState}function eu(t,n,a,l){var c=$e();vt.flags|=t,c.memoizedState=Ys(1|n,{destroy:void 0},a,l===void 0?null:l)}function nu(t,n,a,l){var c=me();l=l===void 0?null:l;var h=c.memoizedState.inst;Kt!==null&&l!==null&&sh(l,Kt.memoizedState.deps)?c.memoizedState=Ys(n,h,a,l):(vt.flags|=t,c.memoizedState=Ys(1|n,h,a,l))}function Jm(t,n){eu(8390656,8,t,n)}function gh(t,n){nu(2048,8,t,n)}function F1(t){vt.flags|=4;var n=vt.updateQueue;if(n===null)n=$o(),vt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function $m(t){var n=me().memoizedState;return F1({ref:n,nextImpl:t}),function(){if((kt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Wm(t,n){return nu(4,2,t,n)}function tg(t,n){return nu(4,4,t,n)}function eg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function ng(t,n,a){a=a!=null?a.concat([t]):null,nu(4,4,eg.bind(null,n,t),a)}function ph(){}function ig(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&sh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function ag(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&sh(n,l[1]))return l[0];if(l=t(),ss){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[l,n],l}function yh(t,n,a){return a===void 0||(Ni&1073741824)!==0&&(Dt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=sp(),vt.lanes|=t,ca|=t,a)}function sg(t,n,a,l){return hn(a,n)?a:Gs.current!==null?(t=yh(t,a,l),hn(t,n)||(be=!0),t):(Ni&42)===0||(Ni&1073741824)!==0&&(Dt&261930)===0?(be=!0,t.memoizedState=a):(t=sp(),vt.lanes|=t,ca|=t,n)}function rg(t,n,a,l,c){var h=W.p;W.p=h!==0&&8>h?h:8;var g=H.T,E={};H.T=E,Eh(t,!1,n,a);try{var R=c(),B=H.S;if(B!==null&&B(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=P1(R,l);fl(t,n,G,yn(t))}else fl(t,n,l,yn(t))}catch(Y){fl(t,n,{then:function(){},status:"rejected",reason:Y},yn())}finally{W.p=h,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function Q1(){}function _h(t,n,a,l){if(t.tag!==5)throw Error(r(476));var c=lg(t).queue;rg(t,c,n,ut,a===null?Q1:function(){return og(t),a(l)})}function lg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:ut},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function og(t){var n=lg(t);n.next===null&&(n=t.alternate.memoizedState),fl(t,n.next.queue,{},yn())}function vh(){return Be(Nl)}function ug(){return me().memoizedState}function cg(){return me().memoizedState}function Y1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=yn();t=aa(a);var l=sa(n,t,a);l!==null&&(rn(l,n,a),ll(l,n,a)),n={cache:Xc()},t.payload=n;return}n=n.return}}function X1(t,n,a){var l=yn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},iu(t)?fg(n,a):(a=Lc(t,n,a,l),a!==null&&(rn(a,t,l),dg(a,n,l)))}function hg(t,n,a){var l=yn();fl(t,n,a,l)}function fl(t,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(iu(t))fg(n,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var g=n.lastRenderedState,E=h(g,a);if(c.hasEagerState=!0,c.eagerState=E,hn(E,g))return Lo(t,n,c,0),Wt===null&&zo(),!1}catch{}finally{}if(a=Lc(t,n,c,l),a!==null)return rn(a,t,l),dg(a,n,l),!0}return!1}function Eh(t,n,a,l){if(l={lane:2,revertLane:$h(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},iu(t)){if(n)throw Error(r(479))}else n=Lc(t,a,l,2),n!==null&&rn(n,t,2)}function iu(t){var n=t.alternate;return t===vt||n!==null&&n===vt}function fg(t,n){Fs=Zo=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function dg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Mr(t,a)}}var dl={readContext:Be,use:Wo,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};dl.useEffectEvent=ue;var mg={readContext:Be,use:Wo,useCallback:function(t,n){return $e().memoizedState=[t,n===void 0?null:n],t},useContext:Be,useEffect:Jm,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,eu(4194308,4,eg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return eu(4194308,4,t,n)},useInsertionEffect:function(t,n){eu(4,2,t,n)},useMemo:function(t,n){var a=$e();n=n===void 0?null:n;var l=t();if(ss){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=$e();if(a!==void 0){var c=a(n);if(ss){_n(!0);try{a(n)}finally{_n(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=X1.bind(null,vt,t),[l.memoizedState,t]},useRef:function(t){var n=$e();return t={current:t},n.memoizedState=t},useState:function(t){t=dh(t);var n=t.queue,a=hg.bind(null,vt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:ph,useDeferredValue:function(t,n){var a=$e();return yh(a,t,n)},useTransition:function(){var t=dh(!1);return t=rg.bind(null,vt,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=vt,c=$e();if(xt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Wt===null)throw Error(r(349));(Dt&127)!==0||jm(l,n,a)}c.memoizedState=a;var h={value:a,getSnapshot:n};return c.queue=h,Jm(Lm.bind(null,l,h,t),[t]),l.flags|=2048,Ys(9,{destroy:void 0},zm.bind(null,l,h,a,n),null),a},useId:function(){var t=$e(),n=Wt.identifierPrefix;if(xt){var a=fi,l=hi;a=(l&~(1<<32-he(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Jo++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=q1++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:vh,useFormState:Qm,useActionState:Qm,useOptimistic:function(t){var n=$e();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Eh.bind(null,vt,!0,a),a.dispatch=n,[t,n]},useMemoCache:ch,useCacheRefresh:function(){return $e().memoizedState=Y1.bind(null,vt)},useEffectEvent:function(t){var n=$e(),a={impl:t};return n.memoizedState=a,function(){if((kt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Th={readContext:Be,use:Wo,useCallback:ig,useContext:Be,useEffect:gh,useImperativeHandle:ng,useInsertionEffect:Wm,useLayoutEffect:tg,useMemo:ag,useReducer:tu,useRef:Zm,useState:function(){return tu(xi)},useDebugValue:ph,useDeferredValue:function(t,n){var a=me();return sg(a,Kt.memoizedState,t,n)},useTransition:function(){var t=tu(xi)[0],n=me().memoizedState;return[typeof t=="boolean"?t:hl(t),n]},useSyncExternalStore:Mm,useId:ug,useHostTransitionStatus:vh,useFormState:Ym,useActionState:Ym,useOptimistic:function(t,n){var a=me();return Pm(a,Kt,t,n)},useMemoCache:ch,useCacheRefresh:cg};Th.useEffectEvent=$m;var gg={readContext:Be,use:Wo,useCallback:ig,useContext:Be,useEffect:gh,useImperativeHandle:ng,useInsertionEffect:Wm,useLayoutEffect:tg,useMemo:ag,useReducer:fh,useRef:Zm,useState:function(){return fh(xi)},useDebugValue:ph,useDeferredValue:function(t,n){var a=me();return Kt===null?yh(a,t,n):sg(a,Kt.memoizedState,t,n)},useTransition:function(){var t=fh(xi)[0],n=me().memoizedState;return[typeof t=="boolean"?t:hl(t),n]},useSyncExternalStore:Mm,useId:ug,useHostTransitionStatus:vh,useFormState:Km,useActionState:Km,useOptimistic:function(t,n){var a=me();return Kt!==null?Pm(a,Kt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ch,useCacheRefresh:cg};gg.useEffectEvent=$m;function Sh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:N({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Ah={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=yn(),c=aa(l);c.payload=n,a!=null&&(c.callback=a),n=sa(t,c,l),n!==null&&(rn(n,t,l),ll(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=yn(),c=aa(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=sa(t,c,l),n!==null&&(rn(n,t,l),ll(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=yn(),l=aa(a);l.tag=2,n!=null&&(l.callback=n),n=sa(t,l,a),n!==null&&(rn(n,t,a),ll(n,t,a))}};function pg(t,n,a,l,c,h,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,g):n.prototype&&n.prototype.isPureReactComponent?!Wr(a,l)||!Wr(c,h):!0}function yg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Ah.enqueueReplaceState(n,n.state,null)}function rs(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=N({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function _g(t){jo(t)}function vg(t){console.error(t)}function Eg(t){jo(t)}function au(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Tg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function bh(t,n,a){return a=aa(a),a.tag=3,a.payload={element:null},a.callback=function(){au(t,n)},a}function Sg(t){return t=aa(t),t.tag=3,t}function Ag(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var h=l.value;t.payload=function(){return c(h)},t.callback=function(){Tg(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Tg(n,a,l),typeof c!="function"&&(ha===null?ha=new Set([this]):ha.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function K1(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Bs(n,a,c,!0),a=dn.current,a!==null){switch(a.tag){case 31:case 13:return Dn===null?pu():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Fo?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Kh(t,l,c)),!1;case 22:return a.flags|=65536,l===Fo?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Kh(t,l,c)),!1}throw Error(r(435,a.tag))}return Kh(t,l,c),pu(),!1}if(xt)return n=dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Hc&&(t=Error(r(422),{cause:l}),nl(bn(t,a)))):(l!==Hc&&(n=Error(r(423),{cause:l}),nl(bn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=bn(l,a),c=bh(t.stateNode,l,c),th(t,c),ce!==4&&(ce=2)),!1;var h=Error(r(520),{cause:l});if(h=bn(h,a),Tl===null?Tl=[h]:Tl.push(h),ce!==4&&(ce=2),n===null)return!0;l=bn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=bh(a.stateNode,l,t),th(a,t),!1;case 1:if(n=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(ha===null||!ha.has(h))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Sg(c),Ag(c,t,a,l),th(a,c),!1}a=a.return}while(a!==null);return!1}var Ch=Error(r(461)),be=!1;function Pe(t,n,a,l){n.child=t===null?wm(n,null,a,l):as(n,t.child,a,l)}function bg(t,n,a,l,c){a=a.render;var h=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return ts(n),l=rh(t,n,a,g,h,c),E=lh(),t!==null&&!be?(oh(t,n,c),Vi(t,n,c)):(xt&&E&&qc(n),n.flags|=1,Pe(t,n,l,c),n.child)}function Cg(t,n,a,l,c){if(t===null){var h=a.type;return typeof h=="function"&&!Uc(h)&&h.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=h,Rg(t,n,h,l,c)):(t=Bo(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,!Ih(t,c)){var g=h.memoizedProps;if(a=a.compare,a=a!==null?a:Wr,a(g,l)&&t.ref===n.ref)return Vi(t,n,c)}return n.flags|=1,t=Ci(h,l),t.ref=n.ref,t.return=n,n.child=t}function Rg(t,n,a,l,c){if(t!==null){var h=t.memoizedProps;if(Wr(h,l)&&t.ref===n.ref)if(be=!1,n.pendingProps=l=h,Ih(t,c))(t.flags&131072)!==0&&(be=!0);else return n.lanes=t.lanes,Vi(t,n,c)}return Rh(t,n,a,l,c)}function wg(t,n,a,l){var c=l.children,h=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|a:a,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~h}else l=0,n.child=null;return Dg(t,n,h,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ho(n,h!==null?h.cachePool:null),h!==null?xm(n,h):nh(),Vm(n);else return l=n.lanes=536870912,Dg(t,n,h!==null?h.baseLanes|a:a,a,l)}else h!==null?(Ho(n,h.cachePool),xm(n,h),la(),n.memoizedState=null):(t!==null&&Ho(n,null),nh(),la());return Pe(t,n,c,a),n.child}function ml(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Dg(t,n,a,l,c){var h=Zc();return h=h===null?null:{parent:Se._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},t!==null&&Ho(n,null),nh(),Vm(n),t!==null&&Bs(t,n,l,!0),n.childLanes=c,null}function su(t,n){return n=lu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Ng(t,n,a){return as(n,t.child,null,a),t=su(n,n.pendingProps),t.flags|=2,mn(n),n.memoizedState=null,t}function Z1(t,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(xt){if(l.mode==="hidden")return t=su(n,l),n.lanes=536870912,ml(null,t);if(ah(n),(t=ee)?(t=qp(t,wn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Wi!==null?{id:hi,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},a=fm(t),a.return=n,n.child=a,Ue=n,ee=null)):t=null,t===null)throw ea(n);return n.lanes=536870912,null}return su(n,l)}var h=t.memoizedState;if(h!==null){var g=h.dehydrated;if(ah(n),c)if(n.flags&256)n.flags&=-257,n=Ng(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(be||Bs(t,n,a,!1),c=(a&t.childLanes)!==0,be||c){if(l=Wt,l!==null&&(g=jr(l,a),g!==0&&g!==h.retryLane))throw h.retryLane=g,Za(t,g),rn(l,t,g),Ch;pu(),n=Ng(t,n,a)}else t=h.treeContext,ee=Nn(g.nextSibling),Ue=n,xt=!0,ta=null,wn=!1,t!==null&&gm(n,t),n=su(n,l),n.flags|=4096;return n}return t=Ci(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ru(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Rh(t,n,a,l,c){return ts(n),a=rh(t,n,a,l,void 0,c),l=lh(),t!==null&&!be?(oh(t,n,c),Vi(t,n,c)):(xt&&l&&qc(n),n.flags|=1,Pe(t,n,a,c),n.child)}function xg(t,n,a,l,c,h){return ts(n),n.updateQueue=null,a=Im(n,l,a,c),Om(t),l=lh(),t!==null&&!be?(oh(t,n,h),Vi(t,n,h)):(xt&&l&&qc(n),n.flags|=1,Pe(t,n,a,h),n.child)}function Vg(t,n,a,l,c){if(ts(n),n.stateNode===null){var h=js,g=a.contextType;typeof g=="object"&&g!==null&&(h=Be(g)),h=new a(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Ah,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},$c(n),g=a.contextType,h.context=typeof g=="object"&&g!==null?Be(g):js,h.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Sh(n,a,g,l),h.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(g=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),g!==h.state&&Ah.enqueueReplaceState(h,h.state,null),ul(n,l,h,c),ol(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){h=n.stateNode;var E=n.memoizedProps,R=rs(a,E);h.props=R;var B=h.context,G=a.contextType;g=js,typeof G=="object"&&G!==null&&(g=Be(G));var Y=a.getDerivedStateFromProps;G=typeof Y=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||B!==g)&&yg(n,h,l,g),ia=!1;var P=n.memoizedState;h.state=P,ul(n,l,h,c),ol(),B=n.memoizedState,E||P!==B||ia?(typeof Y=="function"&&(Sh(n,a,Y,l),B=n.memoizedState),(R=ia||pg(n,a,R,l,P,B,g))?(G||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),h.props=l,h.state=B,h.context=g,l=R):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,Wc(t,n),g=n.memoizedProps,G=rs(a,g),h.props=G,Y=n.pendingProps,P=h.context,B=a.contextType,R=js,typeof B=="object"&&B!==null&&(R=Be(B)),E=a.getDerivedStateFromProps,(B=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==Y||P!==R)&&yg(n,h,l,R),ia=!1,P=n.memoizedState,h.state=P,ul(n,l,h,c),ol();var k=n.memoizedState;g!==Y||P!==k||ia||t!==null&&t.dependencies!==null&&qo(t.dependencies)?(typeof E=="function"&&(Sh(n,a,E,l),k=n.memoizedState),(G=ia||pg(n,a,G,l,P,k,R)||t!==null&&t.dependencies!==null&&qo(t.dependencies))?(B||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,k,R),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,k,R)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),h.props=l,h.state=k,h.context=R,l=G):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return h=l,ru(t,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,t!==null&&l?(n.child=as(n,t.child,null,c),n.child=as(n,null,a,c)):Pe(t,n,a,c),n.memoizedState=h.state,t=n.child):t=Vi(t,n,c),t}function Og(t,n,a,l){return $a(),n.flags|=256,Pe(t,n,a,l),n.child}var wh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dh(t){return{baseLanes:t,cachePool:Tm()}}function Nh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=pn),t}function Ig(t,n,a){var l=n.pendingProps,c=!1,h=(n.flags&128)!==0,g;if((g=h)||(g=t!==null&&t.memoizedState===null?!1:(de.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(xt){if(c?ra(n):la(),(t=ee)?(t=qp(t,wn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Wi!==null?{id:hi,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},a=fm(t),a.return=n,n.child=a,Ue=n,ee=null)):t=null,t===null)throw ea(n);return ff(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(la(),c=n.mode,E=lu({mode:"hidden",children:E},c),l=Ja(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Dh(a),l.childLanes=Nh(t,g,a),n.memoizedState=wh,ml(null,l)):(ra(n),xh(n,E))}var R=t.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(h)n.flags&256?(ra(n),n.flags&=-257,n=Vh(t,n,a)):n.memoizedState!==null?(la(),n.child=t.child,n.flags|=128,n=null):(la(),E=l.fallback,c=n.mode,l=lu({mode:"visible",children:l.children},c),E=Ja(E,c,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,as(n,t.child,null,a),l=n.child,l.memoizedState=Dh(a),l.childLanes=Nh(t,g,a),n.memoizedState=wh,n=ml(null,l));else if(ra(n),ff(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var B=g.dgst;g=B,l=Error(r(419)),l.stack="",l.digest=g,nl({value:l,source:null,stack:null}),n=Vh(t,n,a)}else if(be||Bs(t,n,a,!1),g=(a&t.childLanes)!==0,be||g){if(g=Wt,g!==null&&(l=jr(g,a),l!==0&&l!==R.retryLane))throw R.retryLane=l,Za(t,l),rn(g,t,l),Ch;hf(E)||pu(),n=Vh(t,n,a)}else hf(E)?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,ee=Nn(E.nextSibling),Ue=n,xt=!0,ta=null,wn=!1,t!==null&&gm(n,t),n=xh(n,l.children),n.flags|=4096);return n}return c?(la(),E=l.fallback,c=n.mode,R=t.child,B=R.sibling,l=Ci(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,B!==null?E=Ci(B,E):(E=Ja(E,c,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,ml(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Dh(a):(c=E.cachePool,c!==null?(R=Se._currentValue,c=c.parent!==R?{parent:R,pool:R}:c):c=Tm(),E={baseLanes:E.baseLanes|a,cachePool:c}),l.memoizedState=E,l.childLanes=Nh(t,g,a),n.memoizedState=wh,ml(t.child,l)):(ra(n),a=t.child,t=a.sibling,a=Ci(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function xh(t,n){return n=lu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function lu(t,n){return t=fn(22,t,null,n),t.lanes=0,t}function Vh(t,n,a){return as(n,t.child,null,a),t=xh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Mg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Qc(t.return,n,a)}function Oh(t,n,a,l,c,h){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:h}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=c,g.treeForkCount=h)}function jg(t,n,a){var l=n.pendingProps,c=l.revealOrder,h=l.tail;l=l.children;var g=de.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,tt(de,g),Pe(t,n,l,a),l=xt?el:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Mg(t,a,n);else if(t.tag===19)Mg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&Ko(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Oh(n,!1,c,a,h,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Ko(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Oh(n,!0,a,null,h,l);break;case"together":Oh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Vi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ca|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Bs(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Ci(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Ci(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Ih(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&qo(t)))}function J1(t,n,a){switch(n.tag){case 3:Qt(n,n.stateNode.containerInfo),na(n,Se,t.memoizedState.cache),$a();break;case 27:case 5:Oa(n);break;case 4:Qt(n,n.stateNode.containerInfo);break;case 10:na(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ah(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ra(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Ig(t,n,a):(ra(n),t=Vi(t,n,a),t!==null?t.sibling:null);ra(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Bs(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return jg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),tt(de,de.current),l)break;return null;case 22:return n.lanes=0,wg(t,n,a,n.pendingProps);case 24:na(n,Se,t.memoizedState.cache)}return Vi(t,n,a)}function zg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)be=!0;else{if(!Ih(t,a)&&(n.flags&128)===0)return be=!1,J1(t,n,a);be=(t.flags&131072)!==0}else be=!1,xt&&(n.flags&1048576)!==0&&mm(n,el,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=ns(n.elementType),n.type=t,typeof t=="function")Uc(t)?(l=rs(t,l),n.tag=1,n=Vg(null,n,t,l,a)):(n.tag=0,n=Rh(null,n,t,l,a));else{if(t!=null){var c=t.$$typeof;if(c===Bt){n.tag=11,n=bg(null,n,t,l,a);break t}else if(c===D){n.tag=14,n=Cg(null,n,t,l,a);break t}}throw n=te(t)||t,Error(r(306,n,""))}}return n;case 0:return Rh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=rs(l,n.pendingProps),Vg(t,n,l,c,a);case 3:t:{if(Qt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var h=n.memoizedState;c=h.element,Wc(t,n),ul(n,l,null,a);var g=n.memoizedState;if(l=g.cache,na(n,Se,l),l!==h.cache&&Yc(n,[Se],a,!0),ol(),l=g.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=Og(t,n,l,a);break t}else if(l!==c){c=bn(Error(r(424)),n),nl(c),n=Og(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ee=Nn(t.firstChild),Ue=n,xt=!0,ta=null,wn=!0,a=wm(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if($a(),l===c){n=Vi(t,n,a);break t}Pe(t,n,l,a)}n=n.child}return n;case 26:return ru(t,n),t===null?(a=Yp(n.type,null,n.pendingProps,null))?n.memoizedState=a:xt||(a=n.type,t=n.pendingProps,l=Au(et.current).createElement(a),l[ve]=n,l[Oe]=t,qe(l,a,t),Ee(l),n.stateNode=l):n.memoizedState=Yp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Oa(n),t===null&&xt&&(l=n.stateNode=Gp(n.type,n.pendingProps,et.current),Ue=n,wn=!0,c=ee,ga(n.type)?(df=c,ee=Nn(l.firstChild)):ee=c),Pe(t,n,n.pendingProps.children,a),ru(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&xt&&((c=l=ee)&&(l=w0(l,n.type,n.pendingProps,wn),l!==null?(n.stateNode=l,Ue=n,ee=Nn(l.firstChild),wn=!1,c=!0):c=!1),c||ea(n)),Oa(n),c=n.type,h=n.pendingProps,g=t!==null?t.memoizedProps:null,l=h.children,of(c,h)?l=null:g!==null&&of(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=rh(t,n,k1,null,null,a),Nl._currentValue=c),ru(t,n),Pe(t,n,l,a),n.child;case 6:return t===null&&xt&&((t=a=ee)&&(a=D0(a,n.pendingProps,wn),a!==null?(n.stateNode=a,Ue=n,ee=null,t=!0):t=!1),t||ea(n)),null;case 13:return Ig(t,n,a);case 4:return Qt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=as(n,null,l,a):Pe(t,n,l,a),n.child;case 11:return bg(t,n,n.type,n.pendingProps,a);case 7:return Pe(t,n,n.pendingProps,a),n.child;case 8:return Pe(t,n,n.pendingProps.children,a),n.child;case 12:return Pe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,na(n,n.type,l.value),Pe(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ts(n),c=Be(c),l=l(c),n.flags|=1,Pe(t,n,l,a),n.child;case 14:return Cg(t,n,n.type,n.pendingProps,a);case 15:return Rg(t,n,n.type,n.pendingProps,a);case 19:return jg(t,n,a);case 31:return Z1(t,n,a);case 22:return wg(t,n,a,n.pendingProps);case 24:return ts(n),l=Be(Se),t===null?(c=Zc(),c===null&&(c=Wt,h=Xc(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=a),c=h),n.memoizedState={parent:l,cache:c},$c(n),na(n,Se,c)):((t.lanes&a)!==0&&(Wc(t,n),ul(n,null,null,a),ol()),c=t.memoizedState,h=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),na(n,Se,l)):(l=h.cache,na(n,Se,l),l!==c.cache&&Yc(n,[Se],a,!0))),Pe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Oi(t){t.flags|=4}function Mh(t,n,a,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(up())t.flags|=8192;else throw is=Fo,Jc}else t.flags&=-16777217}function Lg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!$p(n))if(up())t.flags|=8192;else throw is=Fo,Jc}function ou(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?mo():536870912,t.lanes|=n,Js|=n)}function gl(t,n){if(!xt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ne(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function $1(t,n,a){var l=n.pendingProps;switch(kc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Di(Se),Yt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Us(n)?Oi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Gc())),ne(n),null;case 26:var c=n.type,h=n.memoizedState;return t===null?(Oi(n),h!==null?(ne(n),Lg(n,h)):(ne(n),Mh(n,c,null,l,a))):h?h!==t.memoizedState?(Oi(n),ne(n),Lg(n,h)):(ne(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Oi(n),ne(n),Mh(n,c,t,l,a)),null;case 27:if(ps(n),a=et.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Oi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ne(n),null}t=it.current,Us(n)?pm(n):(t=Gp(c,l,a),n.stateNode=t,Oi(n))}return ne(n),null;case 5:if(ps(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Oi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ne(n),null}if(h=it.current,Us(n))pm(n);else{var g=Au(et.current);switch(h){case 1:h=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:h=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":h=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":h=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":h=g.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?h.multiple=!0:l.size&&(h.size=l.size);break;default:h=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}h[ve]=n,h[Oe]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)h.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=h;t:switch(qe(h,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Oi(n)}}return ne(n),Mh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Oi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=et.current,Us(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Ue,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ve]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Ip(t.nodeValue,a)),t||ea(n,!0)}else t=Au(t).createTextNode(l),t[ve]=n,n.stateNode=t}return ne(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Us(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[ve]=n}else $a(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),t=!1}else a=Gc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(mn(n),n):(mn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ne(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Us(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[ve]=n}else $a(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),c=!1}else c=Gc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(mn(n),n):(mn(n),null)}return mn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),ou(n,n.updateQueue),ne(n),null);case 4:return Yt(),t===null&&nf(n.stateNode.containerInfo),ne(n),null;case 10:return Di(n.type),ne(n),null;case 19:if(Q(de),l=n.memoizedState,l===null)return ne(n),null;if(c=(n.flags&128)!==0,h=l.rendering,h===null)if(c)gl(l,!1);else{if(ce!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(h=Ko(t),h!==null){for(n.flags|=128,gl(l,!1),t=h.updateQueue,n.updateQueue=t,ou(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)hm(a,t),a=a.sibling;return tt(de,de.current&1|2),xt&&Ri(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Ze()>du&&(n.flags|=128,c=!0,gl(l,!1),n.lanes=4194304)}else{if(!c)if(t=Ko(h),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,ou(n,t),gl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!xt)return ne(n),null}else 2*Ze()-l.renderingStartTime>du&&a!==536870912&&(n.flags|=128,c=!0,gl(l,!1),n.lanes=4194304);l.isBackwards?(h.sibling=n.child,n.child=h):(t=l.last,t!==null?t.sibling=h:n.child=h,l.last=h)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ze(),t.sibling=null,a=de.current,tt(de,c?a&1|2:a&1),xt&&Ri(n,l.treeForkCount),t):(ne(n),null);case 22:case 23:return mn(n),ih(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),a=n.updateQueue,a!==null&&ou(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&Q(es),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Di(Se),ne(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function W1(t,n){switch(kc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Di(Se),Yt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ps(n),null;case 31:if(n.memoizedState!==null){if(mn(n),n.alternate===null)throw Error(r(340));$a()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(mn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));$a()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Q(de),null;case 4:return Yt(),null;case 10:return Di(n.type),null;case 22:case 23:return mn(n),ih(),t!==null&&Q(es),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Di(Se),null;case 25:return null;default:return null}}function Ug(t,n){switch(kc(n),n.tag){case 3:Di(Se),Yt();break;case 26:case 27:case 5:ps(n);break;case 4:Yt();break;case 31:n.memoizedState!==null&&mn(n);break;case 13:mn(n);break;case 19:Q(de);break;case 10:Di(n.type);break;case 22:case 23:mn(n),ih(),t!==null&&Q(es);break;case 24:Di(Se)}}function pl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var h=a.create,g=a.inst;l=h(),g.destroy=l}a=a.next}while(a!==c)}}catch(E){Ft(n,n.return,E)}}function oa(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var R=a,B=E;try{B()}catch(G){Ft(c,R,G)}}}l=l.next}while(l!==h)}}catch(G){Ft(n,n.return,G)}}function Bg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Nm(n,a)}catch(l){Ft(t,t.return,l)}}}function Pg(t,n,a){a.props=rs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ft(t,n,l)}}function yl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Ft(t,n,c)}}function di(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Ft(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Ft(t,n,c)}else a.current=null}function qg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Ft(t,t.return,c)}}function jh(t,n,a){try{var l=t.stateNode;T0(l,t.type,a,n),l[Oe]=n}catch(c){Ft(t,t.return,c)}}function kg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ga(t.type)||t.tag===4}function zh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||kg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ga(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=zn));else if(l!==4&&(l===27&&ga(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Lh(t,n,a),t=t.sibling;t!==null;)Lh(t,n,a),t=t.sibling}function uu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&ga(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(uu(t,n,a),t=t.sibling;t!==null;)uu(t,n,a),t=t.sibling}function Hg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);qe(n,l,a),n[ve]=t,n[Oe]=a}catch(h){Ft(t,t.return,h)}}var Ii=!1,Ce=!1,Uh=!1,Gg=typeof WeakSet=="function"?WeakSet:Set,Me=null;function t0(t,n){if(t=t.containerInfo,rf=xu,t=nm(t),Vc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break t}var g=0,E=-1,R=-1,B=0,G=0,Y=t,P=null;e:for(;;){for(var k;Y!==a||c!==0&&Y.nodeType!==3||(E=g+c),Y!==h||l!==0&&Y.nodeType!==3||(R=g+l),Y.nodeType===3&&(g+=Y.nodeValue.length),(k=Y.firstChild)!==null;)P=Y,Y=k;for(;;){if(Y===t)break e;if(P===a&&++B===c&&(E=g),P===h&&++G===l&&(R=g),(k=Y.nextSibling)!==null)break;Y=P,P=Y.parentNode}Y=k}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(lf={focusedElem:t,selectionRange:a},xu=!1,Me=n;Me!==null;)if(n=Me,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Me=t;else for(;Me!==null;){switch(n=Me,h=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,a=n,c=h.memoizedProps,h=h.memoizedState,l=a.stateNode;try{var st=rs(a.type,c);t=l.getSnapshotBeforeUpdate(st,h),l.__reactInternalSnapshotBeforeUpdate=t}catch(ht){Ft(a,a.return,ht)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)cf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":cf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Me=t;break}Me=n.return}}function Fg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ji(t,a),l&4&&pl(5,a);break;case 1:if(ji(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){Ft(a,a.return,g)}else{var c=rs(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Ft(a,a.return,g)}}l&64&&Bg(a),l&512&&yl(a,a.return);break;case 3:if(ji(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Nm(t,n)}catch(g){Ft(a,a.return,g)}}break;case 27:n===null&&l&4&&Hg(a);case 26:case 5:ji(t,a),n===null&&l&4&&qg(a),l&512&&yl(a,a.return);break;case 12:ji(t,a);break;case 31:ji(t,a),l&4&&Xg(t,a);break;case 13:ji(t,a),l&4&&Kg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=u0.bind(null,a),N0(t,a))));break;case 22:if(l=a.memoizedState!==null||Ii,!l){n=n!==null&&n.memoizedState!==null||Ce,c=Ii;var h=Ce;Ii=l,(Ce=n)&&!h?zi(t,a,(a.subtreeFlags&8772)!==0):ji(t,a),Ii=c,Ce=h}break;case 30:break;default:ji(t,a)}}function Qg(t){var n=t.alternate;n!==null&&(t.alternate=null,Qg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ts(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ae=null,en=!1;function Mi(t,n,a){for(a=a.child;a!==null;)Yg(t,n,a),a=a.sibling}function Yg(t,n,a){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(On,a)}catch{}switch(a.tag){case 26:Ce||di(a,n),Mi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ce||di(a,n);var l=ae,c=en;ga(a.type)&&(ae=a.stateNode,en=!1),Mi(t,n,a),Rl(a.stateNode),ae=l,en=c;break;case 5:Ce||di(a,n);case 6:if(l=ae,c=en,ae=null,Mi(t,n,a),ae=l,en=c,ae!==null)if(en)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(a.stateNode)}catch(h){Ft(a,n,h)}else try{ae.removeChild(a.stateNode)}catch(h){Ft(a,n,h)}break;case 18:ae!==null&&(en?(t=ae,Bp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),sr(t)):Bp(ae,a.stateNode));break;case 4:l=ae,c=en,ae=a.stateNode.containerInfo,en=!0,Mi(t,n,a),ae=l,en=c;break;case 0:case 11:case 14:case 15:oa(2,a,n),Ce||oa(4,a,n),Mi(t,n,a);break;case 1:Ce||(di(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Pg(a,n,l)),Mi(t,n,a);break;case 21:Mi(t,n,a);break;case 22:Ce=(l=Ce)||a.memoizedState!==null,Mi(t,n,a),Ce=l;break;default:Mi(t,n,a)}}function Xg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{sr(t)}catch(a){Ft(n,n.return,a)}}}function Kg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{sr(t)}catch(a){Ft(n,n.return,a)}}function e0(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Gg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Gg),n;default:throw Error(r(435,t.tag))}}function cu(t,n){var a=e0(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=c0.bind(null,t,l);l.then(c,c)}})}function nn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],h=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(ga(E.type)){ae=E.stateNode,en=!1;break t}break;case 5:ae=E.stateNode,en=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,en=!0;break t}E=E.return}if(ae===null)throw Error(r(160));Yg(h,g,c),ae=null,en=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Zg(n,t),n=n.sibling}var kn=null;function Zg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:nn(n,t),an(t),l&4&&(oa(3,t,t.return),pl(3,t),oa(5,t,t.return));break;case 1:nn(n,t),an(t),l&512&&(Ce||a===null||di(a,a.return)),l&64&&Ii&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=kn;if(nn(n,t),an(t),l&512&&(Ce||a===null||di(a,a.return)),l&4){var h=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":h=c.getElementsByTagName("title")[0],(!h||h[Wn]||h[ve]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(l),c.head.insertBefore(h,c.querySelector("head > title"))),qe(h,l,a),h[ve]=t,Ee(h),l=h;break t;case"link":var g=Zp("link","href",c).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(h=g[E],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}h=c.createElement(l),qe(h,l,a),c.head.appendChild(h);break;case"meta":if(g=Zp("meta","content",c).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(h=g[E],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}h=c.createElement(l),qe(h,l,a),c.head.appendChild(h);break;default:throw Error(r(468,l))}h[ve]=t,Ee(h),l=h}t.stateNode=l}else Jp(c,t.type,t.stateNode);else t.stateNode=Kp(c,l,t.memoizedProps);else h!==l?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,l===null?Jp(c,t.type,t.stateNode):Kp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&jh(t,t.memoizedProps,a.memoizedProps)}break;case 27:nn(n,t),an(t),l&512&&(Ce||a===null||di(a,a.return)),a!==null&&l&4&&jh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(nn(n,t),an(t),l&512&&(Ce||a===null||di(a,a.return)),t.flags&32){c=t.stateNode;try{tn(c,"")}catch(st){Ft(t,t.return,st)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,jh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Uh=!0);break;case 6:if(nn(n,t),an(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(st){Ft(t,t.return,st)}}break;case 3:if(Ru=null,c=kn,kn=bu(n.containerInfo),nn(n,t),kn=c,an(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{sr(n.containerInfo)}catch(st){Ft(t,t.return,st)}Uh&&(Uh=!1,Jg(t));break;case 4:l=kn,kn=bu(t.stateNode.containerInfo),nn(n,t),an(t),kn=l;break;case 12:nn(n,t),an(t);break;case 31:nn(n,t),an(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,cu(t,l)));break;case 13:nn(n,t),an(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(fu=Ze()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,cu(t,l)));break;case 22:c=t.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,B=Ii,G=Ce;if(Ii=B||c,Ce=G||R,nn(n,t),Ce=G,Ii=B,an(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||R||Ii||Ce||ls(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(h=R.stateNode,c)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var Y=R.memoizedProps.style,P=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(st){Ft(R,R.return,st)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(st){Ft(R,R.return,st)}}}else if(n.tag===18){if(a===null){R=n;try{var k=R.stateNode;c?Pp(k,!0):Pp(R.stateNode,!1)}catch(st){Ft(R,R.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,cu(t,a))));break;case 19:nn(n,t),an(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,cu(t,l)));break;case 30:break;case 21:break;default:nn(n,t),an(t)}}function an(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(kg(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,h=zh(t);uu(t,h,c);break;case 5:var g=a.stateNode;a.flags&32&&(tn(g,""),a.flags&=-33);var E=zh(t);uu(t,E,g);break;case 3:case 4:var R=a.stateNode.containerInfo,B=zh(t);Lh(t,B,R);break;default:throw Error(r(161))}}catch(G){Ft(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Jg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Jg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ji(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Fg(t,n.alternate,n),n=n.sibling}function ls(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:oa(4,n,n.return),ls(n);break;case 1:di(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Pg(n,n.return,a),ls(n);break;case 27:Rl(n.stateNode);case 26:case 5:di(n,n.return),ls(n);break;case 22:n.memoizedState===null&&ls(n);break;case 30:ls(n);break;default:ls(n)}t=t.sibling}}function zi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,h=n,g=h.flags;switch(h.tag){case 0:case 11:case 15:zi(c,h,a),pl(4,h);break;case 1:if(zi(c,h,a),l=h,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Ft(l,l.return,B)}if(l=h,c=l.updateQueue,c!==null){var E=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)Dm(R[c],E)}catch(B){Ft(l,l.return,B)}}a&&g&64&&Bg(h),yl(h,h.return);break;case 27:Hg(h);case 26:case 5:zi(c,h,a),a&&l===null&&g&4&&qg(h),yl(h,h.return);break;case 12:zi(c,h,a);break;case 31:zi(c,h,a),a&&g&4&&Xg(c,h);break;case 13:zi(c,h,a),a&&g&4&&Kg(c,h);break;case 22:h.memoizedState===null&&zi(c,h,a),yl(h,h.return);break;case 30:break;default:zi(c,h,a)}n=n.sibling}}function Bh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&il(a))}function Ph(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&il(t))}function Hn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)$g(t,n,a,l),n=n.sibling}function $g(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Hn(t,n,a,l),c&2048&&pl(9,n);break;case 1:Hn(t,n,a,l);break;case 3:Hn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&il(t)));break;case 12:if(c&2048){Hn(t,n,a,l),t=n.stateNode;try{var h=n.memoizedProps,g=h.id,E=h.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Ft(n,n.return,R)}}else Hn(t,n,a,l);break;case 31:Hn(t,n,a,l);break;case 13:Hn(t,n,a,l);break;case 23:break;case 22:h=n.stateNode,g=n.alternate,n.memoizedState!==null?h._visibility&2?Hn(t,n,a,l):_l(t,n):h._visibility&2?Hn(t,n,a,l):(h._visibility|=2,Xs(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Bh(g,n);break;case 24:Hn(t,n,a,l),c&2048&&Ph(n.alternate,n);break;default:Hn(t,n,a,l)}}function Xs(t,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=t,g=n,E=a,R=l,B=g.flags;switch(g.tag){case 0:case 11:case 15:Xs(h,g,E,R,c),pl(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?Xs(h,g,E,R,c):_l(h,g):(G._visibility|=2,Xs(h,g,E,R,c)),c&&B&2048&&Bh(g.alternate,g);break;case 24:Xs(h,g,E,R,c),c&&B&2048&&Ph(g.alternate,g);break;default:Xs(h,g,E,R,c)}n=n.sibling}}function _l(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:_l(a,l),c&2048&&Bh(l.alternate,l);break;case 24:_l(a,l),c&2048&&Ph(l.alternate,l);break;default:_l(a,l)}n=n.sibling}}var vl=8192;function Ks(t,n,a){if(t.subtreeFlags&vl)for(t=t.child;t!==null;)Wg(t,n,a),t=t.sibling}function Wg(t,n,a){switch(t.tag){case 26:Ks(t,n,a),t.flags&vl&&t.memoizedState!==null&&q0(a,kn,t.memoizedState,t.memoizedProps);break;case 5:Ks(t,n,a);break;case 3:case 4:var l=kn;kn=bu(t.stateNode.containerInfo),Ks(t,n,a),kn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=vl,vl=16777216,Ks(t,n,a),vl=l):Ks(t,n,a));break;default:Ks(t,n,a)}}function tp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function El(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Me=l,np(l,t)}tp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ep(t),t=t.sibling}function ep(t){switch(t.tag){case 0:case 11:case 15:El(t),t.flags&2048&&oa(9,t,t.return);break;case 3:El(t);break;case 12:El(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,hu(t)):El(t);break;default:El(t)}}function hu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Me=l,np(l,t)}tp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:oa(8,n,n.return),hu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,hu(n));break;default:hu(n)}t=t.sibling}}function np(t,n){for(;Me!==null;){var a=Me;switch(a.tag){case 0:case 11:case 15:oa(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:il(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Me=l;else t:for(a=t;Me!==null;){l=Me;var c=l.sibling,h=l.return;if(Qg(l),l===a){Me=null;break t}if(c!==null){c.return=h,Me=c;break t}Me=h}}}var n0={getCacheForType:function(t){var n=Be(Se),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Be(Se).controller.signal}},i0=typeof WeakMap=="function"?WeakMap:Map,kt=0,Wt=null,Ct=null,Dt=0,Gt=0,gn=null,ua=!1,Zs=!1,qh=!1,Li=0,ce=0,ca=0,os=0,kh=0,pn=0,Js=0,Tl=null,sn=null,Hh=!1,fu=0,ip=0,du=1/0,mu=null,ha=null,xe=0,fa=null,$s=null,Ui=0,Gh=0,Fh=null,ap=null,Sl=0,Qh=null;function yn(){return(kt&2)!==0&&Dt!==0?Dt&-Dt:H.T!==null?$h():go()}function sp(){if(pn===0)if((Dt&536870912)===0||xt){var t=ja;ja<<=1,(ja&3932160)===0&&(ja=262144),pn=t}else pn=536870912;return t=dn.current,t!==null&&(t.flags|=32),pn}function rn(t,n,a){(t===Wt&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(Ws(t,0),da(t,Dt,pn,!1)),za(t,a),((kt&2)===0||t!==Wt)&&(t===Wt&&((kt&2)===0&&(os|=a),ce===4&&da(t,Dt,pn,!1)),mi(t))}function rp(t,n,a){if((kt&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||In(t,n),c=l?r0(t,n):Xh(t,n,!0),h=l;do{if(c===0){Zs&&!l&&da(t,n,0,!1);break}else{if(a=t.current.alternate,h&&!a0(a)){c=Xh(t,n,!1),h=!1;continue}if(c===2){if(h=n,t.errorRecoveryDisabledLanes&h)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=Tl;var R=E.current.memoizedState.isDehydrated;if(R&&(Ws(E,g).flags|=256),g=Xh(E,g,!1),g!==2){if(qh&&!R){E.errorRecoveryDisabledLanes|=h,os|=h,c=4;break t}h=sn,sn=c,h!==null&&(sn===null?sn=h:sn.push.apply(sn,h))}c=g}if(h=!1,c!==2)continue}}if(c===1){Ws(t,0),da(t,n,0,!0);break}t:{switch(l=t,h=c,h){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:da(l,n,pn,!ua);break t;case 2:sn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=fu+300-Ze(),10<c)){if(da(l,n,pn,!ua),Zn(l,0,!0)!==0)break t;Ui=n,l.timeoutHandle=Lp(lp.bind(null,l,a,sn,mu,Hh,n,pn,os,Js,ua,h,"Throttled",-0,0),c);break t}lp(l,a,sn,mu,Hh,n,pn,os,Js,ua,h,null,-0,0)}}break}while(!0);mi(t)}function lp(t,n,a,l,c,h,g,E,R,B,G,Y,P,k){if(t.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zn},Wg(n,h,Y);var st=(h&62914560)===h?fu-Ze():(h&4194048)===h?ip-Ze():0;if(st=k0(Y,st),st!==null){Ui=h,t.cancelPendingCommit=st(gp.bind(null,t,n,h,a,l,c,g,E,R,G,Y,null,P,k)),da(t,h,g,!B);return}}gp(t,n,h,a,l,c,g,E,R)}function a0(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],h=c.getSnapshot;c=c.value;try{if(!hn(h(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function da(t,n,a,l){n&=~kh,n&=~os,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var h=31-he(c),g=1<<h;l[h]=-1,c&=~g}a!==0&&La(t,a,n)}function gu(){return(kt&6)===0?(Al(0),!1):!0}function Yh(){if(Ct!==null){if(Gt===0)var t=Ct.return;else t=Ct,wi=Wa=null,uh(t),Hs=null,sl=0,t=Ct;for(;t!==null;)Ug(t.alternate,t),t=t.return;Ct=null}}function Ws(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,b0(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ui=0,Yh(),Wt=t,Ct=a=Ci(t.current,null),Dt=n,Gt=0,gn=null,ua=!1,Zs=In(t,n),qh=!1,Js=pn=kh=os=ca=ce=0,sn=Tl=null,Hh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-he(l),h=1<<c;n|=t[c],l&=~h}return Li=n,zo(),a}function op(t,n){vt=null,H.H=dl,n===ks||n===Go?(n=bm(),Gt=3):n===Jc?(n=bm(),Gt=4):Gt=n===Ch?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,gn=n,Ct===null&&(ce=1,au(t,bn(n,t.current)))}function up(){var t=dn.current;return t===null?!0:(Dt&4194048)===Dt?Dn===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?t===Dn:!1}function cp(){var t=H.H;return H.H=dl,t===null?dl:t}function hp(){var t=H.A;return H.A=n0,t}function pu(){ce=4,ua||(Dt&4194048)!==Dt&&dn.current!==null||(Zs=!0),(ca&134217727)===0&&(os&134217727)===0||Wt===null||da(Wt,Dt,pn,!1)}function Xh(t,n,a){var l=kt;kt|=2;var c=cp(),h=hp();(Wt!==t||Dt!==n)&&(mu=null,Ws(t,n)),n=!1;var g=ce;t:do try{if(Gt!==0&&Ct!==null){var E=Ct,R=gn;switch(Gt){case 8:Yh(),g=6;break t;case 3:case 2:case 9:case 6:dn.current===null&&(n=!0);var B=Gt;if(Gt=0,gn=null,tr(t,E,R,B),a&&Zs){g=0;break t}break;default:B=Gt,Gt=0,gn=null,tr(t,E,R,B)}}s0(),g=ce;break}catch(G){op(t,G)}while(!0);return n&&t.shellSuspendCounter++,wi=Wa=null,kt=l,H.H=c,H.A=h,Ct===null&&(Wt=null,Dt=0,zo()),g}function s0(){for(;Ct!==null;)fp(Ct)}function r0(t,n){var a=kt;kt|=2;var l=cp(),c=hp();Wt!==t||Dt!==n?(mu=null,du=Ze()+500,Ws(t,n)):Zs=In(t,n);t:do try{if(Gt!==0&&Ct!==null){n=Ct;var h=gn;e:switch(Gt){case 1:Gt=0,gn=null,tr(t,n,h,1);break;case 2:case 9:if(Sm(h)){Gt=0,gn=null,dp(n);break}n=function(){Gt!==2&&Gt!==9||Wt!==t||(Gt=7),mi(t)},h.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Sm(h)?(Gt=0,gn=null,dp(n)):(Gt=0,gn=null,tr(t,n,h,7));break;case 5:var g=null;switch(Ct.tag){case 26:g=Ct.memoizedState;case 5:case 27:var E=Ct;if(g?$p(g):E.stateNode.complete){Gt=0,gn=null;var R=E.sibling;if(R!==null)Ct=R;else{var B=E.return;B!==null?(Ct=B,yu(B)):Ct=null}break e}}Gt=0,gn=null,tr(t,n,h,5);break;case 6:Gt=0,gn=null,tr(t,n,h,6);break;case 8:Yh(),ce=6;break t;default:throw Error(r(462))}}l0();break}catch(G){op(t,G)}while(!0);return wi=Wa=null,H.H=l,H.A=c,kt=a,Ct!==null?0:(Wt=null,Dt=0,zo(),ce)}function l0(){for(;Ct!==null&&!bc();)fp(Ct)}function fp(t){var n=zg(t.alternate,t,Li);t.memoizedProps=t.pendingProps,n===null?yu(t):Ct=n}function dp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=xg(a,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=xg(a,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:uh(n);default:Ug(a,n),n=Ct=hm(n,Li),n=zg(a,n,Li)}t.memoizedProps=t.pendingProps,n===null?yu(t):Ct=n}function tr(t,n,a,l){wi=Wa=null,uh(n),Hs=null,sl=0;var c=n.return;try{if(K1(t,c,n,a,Dt)){ce=1,au(t,bn(a,t.current)),Ct=null;return}}catch(h){if(c!==null)throw Ct=c,h;ce=1,au(t,bn(a,t.current)),Ct=null;return}n.flags&32768?(xt||l===1?t=!0:Zs||(Dt&536870912)!==0?t=!1:(ua=t=!0,(l===2||l===9||l===3||l===6)&&(l=dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),mp(n,t)):yu(n)}function yu(t){var n=t;do{if((n.flags&32768)!==0){mp(n,ua);return}t=n.return;var a=$1(n.alternate,n,Li);if(a!==null){Ct=a;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=t}while(n!==null);ce===0&&(ce=5)}function mp(t,n){do{var a=W1(t.alternate,t);if(a!==null){a.flags&=32767,Ct=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ct=t;return}Ct=t=a}while(t!==null);ce=6,Ct=null}function gp(t,n,a,l,c,h,g,E,R){t.cancelPendingCommit=null;do _u();while(xe!==0);if((kt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(h=n.lanes|n.childLanes,h|=zc,wc(t,a,h,g,E,R),t===Wt&&(Ct=Wt=null,Dt=0),$s=n,fa=t,Ui=a,Gh=h,Fh=c,ap=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,h0(Hi,function(){return Ep(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=W.p,W.p=2,g=kt,kt|=4;try{t0(t,n,a)}finally{kt=g,W.p=c,H.T=l}}xe=1,pp(),yp(),_p()}}function pp(){if(xe===1){xe=0;var t=fa,n=$s,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=W.p;W.p=2;var c=kt;kt|=4;try{Zg(n,t);var h=lf,g=nm(t.containerInfo),E=h.focusedElem,R=h.selectionRange;if(g!==E&&E&&E.ownerDocument&&em(E.ownerDocument.documentElement,E)){if(R!==null&&Vc(E)){var B=R.start,G=R.end;if(G===void 0&&(G=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,P=Y&&Y.defaultView||window;if(P.getSelection){var k=P.getSelection(),st=E.textContent.length,ht=Math.min(R.start,st),Jt=R.end===void 0?ht:Math.min(R.end,st);!k.extend&&ht>Jt&&(g=Jt,Jt=ht,ht=g);var j=tm(E,ht),x=tm(E,Jt);if(j&&x&&(k.rangeCount!==1||k.anchorNode!==j.node||k.anchorOffset!==j.offset||k.focusNode!==x.node||k.focusOffset!==x.offset)){var U=Y.createRange();U.setStart(j.node,j.offset),k.removeAllRanges(),ht>Jt?(k.addRange(U),k.extend(x.node,x.offset)):(U.setEnd(x.node,x.offset),k.addRange(U))}}}}for(Y=[],k=E;k=k.parentNode;)k.nodeType===1&&Y.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var F=Y[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}xu=!!rf,lf=rf=null}finally{kt=c,W.p=l,H.T=a}}t.current=n,xe=2}}function yp(){if(xe===2){xe=0;var t=fa,n=$s,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=W.p;W.p=2;var c=kt;kt|=4;try{Fg(t,n.alternate,n)}finally{kt=c,W.p=l,H.T=a}}xe=3}}function _p(){if(xe===4||xe===3){xe=0,lo();var t=fa,n=$s,a=Ui,l=ap;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?xe=5:(xe=0,$s=fa=null,vp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ha=null),Ti(a),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(On,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=W.p,W.p=2,H.T=null;try{for(var h=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];h(E.value,{componentStack:E.stack})}}finally{H.T=n,W.p=c}}(Ui&3)!==0&&_u(),mi(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===Qh?Sl++:(Sl=0,Qh=t):Sl=0,Al(0)}}function vp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,il(n)))}function _u(){return pp(),yp(),_p(),Ep()}function Ep(){if(xe!==5)return!1;var t=fa,n=Gh;Gh=0;var a=Ti(Ui),l=H.T,c=W.p;try{W.p=32>a?32:a,H.T=null,a=Fh,Fh=null;var h=fa,g=Ui;if(xe=0,$s=fa=null,Ui=0,(kt&6)!==0)throw Error(r(331));var E=kt;if(kt|=4,ep(h.current),$g(h,h.current,g,a),kt=E,Al(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(On,h)}catch{}return!0}finally{W.p=c,H.T=l,vp(t,n)}}function Tp(t,n,a){n=bn(a,n),n=bh(t.stateNode,n,2),t=sa(t,n,2),t!==null&&(za(t,2),mi(t))}function Ft(t,n,a){if(t.tag===3)Tp(t,t,a);else for(;n!==null;){if(n.tag===3){Tp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ha===null||!ha.has(l))){t=bn(a,t),a=Sg(2),l=sa(n,a,2),l!==null&&(Ag(a,l,n,t),za(l,2),mi(l));break}}n=n.return}}function Kh(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new i0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(qh=!0,c.add(a),t=o0.bind(null,t,n,a),n.then(t,t))}function o0(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Wt===t&&(Dt&a)===a&&(ce===4||ce===3&&(Dt&62914560)===Dt&&300>Ze()-fu?(kt&2)===0&&Ws(t,0):kh|=a,Js===Dt&&(Js=0)),mi(t)}function Sp(t,n){n===0&&(n=mo()),t=Za(t,n),t!==null&&(za(t,n),mi(t))}function u0(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Sp(t,a)}function c0(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Sp(t,a)}function h0(t,n){return Ne(t,n)}var vu=null,er=null,Zh=!1,Eu=!1,Jh=!1,ma=0;function mi(t){t!==er&&t.next===null&&(er===null?vu=er=t:er=er.next=t),Eu=!0,Zh||(Zh=!0,d0())}function Al(t,n){if(!Jh&&Eu){Jh=!0;do for(var a=!1,l=vu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var h=0;else{var g=l.suspendedLanes,E=l.pingedLanes;h=(1<<31-he(42|t)+1)-1,h&=c&~(g&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,Rp(l,h))}else h=Dt,h=Zn(l,l===Wt?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||In(l,h)||(a=!0,Rp(l,h));l=l.next}while(a);Jh=!1}}function f0(){Ap()}function Ap(){Eu=Zh=!1;var t=0;ma!==0&&A0()&&(t=ma);for(var n=Ze(),a=null,l=vu;l!==null;){var c=l.next,h=bp(l,n);h===0?(l.next=null,a===null?vu=c:a.next=c,c===null&&(er=a)):(a=l,(t!==0||(h&3)!==0)&&(Eu=!0)),l=c}xe!==0&&xe!==5||Al(t),ma!==0&&(ma=0)}function bp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var g=31-he(h),E=1<<g,R=c[g];R===-1?((E&a)===0||(E&l)!==0)&&(c[g]=Rc(E,n)):R<=n&&(t.expiredLanes|=E),h&=~E}if(n=Wt,a=Dt,a=Zn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ki(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||In(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&ki(l),Ti(a)){case 2:case 8:a=Ir;break;case 32:a=Hi;break;case 268435456:a=oo;break;default:a=Hi}return l=Cp.bind(null,t),a=Ne(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&ki(l),t.callbackPriority=2,t.callbackNode=null,2}function Cp(t,n){if(xe!==0&&xe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(_u()&&t.callbackNode!==a)return null;var l=Dt;return l=Zn(t,t===Wt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(rp(t,l,n),bp(t,Ze()),t.callbackNode!=null&&t.callbackNode===a?Cp.bind(null,t):null)}function Rp(t,n){if(_u())return null;rp(t,n,!0)}function d0(){C0(function(){(kt&6)!==0?Ne(Or,f0):Ap()})}function $h(){if(ma===0){var t=Ps;t===0&&(t=Xn,Xn<<=1,(Xn&261888)===0&&(Xn=256)),ma=t}return ma}function wp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Cs(""+t)}function Dp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function m0(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var h=wp((c[Oe]||null).action),g=l.submitter;g&&(n=(n=g[Oe]||null)?wp(n.formAction):g.getAttribute("formAction"),n!==null&&(h=n,g=null));var E=new li("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ma!==0){var R=g?Dp(c,g):new FormData(c);_h(a,{pending:!0,data:R,method:c.method,action:h},null,R)}}else typeof h=="function"&&(E.preventDefault(),R=g?Dp(c,g):new FormData(c),_h(a,{pending:!0,data:R,method:c.method,action:h},h,R))},currentTarget:c}]})}}for(var Wh=0;Wh<jc.length;Wh++){var tf=jc[Wh],g0=tf.toLowerCase(),p0=tf[0].toUpperCase()+tf.slice(1);qn(g0,"on"+p0)}qn(sm,"onAnimationEnd"),qn(rm,"onAnimationIteration"),qn(lm,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(O1,"onTransitionRun"),qn(I1,"onTransitionStart"),qn(M1,"onTransitionCancel"),qn(om,"onTransitionEnd"),ii("onMouseEnter",["mouseout","mouseover"]),ii("onMouseLeave",["mouseout","mouseover"]),ii("onPointerEnter",["pointerout","pointerover"]),ii("onPointerLeave",["pointerout","pointerover"]),ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bl));function Np(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var h=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],R=E.instance,B=E.currentTarget;if(E=E.listener,R!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=B;try{h(c)}catch(G){jo(G)}c.currentTarget=null,h=R}else for(g=0;g<l.length;g++){if(E=l[g],R=E.instance,B=E.currentTarget,E=E.listener,R!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=B;try{h(c)}catch(G){jo(G)}c.currentTarget=null,h=R}}}}function Rt(t,n){var a=n[Es];a===void 0&&(a=n[Es]=new Set);var l=t+"__bubble";a.has(l)||(xp(n,t,2,!1),a.add(l))}function ef(t,n,a){var l=0;n&&(l|=4),xp(a,t,l,n)}var Tu="_reactListening"+Math.random().toString(36).slice(2);function nf(t){if(!t[Tu]){t[Tu]=!0,zr.forEach(function(a){a!=="selectionchange"&&(y0.has(a)||ef(a,!1,t),ef(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Tu]||(n[Tu]=!0,ef("selectionchange",!1,n))}}function xp(t,n,a,l){switch(sy(n)){case 2:var c=F0;break;case 8:c=Q0;break;default:c=_f}a=c.bind(null,n,a,t),c=void 0,!ka||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function af(t,n,a,l,c){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=ti(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){l=h=g;continue t}E=E.parentNode}}l=l.return}Ki(function(){var B=h,G=En(a),Y=[];t:{var P=um.get(t);if(P!==void 0){var k=li,st=t;switch(t){case"keypress":if(Ga(a)===0)break t;case"keydown":case"keyup":k=Oo;break;case"focusin":st="focus",k=Qa;break;case"focusout":st="blur",k=Qa;break;case"beforeblur":case"afterblur":k=Qa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Kr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Ao;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=m;break;case sm:case rm:case lm:k=Co;break;case om:k=T;break;case"scroll":case"scrollend":k=Xr;break;case"wheel":k=q;break;case"copy":case"cut":case"paste":k=Ro;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=bi;break;case"toggle":case"beforetoggle":k=_t}var ht=(n&4)!==0,Jt=!ht&&(t==="scroll"||t==="scrollend"),j=ht?P!==null?P+"Capture":null:P;ht=[];for(var x=B,U;x!==null;){var F=x;if(U=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||U===null||j===null||(F=Ln(x,j),F!=null&&ht.push(Cl(x,F,U))),Jt)break;x=x.return}0<ht.length&&(P=new k(P,st,null,a,G),Y.push({event:P,listeners:ht}))}}if((n&7)===0){t:{if(P=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",P&&a!==Fr&&(st=a.relatedTarget||a.fromElement)&&(ti(st)||st[$n]))break t;if((k||P)&&(P=G.window===G?G:(P=G.ownerDocument)?P.defaultView||P.parentWindow:window,k?(st=a.relatedTarget||a.toElement,k=B,st=st?ti(st):null,st!==null&&(Jt=f(st),ht=st.tag,st!==Jt||ht!==5&&ht!==27&&ht!==6)&&(st=null)):(k=null,st=B),k!==st)){if(ht=Kr,F="onMouseLeave",j="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(ht=bi,F="onPointerLeave",j="onPointerEnter",x="pointer"),Jt=k==null?P:un(k),U=st==null?P:un(st),P=new ht(F,x+"leave",k,a,G),P.target=Jt,P.relatedTarget=U,F=null,ti(G)===B&&(ht=new ht(j,x+"enter",st,a,G),ht.target=U,ht.relatedTarget=Jt,F=ht),Jt=F,k&&st)e:{for(ht=_0,j=k,x=st,U=0,F=j;F;F=ht(F))U++;F=0;for(var ct=x;ct;ct=ht(ct))F++;for(;0<U-F;)j=ht(j),U--;for(;0<F-U;)x=ht(x),F--;for(;U--;){if(j===x||x!==null&&j===x.alternate){ht=j;break e}j=ht(j),x=ht(x)}ht=null}else ht=null;k!==null&&Vp(Y,P,k,ht,!1),st!==null&&Jt!==null&&Vp(Y,Jt,st,ht,!0)}}t:{if(P=B?un(B):window,k=P.nodeName&&P.nodeName.toLowerCase(),k==="select"||k==="input"&&P.type==="file")var Lt=Xd;else if(Qd(P))if(Kd)Lt=N1;else{Lt=w1;var ot=R1}else k=P.nodeName,!k||k.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?B&&bs(B.elementType)&&(Lt=Xd):Lt=D1;if(Lt&&(Lt=Lt(t,B))){Yd(Y,Lt,a,G);break t}ot&&ot(t,P,B),t==="focusout"&&B&&P.type==="number"&&B.memoizedProps.value!=null&&kr(P,"number",P.value)}switch(ot=B?un(B):window,t){case"focusin":(Qd(ot)||ot.contentEditable==="true")&&(Os=ot,Oc=B,tl=null);break;case"focusout":tl=Oc=Os=null;break;case"mousedown":Ic=!0;break;case"contextmenu":case"mouseup":case"dragend":Ic=!1,im(Y,a,G);break;case"selectionchange":if(V1)break;case"keydown":case"keyup":im(Y,a,G)}var Et;if(qt)t:{switch(t){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else Vs?Ya(t,a)&&(Nt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Nt="onCompositionStart");Nt&&(ci&&a.locale!=="ko"&&(Vs||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&Vs&&(Et=Yr()):(ri=G,Qr="value"in ri?ri.value:ri.textContent,Vs=!0)),ot=Su(B,Nt),0<ot.length&&(Nt=new ui(Nt,t,null,a,G),Y.push({event:Nt,listeners:ot}),Et?Nt.data=Et:(Et=xs(a),Et!==null&&(Nt.data=Et)))),(Et=Sn?S1(t,a):A1(t,a))&&(Nt=Su(B,"onBeforeInput"),0<Nt.length&&(ot=new ui("onBeforeInput","beforeinput",null,a,G),Y.push({event:ot,listeners:Nt}),ot.data=Et)),m0(Y,t,B,a,G)}Np(Y,n)})}function Cl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Su(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Ln(t,a),c!=null&&l.unshift(Cl(t,c,h)),c=Ln(t,n),c!=null&&l.push(Cl(t,c,h))),t.tag===3)return l;t=t.return}return[]}function _0(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Vp(t,n,a,l,c){for(var h=n._reactName,g=[];a!==null&&a!==l;){var E=a,R=E.alternate,B=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||B===null||(R=B,c?(B=Ln(a,h),B!=null&&g.unshift(Cl(a,B,R))):c||(B=Ln(a,h),B!=null&&g.push(Cl(a,B,R)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var v0=/\r\n?/g,E0=/\u0000|\uFFFD/g;function Op(t){return(typeof t=="string"?t:""+t).replace(v0,`
`).replace(E0,"")}function Ip(t,n){return n=Op(n),Op(t)===n}function Zt(t,n,a,l,c,h){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||tn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&tn(t,""+l);break;case"className":cn(t,"class",l);break;case"tabIndex":cn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":cn(t,a,l);break;case"style":Gr(t,l,h);break;case"data":if(n!=="object"){cn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Cs(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(n!=="input"&&Zt(t,n,"name",c.name,c,null),Zt(t,n,"formEncType",c.formEncType,c,null),Zt(t,n,"formMethod",c.formMethod,c,null),Zt(t,n,"formTarget",c.formTarget,c,null)):(Zt(t,n,"encType",c.encType,c,null),Zt(t,n,"method",c.method,c,null),Zt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Cs(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=zn);break;case"onScroll":l!=null&&Rt("scroll",t);break;case"onScrollEnd":l!=null&&Rt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Cs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Rt("beforetoggle",t),Rt("toggle",t),Ss(t,"popover",l);break;case"xlinkActuate":Te(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Te(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Te(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Te(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Te(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Te(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Te(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Te(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Te(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ss(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=So.get(a)||a,Ss(t,a,l))}}function sf(t,n,a,l,c,h){switch(a){case"style":Gr(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?tn(t,l):(typeof l=="number"||typeof l=="bigint")&&tn(t,""+l);break;case"onScroll":l!=null&&Rt("scroll",t);break;case"onScrollEnd":l!=null&&Rt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),h=t[Oe]||null,h=h!=null?h[a]:null,typeof h=="function"&&t.removeEventListener(n,h,c),typeof l=="function")){typeof h!="function"&&h!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ss(t,a,l)}}}function qe(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",t),Rt("load",t);var l=!1,c=!1,h;for(h in a)if(a.hasOwnProperty(h)){var g=a[h];if(g!=null)switch(h){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Zt(t,n,h,g,a,null)}}c&&Zt(t,n,"srcSet",a.srcSet,a,null),l&&Zt(t,n,"src",a.src,a,null);return;case"input":Rt("invalid",t);var E=h=g=c=null,R=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":c=G;break;case"type":g=G;break;case"checked":R=G;break;case"defaultChecked":B=G;break;case"value":h=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:Zt(t,n,l,G,a,null)}}vo(t,h,E,R,B,g,c,!1);return;case"select":Rt("invalid",t),l=g=h=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":h=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Zt(t,n,c,E,a,null)}n=h,a=g,t.multiple=!!l,n!=null?Fi(t,!!l,n,!1):a!=null&&Fi(t,!!l,a,!0);return;case"textarea":Rt("invalid",t),h=c=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Zt(t,n,g,E,a,null)}Qi(t,l,c,h);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Zt(t,n,R,l,a,null)}return;case"dialog":Rt("beforetoggle",t),Rt("toggle",t),Rt("cancel",t),Rt("close",t);break;case"iframe":case"object":Rt("load",t);break;case"video":case"audio":for(l=0;l<bl.length;l++)Rt(bl[l],t);break;case"image":Rt("error",t),Rt("load",t);break;case"details":Rt("toggle",t);break;case"embed":case"source":case"link":Rt("error",t),Rt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Zt(t,n,B,l,a,null)}return;default:if(bs(n)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&sf(t,n,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Zt(t,n,E,l,a,null))}function T0(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,g=null,E=null,R=null,B=null,G=null;for(k in a){var Y=a[k];if(a.hasOwnProperty(k)&&Y!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":R=Y;default:l.hasOwnProperty(k)||Zt(t,n,k,null,l,Y)}}for(var P in l){var k=l[P];if(Y=a[P],l.hasOwnProperty(P)&&(k!=null||Y!=null))switch(P){case"type":h=k;break;case"name":c=k;break;case"checked":B=k;break;case"defaultChecked":G=k;break;case"value":g=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,n));break;default:k!==Y&&Zt(t,n,P,k,l,Y)}}As(t,g,E,R,B,G,h,c);return;case"select":k=g=E=P=null;for(h in a)if(R=a[h],a.hasOwnProperty(h)&&R!=null)switch(h){case"value":break;case"multiple":k=R;default:l.hasOwnProperty(h)||Zt(t,n,h,null,l,R)}for(c in l)if(h=l[c],R=a[c],l.hasOwnProperty(c)&&(h!=null||R!=null))switch(c){case"value":P=h;break;case"defaultValue":E=h;break;case"multiple":g=h;default:h!==R&&Zt(t,n,c,h,l,R)}n=E,a=g,l=k,P!=null?Fi(t,!!a,P,!1):!!l!=!!a&&(n!=null?Fi(t,!!a,n,!0):Fi(t,!!a,a?[]:"",!1));return;case"textarea":k=P=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(t,n,E,null,l,c)}for(g in l)if(c=l[g],h=a[g],l.hasOwnProperty(g)&&(c!=null||h!=null))switch(g){case"value":P=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==h&&Zt(t,n,g,c,l,h)}Eo(t,P,k);return;case"option":for(var st in a)if(P=a[st],a.hasOwnProperty(st)&&P!=null&&!l.hasOwnProperty(st))switch(st){case"selected":t.selected=!1;break;default:Zt(t,n,st,null,l,P)}for(R in l)if(P=l[R],k=a[R],l.hasOwnProperty(R)&&P!==k&&(P!=null||k!=null))switch(R){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Zt(t,n,R,P,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in a)P=a[ht],a.hasOwnProperty(ht)&&P!=null&&!l.hasOwnProperty(ht)&&Zt(t,n,ht,null,l,P);for(B in l)if(P=l[B],k=a[B],l.hasOwnProperty(B)&&P!==k&&(P!=null||k!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,n));break;default:Zt(t,n,B,P,l,k)}return;default:if(bs(n)){for(var Jt in a)P=a[Jt],a.hasOwnProperty(Jt)&&P!==void 0&&!l.hasOwnProperty(Jt)&&sf(t,n,Jt,void 0,l,P);for(G in l)P=l[G],k=a[G],!l.hasOwnProperty(G)||P===k||P===void 0&&k===void 0||sf(t,n,G,P,l,k);return}}for(var j in a)P=a[j],a.hasOwnProperty(j)&&P!=null&&!l.hasOwnProperty(j)&&Zt(t,n,j,null,l,P);for(Y in l)P=l[Y],k=a[Y],!l.hasOwnProperty(Y)||P===k||P==null&&k==null||Zt(t,n,Y,P,l,k)}function Mp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function S0(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],h=c.transferSize,g=c.initiatorType,E=c.duration;if(h&&E&&Mp(g)){for(g=0,E=c.responseEnd,l+=1;l<a.length;l++){var R=a[l],B=R.startTime;if(B>E)break;var G=R.transferSize,Y=R.initiatorType;G&&Mp(Y)&&(R=R.responseEnd,g+=G*(R<E?1:(E-B)/(R-B)))}if(--l,n+=8*(h+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var rf=null,lf=null;function Au(t){return t.nodeType===9?t:t.ownerDocument}function jp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function of(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var uf=null;function A0(){var t=window.event;return t&&t.type==="popstate"?t===uf?!1:(uf=t,!0):(uf=null,!1)}var Lp=typeof setTimeout=="function"?setTimeout:void 0,b0=typeof clearTimeout=="function"?clearTimeout:void 0,Up=typeof Promise=="function"?Promise:void 0,C0=typeof queueMicrotask=="function"?queueMicrotask:typeof Up<"u"?function(t){return Up.resolve(null).then(t).catch(R0)}:Lp;function R0(t){setTimeout(function(){throw t})}function ga(t){return t==="head"}function Bp(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(c),sr(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Rl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Rl(a);for(var h=a.firstChild;h;){var g=h.nextSibling,E=h.nodeName;h[Wn]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&h.rel.toLowerCase()==="stylesheet"||a.removeChild(h),h=g}}else a==="body"&&Rl(t.ownerDocument.body);a=c}while(a);sr(n)}function Pp(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function cf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":cf(a),Ts(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function w0(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Wn])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Nn(t.nextSibling),t===null)break}return null}function D0(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Nn(t.nextSibling),t===null))return null;return t}function qp(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Nn(t.nextSibling),t===null))return null;return t}function hf(t){return t.data==="$?"||t.data==="$~"}function ff(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function N0(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Nn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var df=null;function kp(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Nn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Hp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Gp(t,n,a){switch(n=Au(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Rl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ts(t)}var xn=new Map,Fp=new Set;function bu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Bi=W.d;W.d={f:x0,r:V0,D:O0,C:I0,L:M0,m:j0,X:L0,S:z0,M:U0};function x0(){var t=Bi.f(),n=gu();return t||n}function V0(t){var n=vn(t);n!==null&&n.tag===5&&n.type==="form"?og(n):Bi.r(t)}var nr=typeof document>"u"?null:document;function Qp(t,n,a){var l=nr;if(l&&typeof n=="string"&&n){var c=We(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Fp.has(c)||(Fp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),qe(n,"link",t),Ee(n),l.head.appendChild(n)))}}function O0(t){Bi.D(t),Qp("dns-prefetch",t,null)}function I0(t,n){Bi.C(t,n),Qp("preconnect",t,n)}function M0(t,n,a){Bi.L(t,n,a);var l=nr;if(l&&t&&n){var c='link[rel="preload"][as="'+We(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+We(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+We(a.imageSizes)+'"]')):c+='[href="'+We(t)+'"]';var h=c;switch(n){case"style":h=ir(t);break;case"script":h=ar(t)}xn.has(h)||(t=N({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),xn.set(h,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(wl(h))||n==="script"&&l.querySelector(Dl(h))||(n=l.createElement("link"),qe(n,"link",t),Ee(n),l.head.appendChild(n)))}}function j0(t,n){Bi.m(t,n);var a=nr;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+We(l)+'"][href="'+We(t)+'"]',h=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=ar(t)}if(!xn.has(h)&&(t=N({rel:"modulepreload",href:t},n),xn.set(h,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Dl(h)))return}l=a.createElement("link"),qe(l,"link",t),Ee(l),a.head.appendChild(l)}}}function z0(t,n,a){Bi.S(t,n,a);var l=nr;if(l&&t){var c=ei(l).hoistableStyles,h=ir(t);n=n||"default";var g=c.get(h);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(wl(h)))E.loading=5;else{t=N({rel:"stylesheet",href:t,"data-precedence":n},a),(a=xn.get(h))&&mf(t,a);var R=g=l.createElement("link");Ee(R),qe(R,"link",t),R._p=new Promise(function(B,G){R.onload=B,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Cu(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(h,g)}}}function L0(t,n){Bi.X(t,n);var a=nr;if(a&&t){var l=ei(a).hoistableScripts,c=ar(t),h=l.get(c);h||(h=a.querySelector(Dl(c)),h||(t=N({src:t,async:!0},n),(n=xn.get(c))&&gf(t,n),h=a.createElement("script"),Ee(h),qe(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function U0(t,n){Bi.M(t,n);var a=nr;if(a&&t){var l=ei(a).hoistableScripts,c=ar(t),h=l.get(c);h||(h=a.querySelector(Dl(c)),h||(t=N({src:t,async:!0,type:"module"},n),(n=xn.get(c))&&gf(t,n),h=a.createElement("script"),Ee(h),qe(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function Yp(t,n,a,l){var c=(c=et.current)?bu(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ir(a.href),a=ei(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ir(a.href);var h=ei(c).hoistableStyles,g=h.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,g),(h=c.querySelector(wl(t)))&&!h._p&&(g.instance=h,g.state.loading=5),xn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},xn.set(t,a),h||B0(c,t,a,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ar(a),a=ei(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function ir(t){return'href="'+We(t)+'"'}function wl(t){return'link[rel="stylesheet"]['+t+"]"}function Xp(t){return N({},t,{"data-precedence":t.precedence,precedence:null})}function B0(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),qe(n,"link",a),Ee(n),t.head.appendChild(n))}function ar(t){return'[src="'+We(t)+'"]'}function Dl(t){return"script[async]"+t}function Kp(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+We(a.href)+'"]');if(l)return n.instance=l,Ee(l),l;var c=N({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ee(l),qe(l,"style",c),Cu(l,a.precedence,t),n.instance=l;case"stylesheet":c=ir(a.href);var h=t.querySelector(wl(c));if(h)return n.state.loading|=4,n.instance=h,Ee(h),h;l=Xp(a),(c=xn.get(c))&&mf(l,c),h=(t.ownerDocument||t).createElement("link"),Ee(h);var g=h;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),qe(h,"link",l),n.state.loading|=4,Cu(h,a.precedence,t),n.instance=h;case"script":return h=ar(a.src),(c=t.querySelector(Dl(h)))?(n.instance=c,Ee(c),c):(l=a,(c=xn.get(h))&&(l=N({},a),gf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Ee(c),qe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Cu(l,a.precedence,t));return n.instance}function Cu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,h=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)h=E;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function mf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function gf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ru=null;function Zp(t,n,a){if(Ru===null){var l=new Map,c=Ru=new Map;c.set(a,l)}else c=Ru,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var h=a[c];if(!(h[Wn]||h[ve]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var g=h.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(h):l.set(g,[h])}}return l}function Jp(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function P0(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function $p(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function q0(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=ir(l.href),h=n.querySelector(wl(c));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=wu.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=h,Ee(h);return}h=n.ownerDocument||n,l=Xp(l),(c=xn.get(c))&&mf(l,c),h=h.createElement("link"),Ee(h);var g=h;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),qe(h,"link",l),a.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=wu.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var pf=0;function k0(t,n){return t.stylesheets&&t.count===0&&Nu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Nu(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+n);0<t.imgBytes&&pf===0&&(pf=62500*S0());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Nu(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>pf?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function wu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Nu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Du=null;function Nu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Du=new Map,n.forEach(H0,t),Du=null,wu.call(t))}function H0(t,n){if(!(n.state.loading&4)){var a=Du.get(t);if(a)var l=a.get(null);else{a=new Map,Du.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var g=c[h];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),h=a.get(g)||l,h===l&&a.set(null,c),a.set(g,c),this.count++,l=wu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Nl={$$typeof:mt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function G0(t,n,a,l,c,h,g,E,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jn(0),this.hiddenUpdates=Jn(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Wp(t,n,a,l,c,h,g,E,R,B,G,Y){return t=new G0(t,n,a,g,R,B,G,Y,E),n=1,h===!0&&(n|=24),h=fn(3,null,null,n),t.current=h,h.stateNode=t,n=Xc(),n.refCount++,t.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:a,cache:n},$c(h),t}function ty(t){return t?(t=js,t):js}function ey(t,n,a,l,c,h){c=ty(c),l.context===null?l.context=c:l.pendingContext=c,l=aa(n),l.payload={element:a},h=h===void 0?null:h,h!==null&&(l.callback=h),a=sa(t,l,n),a!==null&&(rn(a,t,n),ll(a,t,n))}function ny(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function yf(t,n){ny(t,n),(t=t.alternate)&&ny(t,n)}function iy(t){if(t.tag===13||t.tag===31){var n=Za(t,67108864);n!==null&&rn(n,t,67108864),yf(t,67108864)}}function ay(t){if(t.tag===13||t.tag===31){var n=yn();n=Ua(n);var a=Za(t,n);a!==null&&rn(a,t,n),yf(t,n)}}var xu=!0;function F0(t,n,a,l){var c=H.T;H.T=null;var h=W.p;try{W.p=2,_f(t,n,a,l)}finally{W.p=h,H.T=c}}function Q0(t,n,a,l){var c=H.T;H.T=null;var h=W.p;try{W.p=8,_f(t,n,a,l)}finally{W.p=h,H.T=c}}function _f(t,n,a,l){if(xu){var c=vf(l);if(c===null)af(t,n,l,Vu,a),ry(t,l);else if(X0(c,t,n,a,l))l.stopPropagation();else if(ry(t,l),n&4&&-1<Y0.indexOf(t)){for(;c!==null;){var h=vn(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var g=Kn(h.pendingLanes);if(g!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-he(g);E.entanglements[1]|=R,g&=~R}mi(h),(kt&6)===0&&(du=Ze()+500,Al(0))}}break;case 31:case 13:E=Za(h,2),E!==null&&rn(E,h,2),gu(),yf(h,2)}if(h=vf(l),h===null&&af(t,n,l,Vu,a),h===c)break;c=h}c!==null&&l.stopPropagation()}else af(t,n,l,null,a)}}function vf(t){return t=En(t),Ef(t)}var Vu=null;function Ef(t){if(Vu=null,t=ti(t),t!==null){var n=f(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=y(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Vu=t,null}function sy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ma()){case Or:return 2;case Ir:return 8;case Hi:case Cc:return 32;case oo:return 268435456;default:return 32}default:return 32}}var Tf=!1,pa=null,ya=null,_a=null,xl=new Map,Vl=new Map,va=[],Y0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ry(t,n){switch(t){case"focusin":case"focusout":pa=null;break;case"dragenter":case"dragleave":ya=null;break;case"mouseover":case"mouseout":_a=null;break;case"pointerover":case"pointerout":xl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(n.pointerId)}}function Ol(t,n,a,l,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},n!==null&&(n=vn(n),n!==null&&iy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function X0(t,n,a,l,c){switch(n){case"focusin":return pa=Ol(pa,t,n,a,l,c),!0;case"dragenter":return ya=Ol(ya,t,n,a,l,c),!0;case"mouseover":return _a=Ol(_a,t,n,a,l,c),!0;case"pointerover":var h=c.pointerId;return xl.set(h,Ol(xl.get(h)||null,t,n,a,l,c)),!0;case"gotpointercapture":return h=c.pointerId,Vl.set(h,Ol(Vl.get(h)||null,t,n,a,l,c)),!0}return!1}function ly(t){var n=ti(t.target);if(n!==null){var a=f(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Mn(t.priority,function(){ay(a)});return}}else if(n===31){if(n=y(a),n!==null){t.blockedOn=n,Mn(t.priority,function(){ay(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ou(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=vf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Fr=l,a.target.dispatchEvent(l),Fr=null}else return n=vn(a),n!==null&&iy(n),t.blockedOn=a,!1;n.shift()}return!0}function oy(t,n,a){Ou(t)&&a.delete(n)}function K0(){Tf=!1,pa!==null&&Ou(pa)&&(pa=null),ya!==null&&Ou(ya)&&(ya=null),_a!==null&&Ou(_a)&&(_a=null),xl.forEach(oy),Vl.forEach(oy)}function Iu(t,n){t.blockedOn===n&&(t.blockedOn=null,Tf||(Tf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,K0)))}var Mu=null;function uy(t){Mu!==t&&(Mu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Mu===t&&(Mu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Ef(l||a)===null)continue;break}var h=vn(a);h!==null&&(t.splice(n,3),n-=3,_h(h,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function sr(t){function n(R){return Iu(R,t)}pa!==null&&Iu(pa,t),ya!==null&&Iu(ya,t),_a!==null&&Iu(_a,t),xl.forEach(n),Vl.forEach(n);for(var a=0;a<va.length;a++){var l=va[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<va.length&&(a=va[0],a.blockedOn===null);)ly(a),a.blockedOn===null&&va.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],h=a[l+1],g=c[Oe]||null;if(typeof h=="function")g||uy(a);else if(g){var E=null;if(h&&h.hasAttribute("formAction")){if(c=h,g=h[Oe]||null)E=g.formAction;else if(Ef(c)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),uy(a)}}}function cy(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Sf(t){this._internalRoot=t}ju.prototype.render=Sf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=yn();ey(a,l,t,n,null,null)},ju.prototype.unmount=Sf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ey(t.current,2,null,t,null,null),gu(),n[$n]=null}};function ju(t){this._internalRoot=t}ju.prototype.unstable_scheduleHydration=function(t){if(t){var n=go();t={blockedOn:null,target:t,priority:n};for(var a=0;a<va.length&&n!==0&&n<va[a].priority;a++);va.splice(a,0,t),a===0&&ly(t)}};var hy=e.version;if(hy!=="19.2.0")throw Error(r(527,hy,"19.2.0"));W.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var Z0={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zu.isDisabled&&zu.supportsFiber)try{On=zu.inject(Z0),ze=zu}catch{}}return Ml.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",c=_g,h=vg,g=Eg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=Wp(t,1,!1,null,null,a,l,null,c,h,g,cy),t[$n]=n.current,nf(t),new Sf(n)},Ml.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,c="",h=_g,g=vg,E=Eg,R=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),n=Wp(t,1,!0,n,a??null,l,c,R,h,g,E,cy),n.context=ty(null),a=n.current,l=yn(),l=Ua(l),c=aa(l),c.callback=null,sa(a,c,l),a=l,n.current.lanes=a,za(n,a),mi(n),t[$n]=n.current,nf(t),new ju(n)},Ml.version="19.2.0",Ml}var Ty;function lE(){if(Ty)return Cf.exports;Ty=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Cf.exports=rE(),Cf.exports}var oE=lE(),k_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Sy=hs.createContext&&hs.createContext(k_),uE=["attr","size","title"];function cE(s,e){if(s==null)return{};var i=hE(s,e),r,o;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(s);for(o=0;o<f.length;o++)r=f[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(s,r)&&(i[r]=s[r])}return i}function hE(s,e){if(s==null)return{};var i={};for(var r in s)if(Object.prototype.hasOwnProperty.call(s,r)){if(e.indexOf(r)>=0)continue;i[r]=s[r]}return i}function $u(){return $u=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(s[r]=i[r])}return s},$u.apply(this,arguments)}function Ay(s,e){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),i.push.apply(i,r)}return i}function Wu(s){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Ay(Object(i),!0).forEach(function(r){fE(s,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):Ay(Object(i)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(i,r))})}return s}function fE(s,e,i){return e=dE(e),e in s?Object.defineProperty(s,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[e]=i,s}function dE(s){var e=mE(s,"string");return typeof e=="symbol"?e:e+""}function mE(s,e){if(typeof s!="object"||!s)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var r=i.call(s,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(s)}function H_(s){return s&&s.map((e,i)=>hs.createElement(e.tag,Wu({key:i},e.attr),H_(e.child)))}function on(s){return e=>hs.createElement(gE,$u({attr:Wu({},s.attr)},e),H_(s.child))}function gE(s){var e=i=>{var{attr:r,size:o,title:f}=s,d=cE(s,uE),y=o||i.size||"1em",_;return i.className&&(_=i.className),s.className&&(_=(_?_+" ":"")+s.className),hs.createElement("svg",$u({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,r,d,{className:_,style:Wu(Wu({color:s.color||i.color},i.style),s.style),height:y,width:y,xmlns:"http://www.w3.org/2000/svg"}),f&&hs.createElement("title",null,f),s.children)};return Sy!==void 0?hs.createElement(Sy.Consumer,null,i=>e(i)):e(k_)}function pE(s){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(s)}function by(s){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(s)}function yE(s){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(s)}function _E(s){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8h1a4 4 0 0 1 0 8h-1"},child:[]},{tag:"path",attr:{d:"M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"},child:[]},{tag:"line",attr:{x1:"6",y1:"1",x2:"6",y2:"4"},child:[]},{tag:"line",attr:{x1:"10",y1:"1",x2:"10",y2:"4"},child:[]},{tag:"line",attr:{x1:"14",y1:"1",x2:"14",y2:"4"},child:[]}]})(s)}function kf(s){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"},child:[]},{tag:"line",attr:{x1:"16",y1:"8",x2:"2",y2:"22"},child:[]},{tag:"line",attr:{x1:"17.5",y1:"15",x2:"9",y2:"15"},child:[]}]})(s)}function vE(s){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"},child:[]},{tag:"line",attr:{x1:"4",y1:"22",x2:"4",y2:"15"},child:[]}]})(s)}function EE(s){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(s)}function TE(s){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"18"},child:[]},{tag:"line",attr:{x1:"16",y1:"6",x2:"16",y2:"22"},child:[]}]})(s)}function Nf(s){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"5 3 19 12 5 21 5 3"},child:[]}]})(s)}function Lu(s){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(s)}function SE(s){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(s)}function AE(s){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(s)}function bE(s){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z"},child:[]},{tag:"path",attr:{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12"},child:[]}]})(s)}function CE(s){return on({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216.4 18.66c-3 35.94 12.6 64.01 28.1 88.94 15.5 24.9 30.6 47 32.2 72.3 1.2 17.3-4.6 34.5-11.5 53-6.9 18.6-14.8 38.4-15.5 60.9l18 .6c.5-18.5 7.4-36.4 14.4-55.2 6.9-18.8 14-38.5 12.6-60.5-2-31.5-19.8-56.3-35-80.65-15.1-24.34-27.9-47.81-25.3-77.87l-18-1.52zm134.2 9.52c-18.7 10.56-39.1 23.47-52.1 37.64-7.9 8.63-12.8 17.38-13.9 25.86-1 7.53.8 15.42 7.3 24.72 20.2-.7 35.3-13.8 45.7-33.24 8.9-16.54 13.3-37.15 13-54.98zM141.7 97.64c-1.1.01-2.2.04-3.2.07-5.7.18-11 .73-15.9 1.49 10.5 16.8 30.5 35.8 52.2 46.8 13.1 6.6 26.6 10.4 38.8 10.1 10.8-.2 20.4-3.5 29-10.9-1.6-8.6-6.2-15.9-13.9-22.5-8.8-7.5-21.4-13.7-35.5-18-15.4-4.7-32.6-6.92-48.2-7.06-1.1-.01-2.2-.01-3.3 0zM347.5 208.2c-2.1.1-4.1.3-6.1.5-14.2 1.8-26.1 8-34.8 22.2 3.8 3.9 8.1 6 13.1 7 6.6 1.3 14.7.4 23.2-2.5 12.7-4.2 26.3-12.8 36.8-22-10-3.3-20.5-5.2-30.3-5.2h-1.9zM32 311v18h204.3c-1.1 7.3-2.8 17.7-5.5 28.8-5 21-14.4 44.1-24.2 51.7-12.5 9.6-29.8 10.2-49.6 7.9-3.8-2.4-14.6-9.6-25.1-18.9-6.4-5.6-12.4-12-16-17.6-3.6-5.7-4.3-9.8-3.5-12.4-.1.6-.1 0 2.2-.9 2.4-.9 6.2-1.7 10.1-2 7.8-.7 15.5 0 15.5 0l1.6-18s-2.2-.2-5.6-.3c-3.5-.1-8.1-.1-13 .3-4.9.5-10.1 1.3-15.1 3.2-4.9 1.9-10.55 5.4-12.74 12.1-3.25 9.8.24 19.5 5.34 27.6 4.9 7.9 11.9 15 19 21.2-13.6-1.9-27.53-3.1-40.68-1-3.49-6.9-7.94-14.2-15.19-20.1-8.92-7.3-21.63-11.8-39.25-12.2l-.38 18c14.84.3 22.78 3.7 28.25 8.2 3.71 3 6.49 6.9 9.04 11.4-3.48 1.7-6.87 3.7-10.13 6.1-10.6 7.9-14.53 20.9-17.66 32.2-3.13 11.2-4.44 21-4.44 21l17.84 2.4s1.18-8.7 3.94-18.6c2.74-9.8 8.09-20.4 11.06-22.6 16.99-12.6 42.6-9.1 71.1-4.4 28.4 4.7 60 10.4 84.4-8.4 8-6.2 13.9-14.9 18.6-24.6 4.8 10.5 11.7 19.6 20 27.5-10.7 2.7-20 7.5-28.1 13.3-13.4 9.7-24 21.7-34.8 31.5l12 13.4c8-7.3 15.3-14.8 22.6-21.4 4.1 7.3 9.9 13.1 16.4 17.3 10.4 6.8 22.2 10.3 33 12.9l4.2-17.4c-10-2.5-20-5.7-27.3-10.5-5.5-3.6-9.6-7.7-12-13.6 10.1-6.5 20.8-10.4 35.4-9.6 6.5 3.7 13.3 7 20.3 9.8 26.6 10.5 56.4 14.4 82.5 12 16.4-1.6 32.8-11 47.4-22 6.6 5.3 12 11.7 15.7 18 5.3 9 6.5 17.7 5.3 21.6l17 5.6c4-11.7.2-24.5-6.8-36.4-4.3-7.2-9.9-14.1-16.8-20.3.1 0 .1-.1.2-.1 18-15.1 31.3-29.8 31.3-29.8l-13.2-12.2s-12.8 13.9-29.7 28.2c-17 14.3-38.8 28.2-52 29.4-23 2.2-50.6-1.4-74.3-10.8-23.6-9.3-43-24.2-51.9-43.8-2.6-5.7.7-22 7.1-36 3-6.6 6.2-12.5 8.8-17 3.8 2 8.1 4.4 12.9 7.2 13 7.6 27.9 18 34.1 25.5 4.6 5.5 10.6 18.6 14.7 29.7 4.1 11.2 6.7 20.5 6.7 20.5l17.4-4.8s-2.8-10-7.2-21.9c-2.8-7.9-6.2-16.5-10.5-24.2 4.1-.6 9.5-.6 15.7.6 12.2 2.4 26.8 8.5 39 17.5l10.6-14.6c-14.5-10.5-31-17.6-46.2-20.5-5.7-1.1-11.3-1.8-16.7-1.6-5.1.1-9.9 1-14.2 2.8-9.5-9.3-22.6-17.6-34.2-24.5-.8-.5-1.6-.9-2.4-1.4H480v-18H32z"},child:[]}]})(s)}function jl({title:s,eyebrow:e,children:i}){return S.jsxs("header",{className:"section-header",children:[e&&S.jsx("p",{className:"eyebrow text-uppercase mb-1",children:e}),S.jsxs("div",{className:"d-flex flex-column flex-md-row align-items-md-end gap-3 justify-content-between",children:[S.jsx("h2",{className:"display-6 fw-semibold text-primary",children:s}),i]})]})}function RE({icon:s,title:e,description:i,tags:r}){return S.jsxs("article",{className:"feature-card",children:[S.jsx("div",{className:"feature-icon",children:S.jsx(s,{size:28})}),S.jsxs("div",{className:"feature-body",children:[S.jsx("h3",{children:e}),S.jsx("p",{children:i}),S.jsx("div",{className:"d-flex flex-wrap gap-2 mt-3",children:r.map(o=>S.jsx("span",{className:"badge text-bg-light text-success-subtle",children:o},o))})]})]})}function Uu({title:s,items:e}){return S.jsxs("div",{className:"schedule-list",children:[S.jsx("p",{className:"eyebrow mb-1",children:s}),S.jsx("ul",{children:e.map(i=>S.jsx("li",{children:i},i))})]})}function wE({bundle:s}){return S.jsxs("section",{className:"recipe-spotlight",children:[S.jsxs("div",{className:"primary",children:[S.jsx("p",{className:"eyebrow",children:"AI Recipe Generation"}),S.jsx("h3",{children:s.spotlight.title}),S.jsx("p",{children:s.spotlight.description}),S.jsx("h4",{children:"Ingredients"}),S.jsx("ul",{children:s.spotlight.ingredients.map(e=>S.jsx("li",{children:e},e))}),S.jsx("h4",{children:"Steps"}),S.jsx("ol",{children:s.spotlight.steps.map(e=>S.jsx("li",{children:e},e))}),s.spotlight.culturalNotes&&S.jsx("p",{className:"text-secondary",children:s.spotlight.culturalNotes})]}),S.jsxs("div",{className:"alternates",children:[S.jsx("p",{className:"eyebrow",children:"Seasonal alternates"}),s.alternates.map(e=>S.jsxs("article",{children:[S.jsx("h5",{children:e.title}),S.jsx("p",{children:e.description})]},e.title))]})]})}function DE({plan:s}){return S.jsxs("section",{className:"nutrition-planner",children:[S.jsxs("div",{children:[S.jsx("p",{className:"eyebrow",children:"AI Nutrition Coach"}),S.jsx("h3",{children:"Family meal rhythm"}),S.jsx("p",{children:s.overview}),S.jsx("h4",{children:"Shopping list"}),S.jsx("div",{className:"d-flex flex-wrap gap-2",children:s.shoppingList.map(e=>S.jsx("span",{className:"tag-pill",children:e},e))})]}),S.jsx("div",{className:"timeline",children:s.plans.map(e=>S.jsxs("article",{children:[S.jsx("header",{children:S.jsx("h5",{children:e.day})}),S.jsx("ul",{children:e.meals.map(i=>S.jsx("li",{children:i},i))}),S.jsx("p",{className:"tip-label",children:"Prep tips"}),S.jsx("ul",{children:e.prepTips.map(i=>S.jsx("li",{children:i},i))})]},e.day))})]})}function NE({story:s}){return S.jsxs("article",{className:"community-card",children:[S.jsxs("header",{children:[S.jsx("p",{className:"eyebrow mb-0",children:s.author}),S.jsx("span",{className:"country-pill",children:s.country})]}),S.jsx("h3",{children:s.headline}),S.jsx("p",{children:s.body}),S.jsx("div",{className:"d-flex flex-wrap gap-2 mt-3",children:s.tags.map(e=>S.jsxs("span",{className:"badge rounded-pill text-bg-warning-subtle text-dark fw-medium",children:["#",e]},e))}),S.jsx("div",{className:"progress mt-3",role:"progressbar","aria-valuenow":s.progress,"aria-valuemin":0,"aria-valuemax":100,children:S.jsxs("div",{className:"progress-bar",style:{width:`${s.progress}%`},children:[s.progress,"% thriving"]})})]})}function xE({pathway:s}){return S.jsxs("article",{className:"learning-card",children:[S.jsxs("header",{className:"d-flex justify-content-between align-items-center mb-2",children:[S.jsx("p",{className:"mb-0 text-uppercase small text-secondary",children:s.ethicalFocus}),S.jsxs("span",{className:"badge text-bg-secondary-subtle text-dark fw-medium",children:[s.durationMinutes," min"]})]}),S.jsx("h3",{children:s.title}),S.jsx("ul",{children:s.milestones.map(e=>S.jsx("li",{children:e},e))})]})}function VE({story:s}){return S.jsxs("article",{className:"story-card",children:[S.jsx("h3",{children:"Cultural Food Storytelling"}),S.jsx("p",{className:"lead",children:s.narrative}),S.jsx("ul",{children:s.scienceInsights.map(e=>S.jsx("li",{children:e},e))})]})}const OE="http://localhost:3000/api";async function Gn(s,e){const i=await fetch(`${OE}${s}`,{headers:{"Content-Type":"application/json",...e?.headers??{}},...e});if(!i.ok)throw new Error(`Request failed (${i.status})`);const r=await i.json();if(!r.ok)throw new Error(r.message??"Unknown API error");return r.data}const Fn={plantPlan:s=>Gn("/ai/plant-plan",{method:"POST",body:JSON.stringify(s)}),recipes:s=>Gn("/ai/recipes",{method:"POST",body:JSON.stringify(s)}),nutrition:s=>Gn("/ai/nutrition",{method:"POST",body:JSON.stringify(s)}),learning:s=>Gn(`/ai/learning-pathways?country=${s}`),storytelling:s=>Gn("/ai/storytelling",{method:"POST",body:JSON.stringify(s)}),savePreferences:s=>Gn("/profile",{method:"POST",body:JSON.stringify(s)}),getPreferences:s=>Gn(`/profile/${s}`),communityStories:()=>Gn("/content/community"),createCommunityStory:s=>Gn("/content/community",{method:"POST",body:JSON.stringify(s)}),learningModules:()=>Gn("/content/learning"),peaceChallenges:()=>Gn("/content/challenges")},Cy={author:"",country:"",headline:"",body:"",tags:[],progress:60};function IE({onCreated:s,onClose:e}){const[i,r]=jt.useState(Cy),[o,f]=jt.useState(""),[d,y]=jt.useState(!1),[_,v]=jt.useState(null),A=(M,K)=>{r(Z=>({...Z,[M]:K}))},N=async M=>{if(M.preventDefault(),!i.author||!i.country||!i.headline||!i.body){v("Please fill in author, country, headline, and story body.");return}y(!0),v(null);const K={...i,tags:o.split(",").map(Z=>Z.trim()).filter(Boolean),createdAt:Date.now()};try{const Z=await Fn.createCommunityStory(K);s(Z),r(Cy),f(""),y(!1),e()}catch(Z){v(Z.message??"Unable to share story right now."),y(!1)}};return S.jsx("div",{className:"story-composer card shadow-sm",children:S.jsxs("div",{className:"card-body",children:[S.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[S.jsxs("div",{children:[S.jsx("p",{className:"eyebrow mb-1",children:"Share your Peace Table win"}),S.jsx("h3",{className:"h5 mb-0",children:"Add a community story"})]}),S.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:e,disabled:d,children:"Close"})]}),S.jsxs("form",{className:"row g-3",onSubmit:N,children:[S.jsxs("div",{className:"col-md-6",children:[S.jsx("label",{className:"form-label",children:"Author"}),S.jsx("input",{type:"text",className:"form-control",value:i.author,onChange:M=>A("author",M.target.value),placeholder:"Ama  Accra",required:!0})]}),S.jsxs("div",{className:"col-md-6",children:[S.jsx("label",{className:"form-label",children:"Country / Region"}),S.jsx("input",{type:"text",className:"form-control",value:i.country,onChange:M=>A("country",M.target.value),placeholder:"Ghana",required:!0})]}),S.jsxs("div",{className:"col-12",children:[S.jsx("label",{className:"form-label",children:"Headline"}),S.jsx("input",{type:"text",className:"form-control",value:i.headline,onChange:M=>A("headline",M.target.value),placeholder:"Seed circle funds native tree planting",required:!0})]}),S.jsxs("div",{className:"col-12",children:[S.jsx("label",{className:"form-label",children:"Story"}),S.jsx("textarea",{className:"form-control",rows:4,value:i.body,onChange:M=>A("body",M.target.value),placeholder:"Tell us what you hosted, who you invited, and how land or kitchens benefited.",required:!0})]}),S.jsxs("div",{className:"col-md-6",children:[S.jsx("label",{className:"form-label",children:"Tags (comma separated)"}),S.jsx("input",{type:"text",className:"form-control",value:o,onChange:M=>f(M.target.value),placeholder:"permaculture, peace-table"})]}),S.jsxs("div",{className:"col-md-6",children:[S.jsxs("label",{className:"form-label d-flex justify-content-between",children:[S.jsx("span",{children:"Impact progress"}),S.jsxs("span",{className:"text-success fw-semibold",children:[i.progress,"%"]})]}),S.jsx("input",{type:"range",className:"form-range",min:0,max:100,step:5,value:i.progress,onChange:M=>A("progress",Number(M.target.value))})]}),_&&S.jsx("div",{className:"col-12",children:S.jsx("div",{className:"alert alert-danger",role:"alert",children:_})}),S.jsxs("div",{className:"col-12 d-flex justify-content-end gap-2",children:[S.jsx("button",{type:"button",className:"btn btn-link text-muted",onClick:e,disabled:d,children:"Cancel"}),S.jsx("button",{type:"submit",className:"btn btn-success",disabled:d,children:d?"Sharing":"Publish story"})]})]})]})})}const zl={userId:"demo-user",dietaryRequirements:["vegan"],culturalPreferences:["halaal","peace-table"],allergens:[],favoriteIngredients:[]};function ME(){const[s,e]=jt.useState(zl),[i,r]=jt.useState("idle"),[o,f]=jt.useState("loading"),[d,y]=jt.useState("Loading your preferences...");jt.useEffect(()=>{let A=!0;async function N(){try{const M=await Fn.getPreferences(zl.userId);if(!A)return;e({...zl,...M,dietaryRequirements:M.dietaryRequirements??zl.dietaryRequirements,culturalPreferences:M.culturalPreferences??zl.culturalPreferences,allergens:M.allergens??[],favoriteIngredients:M.favoriteIngredients??[]}),y("Preferences synced from cloud ")}catch(M){if(console.warn("[Planted] Unable to load saved preferences",M),!A)return;y("No saved profile yet  start by filling the form.")}finally{A&&f("ready")}}return N(),()=>{A=!1}},[]);const _=(A,N)=>{e(M=>({...M,[A]:N.split(",").map(K=>K.trim()).filter(Boolean)}))},v=async A=>{A.preventDefault();try{r("saving"),await Fn.savePreferences(s),r("saved"),y("Preferences synced from cloud "),setTimeout(()=>r("idle"),3e3)}catch(N){console.error(N),r("error")}};return S.jsxs("form",{className:"preference-form",onSubmit:v,children:[S.jsx("h3",{children:"Profile & Preferences"}),S.jsx("p",{className:"text-secondary",children:"Fine-tune AI guidance with your household needs."}),S.jsx("p",{className:"status-info small text-muted",children:o==="loading"?"Syncing saved profile":d}),S.jsxs("label",{children:["Dietary requirements",S.jsx("input",{type:"text",value:s.dietaryRequirements.join(", "),onChange:A=>_("dietaryRequirements",A.target.value)})]}),S.jsxs("label",{children:["Cultural preferences",S.jsx("input",{type:"text",value:s.culturalPreferences.join(", "),onChange:A=>_("culturalPreferences",A.target.value)})]}),S.jsxs("label",{children:["Allergens",S.jsx("input",{type:"text",value:s.allergens?.join(", ")??"",onChange:A=>_("allergens",A.target.value)})]}),S.jsxs("label",{children:["Favorite ingredients",S.jsx("input",{type:"text",value:s.favoriteIngredients?.join(", ")??"",onChange:A=>_("favoriteIngredients",A.target.value)})]}),S.jsx("button",{type:"submit",className:"btn btn-warning fw-semibold text-dark",disabled:i==="saving"||o==="loading",children:i==="saving"?"Saving...":"Save profile"}),i==="saved"&&S.jsx("p",{className:"status success mt-2",children:"Preferences synced "}),i==="error"&&S.jsx("p",{className:"status error mt-2",children:"Unable to save right now."})]})}const Ll=s=>s.split(",").map(e=>e.trim()).filter(Boolean),Ul=(s=[])=>s.join(", ");function Bu({state:s}){const e={idle:"Idle",loading:"Thinking",ready:"Synced",error:"Retry"};return S.jsx("span",{className:`status-badge status-${s}`,children:e[s]})}function jE({plantRequest:s,recipeRequest:e,nutritionRequest:i,storytellingRequest:r,status:o,errors:f,onUpdatePlant:d,onUpdateRecipe:y,onUpdateNutrition:_,onUpdateStorytelling:v,onRunPlant:A,onRunRecipes:N,onRunNutrition:M,onRunStorytelling:K}){return S.jsxs("section",{className:"ai-panel",children:[S.jsx("header",{children:S.jsxs("div",{children:[S.jsx("p",{className:"eyebrow",children:"Stewardship tools"}),S.jsx("h2",{children:"Guide each AI with grounded context"}),S.jsx("p",{className:"text-muted",children:"Tune requests with cultural, climatic, and dietary data before generating new plans."})]})}),S.jsxs("div",{className:"panel-grid",children:[S.jsxs("article",{className:"panel-card",children:[S.jsxs("div",{className:"panel-heading",children:[S.jsx(kf,{}),S.jsxs("div",{children:[S.jsx("h3",{children:"Plant growth input"}),S.jsx(Bu,{state:o.plant})]})]}),S.jsxs("label",{children:["Plant name",S.jsx("input",{value:s.plantName,onChange:Z=>d({...s,plantName:Z.target.value})})]}),S.jsxs("label",{children:["Growth stage",S.jsx("select",{value:s.growthStage,onChange:Z=>d({...s,growthStage:Z.target.value}),children:["seedling","vegetative","fruiting","dormant"].map(Z=>S.jsx("option",{value:Z,children:Z},Z))})]}),S.jsxs("label",{children:["Country focus",S.jsx("input",{value:s.climate.country,onChange:Z=>d({...s,climate:{...s.climate,country:Z.target.value}})})]}),S.jsxs("label",{children:["Biodiversity concerns",S.jsx("input",{value:Ul(s.biodiversityConcerns),onChange:Z=>d({...s,biodiversityConcerns:Ll(Z.target.value)})})]}),S.jsxs("label",{children:["Observation note",S.jsx("textarea",{rows:2,value:s.observations?.[0]?.note??"",onChange:Z=>d({...s,observations:[{...s.observations?.[0]??{},note:Z.target.value}]})})]}),f.plant&&S.jsx("p",{className:"status error",children:f.plant}),S.jsxs("button",{className:"btn btn-success rounded-pill",onClick:A,disabled:o.plant==="loading",children:[o.plant==="loading"?S.jsx(Lu,{className:"spin"}):S.jsx(Nf,{}),S.jsx("span",{children:"Generate plant plan"})]})]}),S.jsxs("article",{className:"panel-card",children:[S.jsxs("div",{className:"panel-heading",children:[S.jsx(pE,{}),S.jsxs("div",{children:[S.jsx("h3",{children:"Recipe inspiration"}),S.jsx(Bu,{state:o.recipes})]})]}),S.jsxs("label",{children:["Dietary needs",S.jsx("input",{value:Ul(e.dietaryNeeds),onChange:Z=>y({...e,dietaryNeeds:Ll(Z.target.value)})})]}),S.jsxs("label",{children:["Cultural preferences",S.jsx("input",{value:Ul(e.culturalPreferences),onChange:Z=>y({...e,culturalPreferences:Ll(Z.target.value)})})]}),S.jsxs("label",{children:["Available ingredients",S.jsx("textarea",{rows:2,value:Ul(e.availableIngredients),onChange:Z=>y({...e,availableIngredients:Ll(Z.target.value)})})]}),S.jsxs("label",{children:["Season",S.jsx("input",{value:e.season??"",onChange:Z=>y({...e,season:Z.target.value})})]}),f.recipes&&S.jsx("p",{className:"status error",children:f.recipes}),S.jsxs("button",{className:"btn btn-outline-success rounded-pill",onClick:N,disabled:o.recipes==="loading",children:[o.recipes==="loading"?S.jsx(Lu,{className:"spin"}):S.jsx(Nf,{}),S.jsx("span",{children:"Refresh recipes"})]})]}),S.jsxs("article",{className:"panel-card",children:[S.jsxs("div",{className:"panel-heading",children:[S.jsx(_E,{}),S.jsxs("div",{children:[S.jsx("h3",{children:"Nutrition coach"}),S.jsx(Bu,{state:o.nutrition})]})]}),S.jsxs("label",{children:["Household size",S.jsx("input",{type:"number",min:1,value:i.householdSize,onChange:Z=>_({...i,householdSize:Number(Z.target.value)})})]}),S.jsxs("label",{children:["Focus areas",S.jsx("input",{value:Ul(i.focusAreas),onChange:Z=>_({...i,focusAreas:Ll(Z.target.value)})})]}),S.jsxs("label",{children:["Prep minutes per day",S.jsx("input",{type:"number",min:15,step:5,value:i.timeAvailablePerDay,onChange:Z=>_({...i,timeAvailablePerDay:Number(Z.target.value)})})]}),f.nutrition&&S.jsx("p",{className:"status error",children:f.nutrition}),S.jsxs("button",{className:"btn btn-outline-success rounded-pill",onClick:M,disabled:o.nutrition==="loading",children:[o.nutrition==="loading"?S.jsx(Lu,{className:"spin"}):S.jsx(AE,{}),S.jsx("span",{children:"Sync meal plan"})]})]}),S.jsxs("article",{className:"panel-card",children:[S.jsxs("div",{className:"panel-heading",children:[S.jsx(kf,{}),S.jsxs("div",{children:[S.jsx("h3",{children:"Food storytelling"}),S.jsx(Bu,{state:o.storytelling})]})]}),S.jsxs("label",{children:["Dish name",S.jsx("input",{value:r.dishName,onChange:Z=>v({...r,dishName:Z.target.value})})]}),S.jsxs("label",{children:["Region focus",S.jsx("input",{value:r.region,onChange:Z=>v({...r,region:Z.target.value})})]}),f.storytelling&&S.jsx("p",{className:"status error",children:f.storytelling}),S.jsxs("button",{className:"btn btn-outline-success rounded-pill",onClick:K,disabled:o.storytelling==="loading",children:[o.storytelling==="loading"?S.jsx(Lu,{className:"spin"}):S.jsx(Nf,{}),S.jsx("span",{children:"Tell story"})]})]})]})]})}const Ry={stable:{label:"On track",icon:S.jsx(yE,{})},attention:{label:"Needs care",icon:S.jsx(by,{})},critical:{label:"Urgent",icon:S.jsx(by,{})}};function zE({metrics:s}){return S.jsxs("div",{className:"progress-tracker",children:[S.jsx("h4",{children:"Progress tracker"}),S.jsx("div",{className:"tracker-grid",children:s.map(e=>S.jsxs("article",{className:`tracker-card tracker-${e.status}`,children:[S.jsxs("header",{children:[S.jsx("div",{className:"status-icon",children:Ry[e.status].icon}),S.jsxs("div",{children:[S.jsx("p",{className:"eyebrow text-muted",children:Ry[e.status].label}),S.jsx("h5",{children:e.label})]})]}),S.jsx("div",{className:"progress-bar",children:S.jsx("span",{style:{width:`${e.value}%`}})}),S.jsx("p",{className:"guidance",children:e.guidance})]},e.label))})]})}function LE({challenge:s}){const e=new Date(s.startDate).toLocaleDateString(void 0,{month:"short",day:"numeric"}),i=new Date(s.endDate).toLocaleDateString(void 0,{month:"short",day:"numeric"});return S.jsxs("article",{className:"challenge-card",children:[S.jsxs("header",{children:[S.jsx("div",{className:"icon-pill",children:S.jsx(vE,{size:20})}),S.jsxs("div",{children:[S.jsx("p",{className:"eyebrow mb-1",children:s.countryFocus}),S.jsx("h3",{children:s.title})]})]}),S.jsx("p",{className:"mb-3 text-secondary",children:s.description}),S.jsxs("ul",{children:[S.jsxs("li",{children:[S.jsx("strong",{children:"Action:"})," ",s.callToAction]}),S.jsxs("li",{children:[S.jsx("strong",{children:"Goal:"})," ",s.progressGoal," households"]}),S.jsxs("li",{children:[S.jsx("strong",{children:"Window:"})," ",e,"  ",i]})]})]})}const UE=()=>{};var wy={};const G_=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},BE=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const f=s[i++];e[r++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=s[i++],d=s[i++],y=s[i++],_=((o&7)<<18|(f&63)<<12|(d&63)<<6|y&63)-65536;e[r++]=String.fromCharCode(55296+(_>>10)),e[r++]=String.fromCharCode(56320+(_&1023))}else{const f=s[i++],d=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(f&63)<<6|d&63)}}return e.join("")},F_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const f=s[o],d=o+1<s.length,y=d?s[o+1]:0,_=o+2<s.length,v=_?s[o+2]:0,A=f>>2,N=(f&3)<<4|y>>4;let M=(y&15)<<2|v>>6,K=v&63;_||(K=64,d||(M=64)),r.push(i[A],i[N],i[M],i[K])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(G_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):BE(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const f=i[s.charAt(o++)],y=o<s.length?i[s.charAt(o)]:0;++o;const v=o<s.length?i[s.charAt(o)]:64;++o;const N=o<s.length?i[s.charAt(o)]:64;if(++o,f==null||y==null||v==null||N==null)throw new PE;const M=f<<2|y>>4;if(r.push(M),v!==64){const K=y<<4&240|v>>2;if(r.push(K),N!==64){const Z=v<<6&192|N;r.push(Z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class PE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qE=function(s){const e=G_(s);return F_.encodeByteArray(e,!0)},tc=function(s){return qE(s).replace(/\./g,"")},kE=function(s){try{return F_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function HE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const GE=()=>HE().__FIREBASE_DEFAULTS__,FE=()=>{if(typeof process>"u"||typeof wy>"u")return;const s=wy.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},QE=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&kE(s[1]);return e&&JSON.parse(e)},gd=()=>{try{return UE()||GE()||FE()||QE()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},YE=s=>gd()?.emulatorHosts?.[s],XE=s=>{const e=YE(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},Q_=()=>gd()?.config;class KE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function pd(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ZE(s){return(await fetch(s,{credentials:"include"})).ok}function JE(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,f=s.sub||s.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...s};return[tc(JSON.stringify(i)),tc(JSON.stringify(d)),""].join(".")}const Hl={};function $E(){const s={prod:[],emulator:[]};for(const e of Object.keys(Hl))Hl[e]?s.emulator.push(e):s.prod.push(e);return s}function WE(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let Dy=!1;function tT(s,e){if(typeof window>"u"||typeof document>"u"||!pd(window.location.host)||Hl[s]===e||Hl[s]||Dy)return;Hl[s]=e;function i(M){return`__firebase__banner__${M}`}const r="__firebase__banner",f=$E().prod.length>0;function d(){const M=document.getElementById(r);M&&M.remove()}function y(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,K){M.setAttribute("width","24"),M.setAttribute("id",K),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function v(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{Dy=!0,d()},M}function A(M,K){M.setAttribute("id",K),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function N(){const M=WE(r),K=i("text"),Z=document.getElementById(K)||document.createElement("span"),rt=i("learnmore"),nt=document.getElementById(rt)||document.createElement("a"),Tt=i("preprendIcon"),bt=document.getElementById(Tt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const mt=M.element;y(mt),A(nt,rt);const Bt=v();_(bt,Tt),mt.append(bt,Z,nt,Bt),document.body.appendChild(mt)}f?(Z.innerText="Preview backend disconnected.",bt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(bt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",N):N()}function eT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nT(){const s=gd()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iT(){return!nT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aT(){try{return typeof indexedDB=="object"}catch{return!1}}function sT(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const rT="FirebaseError";class Ar extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=rT,Object.setPrototypeOf(this,Ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Y_.prototype.create)}}class Y_{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,f=this.errors[e],d=f?lT(f,r):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new Ar(o,y,r)}}function lT(s,e){return s.replace(oT,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const oT=/\{\$([^}]+)}/g;function ec(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const f=s[o],d=e[o];if(Ny(f)&&Ny(d)){if(!ec(f,d))return!1}else if(f!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function Ny(s){return s!==null&&typeof s=="object"}function Xl(s){return s&&s._delegate?s._delegate:s}class Kl{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const us="[DEFAULT]";class uT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new KE;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hT(e))try{this.getOrInitializeService({instanceIdentifier:us})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const f=this.getOrInitializeService({instanceIdentifier:o});r.resolve(f)}catch{}}}}clearInstance(e=us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=us){return this.instances.has(e)}getOptions(e=us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[f,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(f);r===y&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const f=this.instances.get(r);return f&&e(f,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:cT(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=us){return this.component?this.component.multipleInstances?e:us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cT(s){return s===us?void 0:s}function hT(s){return s.instantiationMode==="EAGER"}class fT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new uT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var It;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(It||(It={}));const dT={debug:It.DEBUG,verbose:It.VERBOSE,info:It.INFO,warn:It.WARN,error:It.ERROR,silent:It.SILENT},mT=It.INFO,gT={[It.DEBUG]:"log",[It.VERBOSE]:"log",[It.INFO]:"info",[It.WARN]:"warn",[It.ERROR]:"error"},pT=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=gT[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class X_{constructor(e){this.name=e,this._logLevel=mT,this._logHandler=pT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in It))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,It.DEBUG,...e),this._logHandler(this,It.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,It.VERBOSE,...e),this._logHandler(this,It.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,It.INFO,...e),this._logHandler(this,It.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,It.WARN,...e),this._logHandler(this,It.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,It.ERROR,...e),this._logHandler(this,It.ERROR,...e)}}const yT=(s,e)=>e.some(i=>s instanceof i);let xy,Vy;function _T(){return xy||(xy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vT(){return Vy||(Vy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const K_=new WeakMap,Hf=new WeakMap,Z_=new WeakMap,xf=new WeakMap,yd=new WeakMap;function ET(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",f),s.removeEventListener("error",d)},f=()=>{i(Aa(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",f),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&K_.set(i,s)}).catch(()=>{}),yd.set(e,s),e}function TT(s){if(Hf.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",f),s.removeEventListener("error",d),s.removeEventListener("abort",d)},f=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",f),s.addEventListener("error",d),s.addEventListener("abort",d)});Hf.set(s,e)}let Gf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Hf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Z_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Aa(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function ST(s){Gf=s(Gf)}function AT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Vf(this),e,...i);return Z_.set(r,e.sort?e.sort():[e]),Aa(r)}:vT().includes(s)?function(...e){return s.apply(Vf(this),e),Aa(K_.get(this))}:function(...e){return Aa(s.apply(Vf(this),e))}}function bT(s){return typeof s=="function"?AT(s):(s instanceof IDBTransaction&&TT(s),yT(s,_T())?new Proxy(s,Gf):s)}function Aa(s){if(s instanceof IDBRequest)return ET(s);if(xf.has(s))return xf.get(s);const e=bT(s);return e!==s&&(xf.set(s,e),yd.set(e,s)),e}const Vf=s=>yd.get(s);function CT(s,e,{blocked:i,upgrade:r,blocking:o,terminated:f}={}){const d=indexedDB.open(s,e),y=Aa(d);return r&&d.addEventListener("upgradeneeded",_=>{r(Aa(d.result),_.oldVersion,_.newVersion,Aa(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),y.then(_=>{f&&_.addEventListener("close",()=>f()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),y}const RT=["get","getKey","getAll","getAllKeys","count"],wT=["put","add","delete","clear"],Of=new Map;function Oy(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Of.get(e))return Of.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=wT.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||RT.includes(i)))return;const f=async function(d,...y){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return r&&(v=v.index(y.shift())),(await Promise.all([v[i](...y),o&&_.done]))[0]};return Of.set(e,f),f}ST(s=>({...s,get:(e,i,r)=>Oy(e,i)||s.get(e,i,r),has:(e,i)=>!!Oy(e,i)||s.has(e,i)}));class DT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(NT(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function NT(s){return s.getComponent()?.type==="VERSION"}const Ff="@firebase/app",Iy="0.14.6";const Pi=new X_("@firebase/app"),xT="@firebase/app-compat",VT="@firebase/analytics-compat",OT="@firebase/analytics",IT="@firebase/app-check-compat",MT="@firebase/app-check",jT="@firebase/auth",zT="@firebase/auth-compat",LT="@firebase/database",UT="@firebase/data-connect",BT="@firebase/database-compat",PT="@firebase/functions",qT="@firebase/functions-compat",kT="@firebase/installations",HT="@firebase/installations-compat",GT="@firebase/messaging",FT="@firebase/messaging-compat",QT="@firebase/performance",YT="@firebase/performance-compat",XT="@firebase/remote-config",KT="@firebase/remote-config-compat",ZT="@firebase/storage",JT="@firebase/storage-compat",$T="@firebase/firestore",WT="@firebase/ai",t2="@firebase/firestore-compat",e2="firebase",n2="12.6.0";const Qf="[DEFAULT]",i2={[Ff]:"fire-core",[xT]:"fire-core-compat",[OT]:"fire-analytics",[VT]:"fire-analytics-compat",[MT]:"fire-app-check",[IT]:"fire-app-check-compat",[jT]:"fire-auth",[zT]:"fire-auth-compat",[LT]:"fire-rtdb",[UT]:"fire-data-connect",[BT]:"fire-rtdb-compat",[PT]:"fire-fn",[qT]:"fire-fn-compat",[kT]:"fire-iid",[HT]:"fire-iid-compat",[GT]:"fire-fcm",[FT]:"fire-fcm-compat",[QT]:"fire-perf",[YT]:"fire-perf-compat",[XT]:"fire-rc",[KT]:"fire-rc-compat",[ZT]:"fire-gcs",[JT]:"fire-gcs-compat",[$T]:"fire-fst",[t2]:"fire-fst-compat",[WT]:"fire-vertex","fire-js":"fire-js",[e2]:"fire-js-all"};const Zl=new Map,a2=new Map,Yf=new Map;function My(s,e){try{s.container.addComponent(e)}catch(i){Pi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function nc(s){const e=s.name;if(Yf.has(e))return Pi.debug(`There were multiple attempts to register component ${e}.`),!1;Yf.set(e,s);for(const i of Zl.values())My(i,s);for(const i of a2.values())My(i,s);return!0}function s2(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function r2(s){return s==null?!1:s.settings!==void 0}const l2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ba=new Y_("app","Firebase",l2);class o2{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Kl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ba.create("app-deleted",{appName:this._name})}}const u2=n2;function J_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:Qf,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw ba.create("bad-app-name",{appName:String(o)});if(i||(i=Q_()),!i)throw ba.create("no-options");const f=Zl.get(o);if(f){if(ec(i,f.options)&&ec(r,f.config))return f;throw ba.create("duplicate-app",{appName:o})}const d=new fT(o);for(const _ of Yf.values())d.addComponent(_);const y=new o2(i,r,d);return Zl.set(o,y),y}function c2(s=Qf){const e=Zl.get(s);if(!e&&s===Qf&&Q_())return J_();if(!e)throw ba.create("no-app",{appName:s});return e}function jy(){return Array.from(Zl.values())}function cr(s,e,i){let r=i2[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),f=e.match(/\s|\//);if(o||f){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&f&&d.push("and"),f&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pi.warn(d.join(" "));return}nc(new Kl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const h2="firebase-heartbeat-database",f2=1,Jl="firebase-heartbeat-store";let If=null;function $_(){return If||(If=CT(h2,f2,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Jl)}catch(i){console.warn(i)}}}}).catch(s=>{throw ba.create("idb-open",{originalErrorMessage:s.message})})),If}async function d2(s){try{const i=(await $_()).transaction(Jl),r=await i.objectStore(Jl).get(W_(s));return await i.done,r}catch(e){if(e instanceof Ar)Pi.warn(e.message);else{const i=ba.create("idb-get",{originalErrorMessage:e?.message});Pi.warn(i.message)}}}async function zy(s,e){try{const r=(await $_()).transaction(Jl,"readwrite");await r.objectStore(Jl).put(e,W_(s)),await r.done}catch(i){if(i instanceof Ar)Pi.warn(i.message);else{const r=ba.create("idb-set",{originalErrorMessage:i?.message});Pi.warn(r.message)}}}function W_(s){return`${s.name}!${s.options.appId}`}const m2=1024,g2=30;class p2{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new _2(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ly();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>g2){const o=v2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Pi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ly(),{heartbeatsToSend:i,unsentEntries:r}=y2(this._heartbeatsCache.heartbeats),o=tc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Pi.warn(e),""}}}function Ly(){return new Date().toISOString().substring(0,10)}function y2(s,e=m2){const i=[];let r=s.slice();for(const o of s){const f=i.find(d=>d.agent===o.agent);if(f){if(f.dates.push(o.date),Uy(i)>e){f.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Uy(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class _2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aT()?sT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await d2(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return zy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return zy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Uy(s){return tc(JSON.stringify({version:2,heartbeats:s})).length}function v2(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function E2(s){nc(new Kl("platform-logger",e=>new DT(e),"PRIVATE")),nc(new Kl("heartbeat",e=>new p2(e),"PRIVATE")),cr(Ff,Iy,s),cr(Ff,Iy,"esm2020"),cr("fire-js","")}E2("");var By=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ca,tv;(function(){var s;function e(D,b){function w(){}w.prototype=b.prototype,D.F=b.prototype,D.prototype=new w,D.prototype.constructor=D,D.D=function(I,V,z){for(var C=Array(arguments.length-2),te=2;te<arguments.length;te++)C[te-2]=arguments[te];return b.prototype[V].apply(I,C)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,b,w){w||(w=0);const I=Array(16);if(typeof b=="string")for(var V=0;V<16;++V)I[V]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(V=0;V<16;++V)I[V]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=D.g[0],w=D.g[1],V=D.g[2];let z=D.g[3],C;C=b+(z^w&(V^z))+I[0]+3614090360&4294967295,b=w+(C<<7&4294967295|C>>>25),C=z+(V^b&(w^V))+I[1]+3905402710&4294967295,z=b+(C<<12&4294967295|C>>>20),C=V+(w^z&(b^w))+I[2]+606105819&4294967295,V=z+(C<<17&4294967295|C>>>15),C=w+(b^V&(z^b))+I[3]+3250441966&4294967295,w=V+(C<<22&4294967295|C>>>10),C=b+(z^w&(V^z))+I[4]+4118548399&4294967295,b=w+(C<<7&4294967295|C>>>25),C=z+(V^b&(w^V))+I[5]+1200080426&4294967295,z=b+(C<<12&4294967295|C>>>20),C=V+(w^z&(b^w))+I[6]+2821735955&4294967295,V=z+(C<<17&4294967295|C>>>15),C=w+(b^V&(z^b))+I[7]+4249261313&4294967295,w=V+(C<<22&4294967295|C>>>10),C=b+(z^w&(V^z))+I[8]+1770035416&4294967295,b=w+(C<<7&4294967295|C>>>25),C=z+(V^b&(w^V))+I[9]+2336552879&4294967295,z=b+(C<<12&4294967295|C>>>20),C=V+(w^z&(b^w))+I[10]+4294925233&4294967295,V=z+(C<<17&4294967295|C>>>15),C=w+(b^V&(z^b))+I[11]+2304563134&4294967295,w=V+(C<<22&4294967295|C>>>10),C=b+(z^w&(V^z))+I[12]+1804603682&4294967295,b=w+(C<<7&4294967295|C>>>25),C=z+(V^b&(w^V))+I[13]+4254626195&4294967295,z=b+(C<<12&4294967295|C>>>20),C=V+(w^z&(b^w))+I[14]+2792965006&4294967295,V=z+(C<<17&4294967295|C>>>15),C=w+(b^V&(z^b))+I[15]+1236535329&4294967295,w=V+(C<<22&4294967295|C>>>10),C=b+(V^z&(w^V))+I[1]+4129170786&4294967295,b=w+(C<<5&4294967295|C>>>27),C=z+(w^V&(b^w))+I[6]+3225465664&4294967295,z=b+(C<<9&4294967295|C>>>23),C=V+(b^w&(z^b))+I[11]+643717713&4294967295,V=z+(C<<14&4294967295|C>>>18),C=w+(z^b&(V^z))+I[0]+3921069994&4294967295,w=V+(C<<20&4294967295|C>>>12),C=b+(V^z&(w^V))+I[5]+3593408605&4294967295,b=w+(C<<5&4294967295|C>>>27),C=z+(w^V&(b^w))+I[10]+38016083&4294967295,z=b+(C<<9&4294967295|C>>>23),C=V+(b^w&(z^b))+I[15]+3634488961&4294967295,V=z+(C<<14&4294967295|C>>>18),C=w+(z^b&(V^z))+I[4]+3889429448&4294967295,w=V+(C<<20&4294967295|C>>>12),C=b+(V^z&(w^V))+I[9]+568446438&4294967295,b=w+(C<<5&4294967295|C>>>27),C=z+(w^V&(b^w))+I[14]+3275163606&4294967295,z=b+(C<<9&4294967295|C>>>23),C=V+(b^w&(z^b))+I[3]+4107603335&4294967295,V=z+(C<<14&4294967295|C>>>18),C=w+(z^b&(V^z))+I[8]+1163531501&4294967295,w=V+(C<<20&4294967295|C>>>12),C=b+(V^z&(w^V))+I[13]+2850285829&4294967295,b=w+(C<<5&4294967295|C>>>27),C=z+(w^V&(b^w))+I[2]+4243563512&4294967295,z=b+(C<<9&4294967295|C>>>23),C=V+(b^w&(z^b))+I[7]+1735328473&4294967295,V=z+(C<<14&4294967295|C>>>18),C=w+(z^b&(V^z))+I[12]+2368359562&4294967295,w=V+(C<<20&4294967295|C>>>12),C=b+(w^V^z)+I[5]+4294588738&4294967295,b=w+(C<<4&4294967295|C>>>28),C=z+(b^w^V)+I[8]+2272392833&4294967295,z=b+(C<<11&4294967295|C>>>21),C=V+(z^b^w)+I[11]+1839030562&4294967295,V=z+(C<<16&4294967295|C>>>16),C=w+(V^z^b)+I[14]+4259657740&4294967295,w=V+(C<<23&4294967295|C>>>9),C=b+(w^V^z)+I[1]+2763975236&4294967295,b=w+(C<<4&4294967295|C>>>28),C=z+(b^w^V)+I[4]+1272893353&4294967295,z=b+(C<<11&4294967295|C>>>21),C=V+(z^b^w)+I[7]+4139469664&4294967295,V=z+(C<<16&4294967295|C>>>16),C=w+(V^z^b)+I[10]+3200236656&4294967295,w=V+(C<<23&4294967295|C>>>9),C=b+(w^V^z)+I[13]+681279174&4294967295,b=w+(C<<4&4294967295|C>>>28),C=z+(b^w^V)+I[0]+3936430074&4294967295,z=b+(C<<11&4294967295|C>>>21),C=V+(z^b^w)+I[3]+3572445317&4294967295,V=z+(C<<16&4294967295|C>>>16),C=w+(V^z^b)+I[6]+76029189&4294967295,w=V+(C<<23&4294967295|C>>>9),C=b+(w^V^z)+I[9]+3654602809&4294967295,b=w+(C<<4&4294967295|C>>>28),C=z+(b^w^V)+I[12]+3873151461&4294967295,z=b+(C<<11&4294967295|C>>>21),C=V+(z^b^w)+I[15]+530742520&4294967295,V=z+(C<<16&4294967295|C>>>16),C=w+(V^z^b)+I[2]+3299628645&4294967295,w=V+(C<<23&4294967295|C>>>9),C=b+(V^(w|~z))+I[0]+4096336452&4294967295,b=w+(C<<6&4294967295|C>>>26),C=z+(w^(b|~V))+I[7]+1126891415&4294967295,z=b+(C<<10&4294967295|C>>>22),C=V+(b^(z|~w))+I[14]+2878612391&4294967295,V=z+(C<<15&4294967295|C>>>17),C=w+(z^(V|~b))+I[5]+4237533241&4294967295,w=V+(C<<21&4294967295|C>>>11),C=b+(V^(w|~z))+I[12]+1700485571&4294967295,b=w+(C<<6&4294967295|C>>>26),C=z+(w^(b|~V))+I[3]+2399980690&4294967295,z=b+(C<<10&4294967295|C>>>22),C=V+(b^(z|~w))+I[10]+4293915773&4294967295,V=z+(C<<15&4294967295|C>>>17),C=w+(z^(V|~b))+I[1]+2240044497&4294967295,w=V+(C<<21&4294967295|C>>>11),C=b+(V^(w|~z))+I[8]+1873313359&4294967295,b=w+(C<<6&4294967295|C>>>26),C=z+(w^(b|~V))+I[15]+4264355552&4294967295,z=b+(C<<10&4294967295|C>>>22),C=V+(b^(z|~w))+I[6]+2734768916&4294967295,V=z+(C<<15&4294967295|C>>>17),C=w+(z^(V|~b))+I[13]+1309151649&4294967295,w=V+(C<<21&4294967295|C>>>11),C=b+(V^(w|~z))+I[4]+4149444226&4294967295,b=w+(C<<6&4294967295|C>>>26),C=z+(w^(b|~V))+I[11]+3174756917&4294967295,z=b+(C<<10&4294967295|C>>>22),C=V+(b^(z|~w))+I[2]+718787259&4294967295,V=z+(C<<15&4294967295|C>>>17),C=w+(z^(V|~b))+I[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+z&4294967295}r.prototype.v=function(D,b){b===void 0&&(b=D.length);const w=b-this.blockSize,I=this.C;let V=this.h,z=0;for(;z<b;){if(V==0)for(;z<=w;)o(this,D,z),z+=this.blockSize;if(typeof D=="string"){for(;z<b;)if(I[V++]=D.charCodeAt(z++),V==this.blockSize){o(this,I),V=0;break}}else for(;z<b;)if(I[V++]=D[z++],V==this.blockSize){o(this,I),V=0;break}}this.h=V,this.o+=b},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;b=this.o*8;for(var w=D.length-8;w<D.length;++w)D[w]=b&255,b/=256;for(this.v(D),D=Array(16),b=0,w=0;w<4;++w)for(let I=0;I<32;I+=8)D[b++]=this.g[w]>>>I&255;return D};function f(D,b){var w=y;return Object.prototype.hasOwnProperty.call(w,D)?w[D]:w[D]=b(D)}function d(D,b){this.h=b;const w=[];let I=!0;for(let V=D.length-1;V>=0;V--){const z=D[V]|0;I&&z==b||(w[V]=z,I=!1)}this.g=w}var y={};function _(D){return-128<=D&&D<128?f(D,function(b){return new d([b|0],b<0?-1:0)}):new d([D|0],D<0?-1:0)}function v(D){if(isNaN(D)||!isFinite(D))return N;if(D<0)return nt(v(-D));const b=[];let w=1;for(let I=0;D>=w;I++)b[I]=D/w|0,w*=4294967296;return new d(b,0)}function A(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return nt(A(D.substring(1),b));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=v(Math.pow(b,8));let I=N;for(let z=0;z<D.length;z+=8){var V=Math.min(8,D.length-z);const C=parseInt(D.substring(z,z+V),b);V<8?(V=v(Math.pow(b,V)),I=I.j(V).add(v(C))):(I=I.j(w),I=I.add(v(C)))}return I}var N=_(0),M=_(1),K=_(16777216);s=d.prototype,s.m=function(){if(rt(this))return-nt(this).m();let D=0,b=1;for(let w=0;w<this.g.length;w++){const I=this.i(w);D+=(I>=0?I:4294967296+I)*b,b*=4294967296}return D},s.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(Z(this))return"0";if(rt(this))return"-"+nt(this).toString(D);const b=v(Math.pow(D,6));var w=this;let I="";for(;;){const V=Bt(w,b).g;w=Tt(w,V.j(b));let z=((w.g.length>0?w.g[0]:w.h)>>>0).toString(D);if(w=V,Z(w))return z+I;for(;z.length<6;)z="0"+z;I=z+I}},s.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function Z(D){if(D.h!=0)return!1;for(let b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function rt(D){return D.h==-1}s.l=function(D){return D=Tt(this,D),rt(D)?-1:Z(D)?0:1};function nt(D){const b=D.g.length,w=[];for(let I=0;I<b;I++)w[I]=~D.g[I];return new d(w,~D.h).add(M)}s.abs=function(){return rt(this)?nt(this):this},s.add=function(D){const b=Math.max(this.g.length,D.g.length),w=[];let I=0;for(let V=0;V<=b;V++){let z=I+(this.i(V)&65535)+(D.i(V)&65535),C=(z>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);I=C>>>16,z&=65535,C&=65535,w[V]=C<<16|z}return new d(w,w[w.length-1]&-2147483648?-1:0)};function Tt(D,b){return D.add(nt(b))}s.j=function(D){if(Z(this)||Z(D))return N;if(rt(this))return rt(D)?nt(this).j(nt(D)):nt(nt(this).j(D));if(rt(D))return nt(this.j(nt(D)));if(this.l(K)<0&&D.l(K)<0)return v(this.m()*D.m());const b=this.g.length+D.g.length,w=[];for(var I=0;I<2*b;I++)w[I]=0;for(I=0;I<this.g.length;I++)for(let V=0;V<D.g.length;V++){const z=this.i(I)>>>16,C=this.i(I)&65535,te=D.i(V)>>>16,oe=D.i(V)&65535;w[2*I+2*V]+=C*oe,bt(w,2*I+2*V),w[2*I+2*V+1]+=z*oe,bt(w,2*I+2*V+1),w[2*I+2*V+1]+=C*te,bt(w,2*I+2*V+1),w[2*I+2*V+2]+=z*te,bt(w,2*I+2*V+2)}for(D=0;D<b;D++)w[D]=w[2*D+1]<<16|w[2*D];for(D=b;D<2*b;D++)w[D]=0;return new d(w,0)};function bt(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function mt(D,b){this.g=D,this.h=b}function Bt(D,b){if(Z(b))throw Error("division by zero");if(Z(D))return new mt(N,N);if(rt(D))return b=Bt(nt(D),b),new mt(nt(b.g),nt(b.h));if(rt(b))return b=Bt(D,nt(b)),new mt(nt(b.g),b.h);if(D.g.length>30){if(rt(D)||rt(b))throw Error("slowDivide_ only works with positive integers.");for(var w=M,I=b;I.l(D)<=0;)w=$t(w),I=$t(I);var V=wt(w,1),z=wt(I,1);for(I=wt(I,2),w=wt(w,2);!Z(I);){var C=z.add(I);C.l(D)<=0&&(V=V.add(w),z=C),I=wt(I,1),w=wt(w,1)}return b=Tt(D,V.j(b)),new mt(V,b)}for(V=N;D.l(b)>=0;){for(w=Math.max(1,Math.floor(D.m()/b.m())),I=Math.ceil(Math.log(w)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),z=v(w),C=z.j(b);rt(C)||C.l(D)>0;)w-=I,z=v(w),C=z.j(b);Z(z)&&(z=M),V=V.add(z),D=Tt(D,C)}return new mt(V,D)}s.B=function(D){return Bt(this,D).h},s.and=function(D){const b=Math.max(this.g.length,D.g.length),w=[];for(let I=0;I<b;I++)w[I]=this.i(I)&D.i(I);return new d(w,this.h&D.h)},s.or=function(D){const b=Math.max(this.g.length,D.g.length),w=[];for(let I=0;I<b;I++)w[I]=this.i(I)|D.i(I);return new d(w,this.h|D.h)},s.xor=function(D){const b=Math.max(this.g.length,D.g.length),w=[];for(let I=0;I<b;I++)w[I]=this.i(I)^D.i(I);return new d(w,this.h^D.h)};function $t(D){const b=D.g.length+1,w=[];for(let I=0;I<b;I++)w[I]=D.i(I)<<1|D.i(I-1)>>>31;return new d(w,D.h)}function wt(D,b){const w=b>>5;b%=32;const I=D.g.length-w,V=[];for(let z=0;z<I;z++)V[z]=b>0?D.i(z+w)>>>b|D.i(z+w+1)<<32-b:D.i(z+w);return new d(V,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,tv=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,Ca=d}).apply(typeof By<"u"?By:typeof self<"u"?self:typeof window<"u"?window:{});var Pu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ev,Bl,nv,Qu,Xf,iv,av,sv;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pu=="object"&&Pu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var p=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in p))break t;p=p[L]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var p=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&p.push([T,m[T]]);return p}});var f=f||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,p){return u.call.apply(u.bind,arguments)}function v(u,m,p){return v=_,v.apply(null,arguments)}function A(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function N(u,m){function p(){}p.prototype=m.prototype,u.Z=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Ob=function(T,L,q){for(var $=Array(arguments.length-2),_t=2;_t<arguments.length;_t++)$[_t-2]=arguments[_t];return m.prototype[L].apply(T,$)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function K(u){const m=u.length;if(m>0){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var p=typeof L;if(p=p!="object"?p:L?Array.isArray(L)?"array":p:"null",p=="array"||p=="object"&&typeof L.length=="number"){p=u.length||0;const q=L.length||0;u.length=p+q;for(let $=0;$<q;$++)u[p+$]=L[$]}else u.push(L)}}class rt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function nt(u){d.setTimeout(()=>{throw u},0)}function Tt(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class bt{constructor(){this.h=this.g=null}add(m,p){const T=mt.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var mt=new rt(()=>new Bt,u=>u.reset());class Bt{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let $t,wt=!1,D=new bt,b=()=>{const u=Promise.resolve(void 0);$t=()=>{u.then(w)}};function w(){for(var u;u=Tt();){try{u.h.call(u.g)}catch(p){nt(p)}var m=mt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}wt=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function te(u,m){V.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}N(te,V),te.prototype.init=function(u,m){const p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&te.Z.h.call(this)},te.prototype.h=function(){te.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var oe="closure_listenable_"+(Math.random()*1e6|0),H=0;function W(u,m,p,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++H,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function St(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function Pt(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function O(u){const m={};for(const p in u)m[p]=u[p];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tt(u,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)u[p]=T[p];for(let q=0;q<Q.length;q++)p=Q[q],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function it(u){this.src=u,this.g={},this.h=0}it.prototype.add=function(u,m,p,T,L){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const $=et(u,m,T,L);return $>-1?(m=u[$],p||(m.fa=!1)):(m=new W(m,this.src,q,!!T,L),m.fa=p,u.push(m)),m};function dt(u,m){const p=m.type;if(p in u.g){var T=u.g[p],L=Array.prototype.indexOf.call(T,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(T,L,1),q&&(ut(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function et(u,m,p,T){for(let L=0;L<u.length;++L){const q=u[L];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return L}return-1}var At="closure_lm_"+(Math.random()*1e6|0),Qt={};function Yt(u,m,p,T,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)Yt(u,m[q],p,T,L);return null}return p=Vr(p),u&&u[oe]?u.J(m,p,y(T)?!!T.capture:!1,L):Oa(u,m,p,!1,T,L)}function Oa(u,m,p,T,L,q){if(!m)throw Error("Invalid event type");const $=y(L)?!!L.capture:!!L;let _t=Ia(u);if(_t||(u[At]=_t=new it(u)),p=_t.add(m,p,T,$,q),p.proxy)return p;if(T=ps(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)z||(L=$),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Yn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function ps(){function u(p){return m.call(u.src,u.listener,p)}const m=Nr;return u}function ys(u,m,p,T,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)ys(u,m[q],p,T,L);else T=y(T)?!!T.capture:!!T,p=Vr(p),u&&u[oe]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],p=et(m,p,T,L),p>-1&&(ut(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=Ia(u))&&(m=u.g[m.toString()],u=-1,m&&(u=et(m,p,T,L)),(p=u>-1?m[u]:null)&&_s(p))}function _s(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[oe])dt(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Yn(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Ia(m))?(dt(p,u),p.h==0&&(p.src=null,m[At]=null)):ut(u)}}}function Yn(u){return u in Qt?Qt[u]:Qt[u]="on"+u}function Nr(u,m){if(u.da)u=!0;else{m=new te(m,this);const p=u.listener,T=u.ha||u.src;u.fa&&_s(u),u=p.call(T,m)}return u}function Ia(u){return u=u[At],u instanceof it?u:null}var xr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Vr(u){return typeof u=="function"?u:(u[xr]||(u[xr]=function(m){return u.handleEvent(m)}),u[xr])}function ye(){I.call(this),this.i=new it(this),this.M=this,this.G=null}N(ye,I),ye.prototype[oe]=!0,ye.prototype.removeEventListener=function(u,m,p,T){ys(this,u,m,p,T)};function Ne(u,m){var p,T=u.G;if(T)for(p=[];T;T=T.G)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new V(m,u);else if(m instanceof V)m.target=m.target||u;else{var L=m;m=new V(T,u),tt(m,L)}L=!0;let q,$;if(p)for($=p.length-1;$>=0;$--)q=m.g=p[$],L=ki(q,T,!0,m)&&L;if(q=m.g=u,L=ki(q,T,!0,m)&&L,L=ki(q,T,!1,m)&&L,p)for($=0;$<p.length;$++)q=m.g=p[$],L=ki(q,T,!1,m)&&L}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const p=u.g[m];for(let T=0;T<p.length;T++)ut(p[T]);delete u.g[m],u.h--}}this.G=null},ye.prototype.J=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},ye.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function ki(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const $=m[q];if($&&!$.da&&$.capture==p){const _t=$.listener,fe=$.ha||$.src;$.fa&&dt(u.i,$),L=_t.call(fe,T)!==!1&&L}}return L&&!T.defaultPrevented}function bc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function lo(u){u.g=bc(()=>{u.g=null,u.i&&(u.i=!1,lo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ze extends I{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:lo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ma(u){I.call(this),this.h=u,this.g={}}N(Ma,I);var Or=[];function Ir(u){St(u.g,function(m,p){this.g.hasOwnProperty(p)&&_s(m)},u),u.g={}}Ma.prototype.N=function(){Ma.Z.N.call(this),Ir(this)},Ma.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hi=d.JSON.stringify,Cc=d.JSON.parse,oo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function uo(){}function co(){}var On={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){V.call(this,"d")}N(ze,V);function _n(){V.call(this,"c")}N(_n,V);var he={},ho=null;function vs(){return ho=ho||new ye}he.Ia="serverreachability";function fo(u){V.call(this,he.Ia,u)}N(fo,V);function Xn(u){const m=vs();Ne(m,new fo(m))}he.STAT_EVENT="statevent";function ja(u,m){V.call(this,he.STAT_EVENT,u),this.stat=m}N(ja,V);function _e(u){const m=vs();Ne(m,new ja(m,u))}he.Ja="timingevent";function Kn(u,m){V.call(this,he.Ja,u),this.size=m}N(Kn,V);function Zn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function In(){this.g=!0}In.prototype.ua=function(){this.g=!1};function Rc(u,m,p,T,L,q){u.info(function(){if(u.g)if(q){var $="",_t=q.split("&");for(let qt=0;qt<_t.length;qt++){var fe=_t[qt].split("=");if(fe.length>1){const ie=fe[0];fe=fe[1];const Sn=ie.split("_");$=Sn.length>=2&&Sn[1]=="type"?$+(ie+"="+fe+"&"):$+(ie+"=redacted&")}}}else $=null;else $=q;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+$})}function mo(u,m,p,T,L,q,$){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+q+" "+$})}function Jn(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+wc(u,p)+(T?" "+T:"")})}function za(u,m){u.info(function(){return"TIMEOUT: "+m})}In.prototype.info=function(){};function wc(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var p=q[u];if(!(p.length<2)){var T=p[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let $=1;$<T.length;$++)T[$]=""}}}}return Hi(q)}catch{return m}}var La={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Mr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},jr;function Ua(){}N(Ua,uo),Ua.prototype.g=function(){return new XMLHttpRequest},jr=new Ua;function Ti(u){return encodeURIComponent(String(u))}function go(u){var m=1;u=u.split(":");const p=[];for(;m>0&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function Mn(u,m,p,T){this.j=u,this.i=m,this.l=p,this.S=T||1,this.V=new Ma(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new jn}function jn(){this.i=null,this.g="",this.h=!1}var ve={},Oe={};function $n(u,m,p){u.M=1,u.A=Ba(Te(m)),u.u=p,u.R=!0,Es(u,null)}function Es(u,m){u.F=Date.now(),Wn(u),u.B=Te(u.A);var p=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),bs(p.i,"t",T),u.C=0,p=u.j.L,u.h=new jn,u.g=xo(u.j,p?m:null,!u.u),u.P>0&&(u.O=new Ze(v(u.Y,u,u.g),u.P)),m=u.V,p=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Or[0]=L.toString()),L=Or);for(let q=0;q<L.length;q++){const $=Yt(p,L[q],T||m.handleEvent,!1,m.h||m);if(!$)break;m.g[$.key]=$}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Xn(),Rc(u.i,u.v,u.B,u.l,u.S,u.u)}Mn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Un(u)==3?m.j():this.Y(u)},Mn.prototype.Y=function(u){try{if(u==this.g)t:{const _t=Un(this.g),fe=this.g.ya(),qt=this.g.ca();if(!(_t<3)&&(_t!=3||this.g&&(this.h.h||this.g.la()||Le(this.g)))){this.K||_t!=4||fe==7||(fe==8||qt<=0?Xn(3):Xn(2)),ti(this);var m=this.g.ca();this.X=m;var p=Dc(this);if(this.o=m==200,mo(this.i,this.v,this.B,this.l,this.S,_t,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(T)){var q=T;break e}}q=null}if(u=q)Jn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ei(this,u);else{this.o=!1,this.m=3,_e(12),un(this),vn(this);break t}}if(this.R){u=!0;let ie;for(;!this.K&&this.C<p.length;)if(ie=yo(this,p),ie==Oe){_t==4&&(this.m=4,_e(14),u=!1),Jn(this.i,this.l,null,"[Incomplete Response]");break}else if(ie==ve){this.m=4,_e(15),Jn(this.i,this.l,p,"[Invalid Chunk]"),u=!1;break}else Jn(this.i,this.l,ie,null),ei(this,ie);if(po(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_t!=4||p.length!=0||this.h.h||(this.m=1,_e(16),u=!1),this.o=this.o&&u,!u)Jn(this.i,this.l,p,"[Invalid Chunked Response]"),un(this),vn(this);else if(p.length>0&&!this.W){this.W=!0;var $=this.j;$.g==this&&$.aa&&!$.P&&($.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),Zr($),$.P=!0,_e(11))}}else Jn(this.i,this.l,p,null),ei(this,p);_t==4&&un(this),this.o&&!this.K&&(_t==4?Ro(this.j,this):(this.o=!1,Wn(this)))}else Ai(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),un(this),vn(this)}}}catch{}finally{}};function Dc(u){if(!po(u))return u.g.la();const m=Le(u.g);if(m==="")return"";let p="";const T=m.length,L=Un(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return un(u),vn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,p+=u.h.i.decode(m[q],{stream:!(L&&q==T-1)});return m.length=0,u.h.g+=p,u.C=0,u.h.g}function po(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function yo(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Oe:(p=Number(m.substring(p,T)),isNaN(p)?ve:(T+=1,T+p>m.length?Oe:(m=m.slice(T,T+p),u.C=T+p,m)))}Mn.prototype.cancel=function(){this.K=!0,un(this)};function Wn(u){u.T=Date.now()+u.H,Ts(u,u.H)}function Ts(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Zn(v(u.aa,u),m)}function ti(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Mn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(za(this.i,this.B),this.M!=2&&(Xn(),_e(17)),un(this),this.m=2,vn(this)):Ts(this,this.T-u)};function vn(u){u.j.I==0||u.K||Ro(u.j,u)}function un(u){ti(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Ir(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ei(u,m){try{var p=u.j;if(p.I!=0&&(p.g==u||ii(p.h,u))){if(!u.L&&ii(p.h,u)&&p.I==3){try{var T=p.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<u.F)Ns(p),Ji(p);else break t;Qa(p),_e(18)}}else p.xa=L[1],0<p.xa-p.K&&L[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Zn(v(p.Va,p),6e3));ni(p.h)<=1&&p.ta&&(p.ta=void 0)}else ui(p,11)}else if((u.L||p.g==u)&&Ns(p),!C(m))for(L=p.Ba.g.parse(m),m=0;m<L.length;m++){let qt=L[m];const ie=qt[0];if(!(ie<=p.K))if(p.K=ie,qt=qt[1],p.I==2)if(qt[0]=="c"){p.M=qt[1],p.ba=qt[2];const Sn=qt[3];Sn!=null&&(p.ka=Sn,p.j.info("VER="+p.ka));const ci=qt[4];ci!=null&&(p.za=ci,p.j.info("SVER="+p.za));const Bn=qt[5];Bn!=null&&typeof Bn=="number"&&Bn>0&&(T=1.5*Bn,p.O=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Pn=u.g;if(Pn){const Ya=Pn.g?Pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ya){var q=T.h;q.g||Ya.indexOf("spdy")==-1&&Ya.indexOf("quic")==-1&&Ya.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ur(q,q.h),q.h=null))}if(T.G){const xs=Pn.g?Pn.g.getResponseHeader("X-HTTP-Session-Id"):null;xs&&(T.wa=xs,Ht(T.J,T.G,xs))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-u.F,p.j.info("Handshake RTT: "+p.T+"ms")),T=p;var $=u;if(T.na=No(T,T.L?T.ba:null,T.W),$.L){Br(T.h,$);var _t=$,fe=T.O;fe&&(_t.H=fe),_t.D&&(ti(_t),Wn(_t)),T.g=$}else bo(T);p.i.length>0&&oi(p)}else qt[0]!="stop"&&qt[0]!="close"||ui(p,7);else p.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?ui(p,7):Xr(p):qt[0]!="noop"&&p.l&&p.l.qa(qt),p.A=0)}}Xn(4)}catch{}}var Ee=class{constructor(u,m){this.g=u,this.map=m}};function zr(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Lr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ni(u){return u.h?1:u.g?u.g.size:0}function ii(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ur(u,m){u.g?u.g.add(m):u.h=m}function Br(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}zr.prototype.cancel=function(){if(this.i=Pr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Pr(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.G);return m}return K(u.i)}var _o=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ss(u,m){if(u){u=u.split("&");for(let p=0;p<u.length;p++){const T=u[p].indexOf("=");let L,q=null;T>=0?(L=u[p].substring(0,T),q=u[p].substring(T+1)):L=u[p],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function cn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof cn?(this.l=u.l,Ie(this,u.j),this.o=u.o,this.g=u.g,Gi(this,u.u),this.h=u.h,qr(this,So(u.i)),this.m=u.m):u&&(m=String(u).match(_o))?(this.l=!1,Ie(this,m[1]||"",!0),this.o=ai(m[2]||""),this.g=ai(m[3]||"",!0),Gi(this,m[4]),this.h=ai(m[5]||"",!0),qr(this,m[6]||"",!0),this.m=ai(m[7]||"")):(this.l=!1,this.i=new Qi(null,this.l))}cn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Pa(m,As,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Pa(m,As,!0),"@"),u.push(Ti(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&u.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Pa(p,p.charAt(0)=="/"?kr:vo,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Pa(p,Eo)),u.join("")},cn.prototype.resolve=function(u){const m=Te(this);let p=!!u.j;p?Ie(m,u.j):p=!!u.o,p?m.o=u.o:p=!!u.g,p?m.g=u.g:p=u.u!=null;var T=u.h;if(p)Gi(m,u.u);else if(p=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let $=0;$<L.length;){const _t=L[$++];_t=="."?T&&$==L.length&&q.push(""):_t==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&$==L.length&&q.push("")):(q.push(_t),T=!0)}T=q.join("/")}else T=L}return p?m.h=T:p=u.i.toString()!=="",p?qr(m,So(u.i)):p=!!u.m,p&&(m.m=u.m),m};function Te(u){return new cn(u)}function Ie(u,m,p){u.j=p?ai(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Gi(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function qr(u,m,p){m instanceof Qi?(u.i=m,Cs(u.i,u.l)):(p||(m=Pa(m,Fi)),u.i=new Qi(m,u.l))}function Ht(u,m,p){u.i.set(m,p)}function Ba(u){return Ht(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ai(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Pa(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,We),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function We(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var As=/[#\/\?@]/g,vo=/[#\?:]/g,kr=/[#\?]/g,Fi=/[#\?@]/g,Eo=/#/g;function Qi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function tn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ss(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=Qi.prototype,s.add=function(u,m){tn(this),this.i=null,u=Yi(this,u);let p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function To(u,m){tn(u),m=Yi(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Hr(u,m){return tn(u),m=Yi(u,m),u.g.has(m)}s.forEach=function(u,m){tn(this),this.g.forEach(function(p,T){p.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Gr(u,m){tn(u);let p=[];if(typeof m=="string")Hr(u,m)&&(p=p.concat(u.g.get(Yi(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)p=p.concat(u[m]);return p}s.set=function(u,m){return tn(this),this.i=null,u=Yi(this,u),Hr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Gr(this,u),u.length>0?String(u[0]):m):m};function bs(u,m,p){To(u,m),p.length>0&&(u.i=null,u.g.set(Yi(u,m),K(p)),u.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var p=m[T];const L=Ti(p);p=Gr(this,p);for(let q=0;q<p.length;q++){let $=L;p[q]!==""&&($+="="+Ti(p[q])),u.push($)}}return this.i=u.join("&")};function So(u){const m=new Qi;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Yi(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Cs(u,m){m&&!u.j&&(tn(u),u.i=null,u.g.forEach(function(p,T){const L=T.toLowerCase();T!=L&&(To(this,T),bs(this,L,p))},u)),u.j=m}function zn(u,m){const p=new In;if(d.Image){const T=new Image;T.onload=A(En,p,"TestLoadImage: loaded",!0,m,T),T.onerror=A(En,p,"TestLoadImage: error",!1,m,T),T.onabort=A(En,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(En,p,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Fr(u,m){const p=new In,T=new AbortController,L=setTimeout(()=>{T.abort(),En(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(L),q.ok?En(p,"TestPingServer: ok",!0,m):En(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),En(p,"TestPingServer: error",!1,m)})}function En(u,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function Xi(){this.g=new oo}function si(u){this.i=u.Sb||null,this.h=u.ab||!1}N(si,uo),si.prototype.g=function(){return new qa(this.i,this.h)};function qa(u,m){ye.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}N(qa,ye),s=qa.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Ln(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ki(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ln(this)),this.g&&(this.readyState=3,Ln(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Rs(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Rs(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ki(this):Ln(this),this.readyState==3&&Rs(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ki(this))},s.Na=function(u){this.g&&(this.response=u,Ki(this))},s.ga=function(){this.g&&Ki(this)};function Ki(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Ln(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Ln(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(qa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Tn(u){let m="";return St(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function ka(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Tn(p),typeof u=="string"?p!=null&&Ti(p):Ht(u,m,p))}function Xt(u){ye.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}N(Xt,ye);var ri=/^https?$/i,Qr=["POST","PUT"];s=Xt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():jr.g(),this.g.onreadystatechange=M(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Ha(this,q);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Qr,m,void 0)>=0)||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,$]of p)this.g.setRequestHeader(q,$);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Ha(this,q)}};function Ha(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Yr(u),Si(u)}function Yr(u){u.A||(u.A=!0,Ne(u,"complete"),Ne(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ne(this,"complete"),Ne(this,"abort"),Si(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Si(this,!0)),Xt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ga(this):this.Xa())},s.Xa=function(){Ga(this)};function Ga(u){if(u.h&&typeof f<"u"){if(u.v&&Un(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ne(u,"readystatechange"),Un(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=q===0){let $=String(u.D).match(_o)[1]||null;!$&&d.self&&d.self.location&&($=d.self.location.protocol.slice(0,-1)),T=!ri.test($?$.toLowerCase():"")}p=T}if(p)Ne(u,"complete"),Ne(u,"success");else{u.o=6;try{var L=Un(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Yr(u)}}finally{Si(u)}}}}function Si(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const p=u.g;u.g=null,m||Ne(u,"ready");try{p.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Un(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Un(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Cc(m)}};function Le(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ai(u){const m={};u=(u.g&&Un(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(C(u[T]))continue;var p=go(u[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[L]||[];m[L]=q,q.push(p)}Pt(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function li(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function Zi(u){this.za=0,this.i=[],this.j=new In,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=li("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=li("baseRetryDelayMs",5e3,u),this.Za=li("retryDelaySeedMs",1e4,u),this.Ta=li("forwardChannelMaxRetries",2,u),this.va=li("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new zr(u&&u.concurrentRequestLimit),this.Ba=new Xi,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Zi.prototype,s.ka=8,s.I=1,s.connect=function(u,m,p,T){_e(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.J=No(this,null,this.W),oi(this)};function Xr(u){if(ws(u),u.I==3){var m=u.V++,p=Te(u.J);if(Ht(p,"SID",u.M),Ht(p,"RID",m),Ht(p,"TYPE","terminate"),Fa(u,p),m=new Mn(u,u.j,m),m.M=2,m.A=Ba(Te(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=xo(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Wn(m)}Do(u)}function Ji(u){u.g&&(Zr(u),u.g.cancel(),u.g=null)}function ws(u){Ji(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ns(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function oi(u){if(!Lr(u.h)&&!u.m){u.m=!0;var m=u.Ea;$t||b(),wt||($t(),wt=!0),D.add(m,u),u.D=0}}function Ds(u,m){return ni(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Zn(v(u.Ea,u,m),wo(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Mn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=O(q),tt(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Ao(this,L,m),p=Te(this.J),Ht(p,"RID",u),Ht(p,"CVER",22),this.G&&Ht(p,"X-HTTP-Session-Id",this.G),Fa(this,p),q&&(this.R?m="headers="+Ti(Tn(q))+"&"+m:this.u&&ka(p,this.u,q)),Ur(this.h,L),this.Ra&&Ht(p,"TYPE","init"),this.S?(Ht(p,"$req",m),Ht(p,"SID","null"),L.U=!0,$n(L,p,null)):$n(L,p,m),this.I=2}}else this.I==3&&(u?Kr(this,u):this.i.length==0||Lr(this.h)||Kr(this))};function Kr(u,m){var p;m?p=m.l:p=u.V++;const T=Te(u.J);Ht(T,"SID",u.M),Ht(T,"RID",p),Ht(T,"AID",u.K),Fa(u,T),u.u&&u.o&&ka(T,u.u,u.o),p=new Mn(u,u.j,p,u.D+1),u.u===null&&(p.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Ao(u,p,1e3),p.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ur(u.h,p),$n(p,T,m)}function Fa(u,m){u.H&&St(u.H,function(p,T){Ht(m,T,p)}),u.l&&St({},function(p,T){Ht(m,T,p)})}function Ao(u,m,p){p=Math.min(u.i.length,p);const T=u.l?v(u.l.Ka,u.l,u):null;t:{var L=u.i;let _t=-1;for(;;){const fe=["count="+p];_t==-1?p>0?(_t=L[0].g,fe.push("ofs="+_t)):_t=0:fe.push("ofs="+_t);let qt=!0;for(let ie=0;ie<p;ie++){var q=L[ie].g;const Sn=L[ie].map;if(q-=_t,q<0)_t=Math.max(0,L[ie].g-100),qt=!1;else try{q="req"+q+"_"||"";try{var $=Sn instanceof Map?Sn:Object.entries(Sn);for(const[ci,Bn]of $){let Pn=Bn;y(Bn)&&(Pn=Hi(Bn)),fe.push(q+ci+"="+encodeURIComponent(Pn))}}catch(ci){throw fe.push(q+"type="+encodeURIComponent("_badmap")),ci}}catch{T&&T(Sn)}}if(qt){$=fe.join("&");break t}}$=void 0}return u=u.i.splice(0,p),m.G=u,$}function bo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;$t||b(),wt||($t(),wt=!0),D.add(m,u),u.A=0}}function Qa(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Zn(v(u.Da,u),wo(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Co(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Zn(v(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),Ji(this),Co(this))};function Zr(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Co(u){u.g=new Mn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Te(u.na);Ht(m,"RID","rpc"),Ht(m,"SID",u.M),Ht(m,"AID",u.K),Ht(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ht(m,"TO",u.ia),Ht(m,"TYPE","xmlhttp"),Fa(u,m),u.u&&u.o&&ka(m,u.u,u.o),u.O&&(u.g.H=u.O);var p=u.g;u=u.ba,p.M=1,p.A=Ba(Te(m)),p.u=null,p.R=!0,Es(p,u)}s.Va=function(){this.C!=null&&(this.C=null,Ji(this),Qa(this),_e(19))};function Ns(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Ro(u,m){var p=null;if(u.g==m){Ns(u),Zr(u),u.g=null;var T=2}else if(ii(u.h,m))p=m.G,Br(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=vs(),Ne(T,new Kn(T,p)),oi(u)}else bo(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&Ds(u,m)||T==2&&Qa(u)))switch(p&&p.length>0&&(m=u.h,m.i=m.i.concat(p)),L){case 1:ui(u,5);break;case 4:ui(u,10);break;case 3:ui(u,6);break;default:ui(u,2)}}}function wo(u,m){let p=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(p*=2),p*m}function ui(u,m){if(u.j.info("Error code "+m),m==2){var p=v(u.bb,u),T=u.Ua;const L=!T;T=new cn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ie(T,"https"),Ba(T),L?zn(T.toString(),p):Fr(T.toString(),p)}else _e(2);u.I=0,u.l&&u.l.pa(m),Do(u),ws(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function Do(u){if(u.I=0,u.ja=[],u.l){const m=Pr(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.oa()}}function No(u,m,p){var T=p instanceof cn?Te(p):new cn(p);if(T.g!="")m&&(T.g=m+"."+T.g),Gi(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new cn(null);T&&Ie(q,T),m&&(q.g=m),L&&Gi(q,L),p&&(q.h=p),T=q}return p=u.G,m=u.wa,p&&m&&Ht(T,p,m),Ht(T,"VER",u.ka),Fa(u,T),T}function xo(u,m,p){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xt(new si({ab:p})):new Xt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vo(){}s=Vo.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function $i(){}$i.prototype.g=function(u,m){return new Je(u,m)};function Je(u,m){ye.call(this),this.g=new Zi(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!C(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new bi(this)}N(Je,ye),Je.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){Xr(this.g)},Je.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.v&&(p={},p.__data__=Hi(u),u=p);m.i.push(new Ee(m.Ya++,u)),m.I==3&&oi(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,Xr(this.g),delete this.g,Je.Z.N.call(this)};function Oo(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}N(Oo,ze);function Io(){_n.call(this),this.status=1}N(Io,_n);function bi(u){this.g=u}N(bi,Vo),bi.prototype.ra=function(){Ne(this.g,"a")},bi.prototype.qa=function(u){Ne(this.g,new Oo(u))},bi.prototype.pa=function(u){Ne(this.g,new Io)},bi.prototype.oa=function(){Ne(this.g,"b")},$i.prototype.createWebChannel=$i.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,sv=function(){return new $i},av=function(){return vs()},iv=he,Xf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},La.NO_ERROR=0,La.TIMEOUT=8,La.HTTP_ERROR=6,Qu=La,Mr.COMPLETE="complete",nv=Mr,co.EventType=On,On.OPEN="a",On.CLOSE="b",On.ERROR="c",On.MESSAGE="d",ye.prototype.listen=ye.prototype.J,Bl=co,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,ev=Xt}).apply(typeof Pu<"u"?Pu:typeof self<"u"?self:typeof window<"u"?window:{});const Py="@firebase/firestore",qy="4.9.2";class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");let br="12.3.0";const ms=new X_("@firebase/firestore");function rr(){return ms.logLevel}function at(s,...e){if(ms.logLevel<=It.DEBUG){const i=e.map(_d);ms.debug(`Firestore (${br}): ${s}`,...i)}}function qi(s,...e){if(ms.logLevel<=It.ERROR){const i=e.map(_d);ms.error(`Firestore (${br}): ${s}`,...i)}}function pr(s,...e){if(ms.logLevel<=It.WARN){const i=e.map(_d);ms.warn(`Firestore (${br}): ${s}`,...i)}}function _d(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function yt(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,rv(s,r,i)}function rv(s,e,i){let r=`FIRESTORE (${br}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw qi(r),new Error(r)}function le(s,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||rv(e,o,r)}function Mt(s,e){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Ar{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class lv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class T2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Qe.UNAUTHENTICATED)))}shutdown(){}}class S2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class A2{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){le(this.o===void 0,42304);let r=this.i;const o=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let f=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new hr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=f;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},y=_=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>y(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?y(_):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new hr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(le(typeof r.accessToken=="string",31837,{l:r}),new lv(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return le(e===null||typeof e=="string",2055,{h:e}),new Qe(e)}}class b2{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class C2{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new b2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Qe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ky{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class R2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,r2(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){le(this.o===void 0,3512);const r=f=>{f.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const d=f.token!==this.m;return this.m=f.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable((()=>r(f)))};const o=f=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((f=>o(f))),setTimeout((()=>{if(!this.appCheck){const f=this.V.getImmediate({optional:!0});f?o(f):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ky(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(le(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new ky(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function w2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class ov{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=w2(40);for(let f=0;f<o.length;++f)r.length<20&&o[f]<i&&(r+=e.charAt(o[f]%62))}return r}}function Vt(s,e){return s<e?-1:s>e?1:0}function Kf(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const o=s.charAt(r),f=e.charAt(r);if(o!==f)return Mf(o)===Mf(f)?Vt(o,f):Mf(o)?1:-1}return Vt(s.length,e.length)}const D2=55296,N2=57343;function Mf(s){const e=s.charCodeAt(0);return e>=D2&&e<=N2}function yr(s,e,i){return s.length===e.length&&s.every(((r,o)=>i(r,e[o])))}const Hy="__name__";class gi{constructor(e,i,r){i===void 0?i=0:i>e.length&&yt(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&yt(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return gi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof gi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const f=gi.compareSegments(e.get(o),i.get(o));if(f!==0)return f}return Vt(e.length,i.length)}static compareSegments(e,i){const r=gi.isNumericId(e),o=gi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?gi.extractNumericId(e).compare(gi.extractNumericId(i)):Kf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ca.fromString(e.substring(4,e.length-2))}}class se extends gi{construct(e,i,r){return new se(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new lt(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new se(i)}static emptyPath(){return new se([])}}const x2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends gi{construct(e,i,r){return new Xe(e,i,r)}static isValidIdentifier(e){return x2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Hy}static keyField(){return new Xe([Hy])}static fromServerFormat(e){const i=[];let r="",o=0;const f=()=>{if(r.length===0)throw new lt(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new lt(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new lt(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(r+=y,o++):(f(),o++)}if(f(),d)throw new lt(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xe(i)}static emptyPath(){return new Xe([])}}class ft{constructor(e){this.path=e}static fromPath(e){return new ft(se.fromString(e))}static fromName(e){return new ft(se.fromString(e).popFirst(5))}static empty(){return new ft(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return se.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new se(e.slice()))}}function V2(s,e,i,r){if(e===!0&&r===!0)throw new lt(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Gy(s){if(ft.isDocumentKey(s))throw new lt(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function uv(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function fc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":yt(12329,{type:typeof s})}function Yu(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new lt(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=fc(s);throw new lt(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function De(s,e){const i={typeString:s};return e&&(i.value=e),i}function no(s,e){if(!uv(s))throw new lt(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,f="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(f!==void 0&&d!==f.value){i=`Expected '${r}' field to equal '${f.value}'`;break}}if(i)throw new lt(J.INVALID_ARGUMENT,i);return!0}const Fy=-62135596800,Qy=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(e){return re.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*Qy);return new re(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new lt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Fy)throw new lt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Qy}_compareTo(e){return this.seconds===e.seconds?Vt(this.nanoseconds,e.nanoseconds):Vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(no(e,re._jsonSchema))return new re(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Fy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:De("string",re._jsonSchemaVersion),seconds:De("number"),nanoseconds:De("number")};class pt{static fromTimestamp(e){return new pt(e)}static min(){return new pt(new re(0,0))}static max(){return new pt(new re(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const $l=-1;function O2(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=pt.fromTimestamp(r===1e9?new re(i+1,0):new re(i,r));return new Ra(o,ft.empty(),e)}function I2(s){return new Ra(s.readTime,s.key,$l)}class Ra{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Ra(pt.min(),ft.empty(),$l)}static max(){return new Ra(pt.max(),ft.empty(),$l)}}function M2(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ft.comparator(s.documentKey,e.documentKey),i!==0?i:Vt(s.largestBatchId,e.largestBatchId))}const j2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class z2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function dc(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==j2)throw s;at("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((r,o)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(r,o)},this.catchCallback=f=>{this.wrapFailure(i,f).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,r)=>{i(e)}))}static reject(e){return new X(((i,r)=>{r(e)}))}static waitFor(e){return new X(((i,r)=>{let o=0,f=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++f,d&&f===o&&i()}),(_=>r(_)))})),d=!0,f===o&&i()}))}static or(e){let i=X.resolve(!1);for(const r of e)i=i.next((o=>o?X.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,f)=>{r.push(i.call(this,o,f))})),this.waitFor(r)}static mapArray(e,i){return new X(((r,o)=>{const f=e.length,d=new Array(f);let y=0;for(let _=0;_<f;_++){const v=_;i(e[v]).next((A=>{d[v]=A,++y,y===f&&r(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new X(((r,o)=>{const f=()=>{e()===!0?i().next((()=>{f()}),o):r()};f()}))}}function L2(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Cr(s){return s.name==="IndexedDbTransactionError"}class mc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}mc.ce=-1;const U2=-1;function gc(s){return s==null}function ic(s){return s===0&&1/s==-1/0}function B2(s){return typeof s=="number"&&Number.isInteger(s)&&!ic(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const cv="";function P2(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Yy(e)),e=q2(s.get(i),e);return Yy(e)}function q2(s,e){let i=e;const r=s.length;for(let o=0;o<r;o++){const f=s.charAt(o);switch(f){case"\0":i+="";break;case cv:i+="";break;default:i+=f}}return i}function Yy(s){return s+cv+""}function Xy(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Rr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function hv(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class pe{constructor(e,i){this.comparator=e,this.root=i||ke.EMPTY}insert(e,i){return new pe(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ke.BLACK,null,null))}remove(e){return new pe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ke.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qu(this.root,e,this.comparator,!1)}getReverseIterator(){return new qu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qu(this.root,e,this.comparator,!0)}}class qu{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=i?r(e.key,i):1,i&&o&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(f===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ke{constructor(e,i,r,o,f){this.key=e,this.value=i,this.color=r??ke.RED,this.left=o??ke.EMPTY,this.right=f??ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,f){return new ke(e??this.key,i??this.value,r??this.color,o??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const f=r(e,o.key);return o=f<0?o.copy(null,null,null,o.left.insert(e,i,r),null):f===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ke.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ke.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw yt(27949);return e+(this.isRed()?0:1)}}ke.EMPTY=null,ke.RED=!0,ke.BLACK=!1;ke.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(e,i,r,o,f){return this}insert(e,i,r){return new ke(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(e){this.comparator=e,this.data=new pe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Ky(this.data.getIterator())}getIteratorFrom(e){return new Ky(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Ve)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,f=r.getNext().key;if(this.comparator(o,f)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ve(this.comparator);return i.data=e,i}}class Ky{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ta{constructor(e){this.fields=e,e.sort(Xe.comparator)}static empty(){return new Ta([])}unionWith(e){let i=new Ve(Xe.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Ta(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return yr(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class fv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class He{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new fv("Invalid base64 string: "+f):f}})(e);return new He(i)}static fromUint8Array(e){const i=(function(o){let f="";for(let d=0;d<o.length;++d)f+=String.fromCharCode(o[d]);return f})(e);return new He(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}He.EMPTY_BYTE_STRING=new He("");const k2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wa(s){if(le(!!s,39018),typeof s=="string"){let e=0;const i=k2.exec(s);if(le(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ge(s.seconds),nanos:ge(s.nanos)}}function ge(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Da(s){return typeof s=="string"?He.fromBase64String(s):He.fromUint8Array(s)}const dv="server_timestamp",mv="__type__",gv="__previous_value__",pv="__local_write_time__";function vd(s){return(s?.mapValue?.fields||{})[mv]?.stringValue===dv}function pc(s){const e=s.mapValue.fields[gv];return vd(e)?pc(e):e}function Wl(s){const e=wa(s.mapValue.fields[pv].timestampValue);return new re(e.seconds,e.nanos)}class H2{constructor(e,i,r,o,f,d,y,_,v,A){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=f,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=A}}const ac="(default)";class to{constructor(e,i){this.projectId=e,this.database=i||ac}static empty(){return new to("","")}get isDefaultDatabase(){return this.database===ac}isEqual(e){return e instanceof to&&e.projectId===this.projectId&&e.database===this.database}}const yv="__type__",G2="__max__",ku={mapValue:{}},_v="__vector__",sc="value";function Na(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?vd(s)?4:Q2(s)?9007199254740991:F2(s)?10:11:yt(28295,{value:s})}function Ei(s,e){if(s===e)return!0;const i=Na(s);if(i!==Na(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Wl(s).isEqual(Wl(e));case 3:return(function(o,f){if(typeof o.timestampValue=="string"&&typeof f.timestampValue=="string"&&o.timestampValue.length===f.timestampValue.length)return o.timestampValue===f.timestampValue;const d=wa(o.timestampValue),y=wa(f.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,f){return Da(o.bytesValue).isEqual(Da(f.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,f){return ge(o.geoPointValue.latitude)===ge(f.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(f.geoPointValue.longitude)})(s,e);case 2:return(function(o,f){if("integerValue"in o&&"integerValue"in f)return ge(o.integerValue)===ge(f.integerValue);if("doubleValue"in o&&"doubleValue"in f){const d=ge(o.doubleValue),y=ge(f.doubleValue);return d===y?ic(d)===ic(y):isNaN(d)&&isNaN(y)}return!1})(s,e);case 9:return yr(s.arrayValue.values||[],e.arrayValue.values||[],Ei);case 10:case 11:return(function(o,f){const d=o.mapValue.fields||{},y=f.mapValue.fields||{};if(Xy(d)!==Xy(y))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(y[_]===void 0||!Ei(d[_],y[_])))return!1;return!0})(s,e);default:return yt(52216,{left:s})}}function eo(s,e){return(s.values||[]).find((i=>Ei(i,e)))!==void 0}function _r(s,e){if(s===e)return 0;const i=Na(s),r=Na(e);if(i!==r)return Vt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(s.booleanValue,e.booleanValue);case 2:return(function(f,d){const y=ge(f.integerValue||f.doubleValue),_=ge(d.integerValue||d.doubleValue);return y<_?-1:y>_?1:y===_?0:isNaN(y)?isNaN(_)?0:-1:1})(s,e);case 3:return Zy(s.timestampValue,e.timestampValue);case 4:return Zy(Wl(s),Wl(e));case 5:return Kf(s.stringValue,e.stringValue);case 6:return(function(f,d){const y=Da(f),_=Da(d);return y.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(f,d){const y=f.split("/"),_=d.split("/");for(let v=0;v<y.length&&v<_.length;v++){const A=Vt(y[v],_[v]);if(A!==0)return A}return Vt(y.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(f,d){const y=Vt(ge(f.latitude),ge(d.latitude));return y!==0?y:Vt(ge(f.longitude),ge(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Jy(s.arrayValue,e.arrayValue);case 10:return(function(f,d){const y=f.fields||{},_=d.fields||{},v=y[sc]?.arrayValue,A=_[sc]?.arrayValue,N=Vt(v?.values?.length||0,A?.values?.length||0);return N!==0?N:Jy(v,A)})(s.mapValue,e.mapValue);case 11:return(function(f,d){if(f===ku.mapValue&&d===ku.mapValue)return 0;if(f===ku.mapValue)return 1;if(d===ku.mapValue)return-1;const y=f.fields||{},_=Object.keys(y),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let N=0;N<_.length&&N<A.length;++N){const M=Kf(_[N],A[N]);if(M!==0)return M;const K=_r(y[_[N]],v[A[N]]);if(K!==0)return K}return Vt(_.length,A.length)})(s.mapValue,e.mapValue);default:throw yt(23264,{he:i})}}function Zy(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Vt(s,e);const i=wa(s),r=wa(e),o=Vt(i.seconds,r.seconds);return o!==0?o:Vt(i.nanos,r.nanos)}function Jy(s,e){const i=s.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const f=_r(i[o],r[o]);if(f)return f}return Vt(i.length,r.length)}function vr(s){return Zf(s)}function Zf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=wa(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Da(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ft.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const f of i.values||[])o?o=!1:r+=",",r+=Zf(f);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",f=!0;for(const d of r)f?f=!1:o+=",",o+=`${d}:${Zf(i.fields[d])}`;return o+"}"})(s.mapValue):yt(61005,{value:s})}function Xu(s){switch(Na(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pc(s);return e?16+Xu(e):16;case 5:return 2*s.stringValue.length;case 6:return Da(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,f)=>o+Xu(f)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return Rr(r.fields,((f,d)=>{o+=f.length+Xu(d)})),o})(s.mapValue);default:throw yt(13486,{value:s})}}function $y(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Jf(s){return!!s&&"integerValue"in s}function Ed(s){return!!s&&"arrayValue"in s}function Wy(s){return!!s&&"nullValue"in s}function t_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function jf(s){return!!s&&"mapValue"in s}function F2(s){return(s?.mapValue?.fields||{})[yv]?.stringValue===_v}function Gl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Rr(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Gl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Gl(s.arrayValue.values[i]);return e}return{...s}}function Q2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===G2}class pi{constructor(e){this.value=e}static empty(){return new pi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!jf(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gl(i)}setAll(e){let i=Xe.emptyPath(),r={},o=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const _=this.getFieldsMap(i);this.applyChanges(_,r,o),r={},o=[],i=y.popLast()}d?r[y.lastSegment()]=Gl(d):o.push(y.lastSegment())}));const f=this.getFieldsMap(i);this.applyChanges(f,r,o)}delete(e){const i=this.field(e.popLast());jf(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ei(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];jf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Rr(i,((o,f)=>e[o]=f));for(const o of r)delete e[o]}clone(){return new pi(Gl(this.value))}}class Ye{constructor(e,i,r,o,f,d,y){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=f,this.data=d,this.documentState=y}static newInvalidDocument(e){return new Ye(e,0,pt.min(),pt.min(),pt.min(),pi.empty(),0)}static newFoundDocument(e,i,r,o){return new Ye(e,1,i,pt.min(),r,o,0)}static newNoDocument(e,i){return new Ye(e,2,i,pt.min(),pt.min(),pi.empty(),0)}static newUnknownDocument(e,i){return new Ye(e,3,i,pt.min(),pt.min(),pi.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ye&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rc{constructor(e,i){this.position=e,this.inclusive=i}}function e_(s,e,i){let r=0;for(let o=0;o<s.position.length;o++){const f=e[o],d=s.position[o];if(f.field.isKeyField()?r=ft.comparator(ft.fromName(d.referenceValue),i.key):r=_r(d,i.data.field(f.field)),f.dir==="desc"&&(r*=-1),r!==0)break}return r}function n_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ei(s.position[i],e.position[i]))return!1;return!0}class lc{constructor(e,i="asc"){this.field=e,this.dir=i}}function Y2(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class vv{}class we extends vv{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new K2(e,i,r):i==="array-contains"?new $2(e,r):i==="in"?new W2(e,r):i==="not-in"?new tS(e,r):i==="array-contains-any"?new eS(e,r):new we(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new Z2(e,r):new J2(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(_r(i,this.value)):i!==null&&Na(this.value)===Na(i)&&this.matchesComparison(_r(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qn extends vv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Qn(e,i)}matches(e){return Ev(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ev(s){return s.op==="and"}function Tv(s){return X2(s)&&Ev(s)}function X2(s){for(const e of s.filters)if(e instanceof Qn)return!1;return!0}function $f(s){if(s instanceof we)return s.field.canonicalString()+s.op.toString()+vr(s.value);if(Tv(s))return s.filters.map((e=>$f(e))).join(",");{const e=s.filters.map((i=>$f(i))).join(",");return`${s.op}(${e})`}}function Sv(s,e){return s instanceof we?(function(r,o){return o instanceof we&&r.op===o.op&&r.field.isEqual(o.field)&&Ei(r.value,o.value)})(s,e):s instanceof Qn?(function(r,o){return o instanceof Qn&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((f,d,y)=>f&&Sv(d,o.filters[y])),!0):!1})(s,e):void yt(19439)}function Av(s){return s instanceof we?(function(i){return`${i.field.canonicalString()} ${i.op} ${vr(i.value)}`})(s):s instanceof Qn?(function(i){return i.op.toString()+" {"+i.getFilters().map(Av).join(" ,")+"}"})(s):"Filter"}class K2 extends we{constructor(e,i,r){super(e,i,r),this.key=ft.fromName(r.referenceValue)}matches(e){const i=ft.comparator(e.key,this.key);return this.matchesComparison(i)}}class Z2 extends we{constructor(e,i){super(e,"in",i),this.keys=bv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class J2 extends we{constructor(e,i){super(e,"not-in",i),this.keys=bv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function bv(s,e){return(e.arrayValue?.values||[]).map((i=>ft.fromName(i.referenceValue)))}class $2 extends we{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Ed(i)&&eo(i.arrayValue,this.value)}}class W2 extends we{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&eo(this.value.arrayValue,i)}}class tS extends we{constructor(e,i){super(e,"not-in",i)}matches(e){if(eo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!eo(this.value.arrayValue,i)}}class eS extends we{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Ed(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>eo(this.value.arrayValue,r)))}}class nS{constructor(e,i=null,r=[],o=[],f=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=f,this.startAt=d,this.endAt=y,this.Te=null}}function i_(s,e=null,i=[],r=[],o=null,f=null,d=null){return new nS(s,e,i,r,o,f,d)}function Td(s){const e=Mt(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>$f(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(f){return f.field.canonicalString()+f.dir})(r))).join(","),gc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>vr(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>vr(r))).join(",")),e.Te=i}return e.Te}function Sd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!Y2(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Sv(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!n_(s.startAt,e.startAt)&&n_(s.endAt,e.endAt)}function Wf(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class io{constructor(e,i=null,r=[],o=[],f=null,d="F",y=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=f,this.limitType=d,this.startAt=y,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function iS(s,e,i,r,o,f,d,y){return new io(s,e,i,r,o,f,d,y)}function Ad(s){return new io(s)}function a_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Cv(s){return s.collectionGroup!==null}function Fl(s){const e=Mt(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const f of e.explicitOrderBy)e.Ie.push(f),i.add(f.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Ve(Xe.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(y=y.add(v.field))}))})),y})(e).forEach((f=>{i.has(f.canonicalString())||f.isKeyField()||e.Ie.push(new lc(f,r))})),i.has(Xe.keyField().canonicalString())||e.Ie.push(new lc(Xe.keyField(),r))}return e.Ie}function yi(s){const e=Mt(s);return e.Ee||(e.Ee=aS(e,Fl(s))),e.Ee}function aS(s,e){if(s.limitType==="F")return i_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const f=o.dir==="desc"?"asc":"desc";return new lc(o.field,f)}));const i=s.endAt?new rc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new rc(s.startAt.position,s.startAt.inclusive):null;return i_(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function td(s,e){const i=s.filters.concat([e]);return new io(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function ed(s,e,i){return new io(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function yc(s,e){return Sd(yi(s),yi(e))&&s.limitType===e.limitType}function Rv(s){return`${Td(yi(s))}|lt:${s.limitType}`}function lr(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>Av(o))).join(", ")}]`),gc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>vr(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>vr(o))).join(",")),`Target(${r})`})(yi(s))}; limitType=${s.limitType})`}function _c(s,e){return e.isFoundDocument()&&(function(r,o){const f=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(f):ft.isDocumentKey(r.path)?r.path.isEqual(f):r.path.isImmediateParentOf(f)})(s,e)&&(function(r,o){for(const f of Fl(r))if(!f.field.isKeyField()&&o.data.field(f.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const f of r.filters)if(!f.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(d,y,_){const v=e_(d,y,_);return d.inclusive?v<=0:v<0})(r.startAt,Fl(r),o)||r.endAt&&!(function(d,y,_){const v=e_(d,y,_);return d.inclusive?v>=0:v>0})(r.endAt,Fl(r),o))})(s,e)}function sS(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function wv(s){return(e,i)=>{let r=!1;for(const o of Fl(s)){const f=rS(o,e,i);if(f!==0)return f;r=r||o.field.isKeyField()}return 0}}function rS(s,e,i){const r=s.field.isKeyField()?ft.comparator(e.key,i.key):(function(f,d,y){const _=d.data.field(f),v=y.data.field(f);return _!==null&&v!==null?_r(_,v):yt(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return yt(19790,{direction:s.dir})}}class gs{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,f]of r)if(this.equalsFn(o,e))return f}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let f=0;f<o.length;f++)if(this.equalsFn(o[f][0],e))return void(o[f]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Rr(this.inner,((i,r)=>{for(const[o,f]of r)e(o,f)}))}isEmpty(){return hv(this.inner)}size(){return this.innerSize}}const lS=new pe(ft.comparator);function xa(){return lS}const Dv=new pe(ft.comparator);function Pl(...s){let e=Dv;for(const i of s)e=e.insert(i.key,i);return e}function oS(s){let e=Dv;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function cs(){return Ql()}function Nv(){return Ql()}function Ql(){return new gs((s=>s.toString()),((s,e)=>s.isEqual(e)))}const uS=new Ve(ft.comparator);function zt(...s){let e=uS;for(const i of s)e=e.add(i);return e}const cS=new Ve(Vt);function hS(){return cS}function bd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ic(e)?"-0":e}}function xv(s){return{integerValue:""+s}}function fS(s,e){return B2(e)?xv(e):bd(s,e)}class vc{constructor(){this._=void 0}}function dS(s,e,i){return s instanceof nd?(function(o,f){const d={fields:{[mv]:{stringValue:dv},[pv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return f&&vd(f)&&(f=pc(f)),f&&(d.fields[gv]=f),{mapValue:d}})(i,e):s instanceof oc?Vv(s,e):s instanceof uc?Ov(s,e):(function(o,f){const d=gS(o,f),y=s_(d)+s_(o.Ae);return Jf(d)&&Jf(o.Ae)?xv(y):bd(o.serializer,y)})(s,e)}function mS(s,e,i){return s instanceof oc?Vv(s,e):s instanceof uc?Ov(s,e):i}function gS(s,e){return s instanceof id?(function(r){return Jf(r)||(function(f){return!!f&&"doubleValue"in f})(r)})(e)?e:{integerValue:0}:null}class nd extends vc{}class oc extends vc{constructor(e){super(),this.elements=e}}function Vv(s,e){const i=Iv(e);for(const r of s.elements)i.some((o=>Ei(o,r)))||i.push(r);return{arrayValue:{values:i}}}class uc extends vc{constructor(e){super(),this.elements=e}}function Ov(s,e){let i=Iv(e);for(const r of s.elements)i=i.filter((o=>!Ei(o,r)));return{arrayValue:{values:i}}}class id extends vc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function s_(s){return ge(s.integerValue||s.doubleValue)}function Iv(s){return Ed(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function pS(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof oc&&o instanceof oc||r instanceof uc&&o instanceof uc?yr(r.elements,o.elements,Ei):r instanceof id&&o instanceof id?Ei(r.Ae,o.Ae):r instanceof nd&&o instanceof nd})(s.transform,e.transform)}class fs{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new fs}static exists(e){return new fs(void 0,e)}static updateTime(e){return new fs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ku(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Cd{}function Mv(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new _S(s.key,fs.none()):new Rd(s.key,s.data,fs.none());{const i=s.data,r=pi.empty();let o=new Ve(Xe.comparator);for(let f of e.fields)if(!o.has(f)){let d=i.field(f);d===null&&f.length>1&&(f=f.popLast(),d=i.field(f)),d===null?r.delete(f):r.set(f,d),o=o.add(f)}return new Ec(s.key,r,new Ta(o.toArray()),fs.none())}}function yS(s,e,i){s instanceof Rd?(function(o,f,d){const y=o.value.clone(),_=l_(o.fieldTransforms,f,d.transformResults);y.setAll(_),f.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):s instanceof Ec?(function(o,f,d){if(!Ku(o.precondition,f))return void f.convertToUnknownDocument(d.version);const y=l_(o.fieldTransforms,f,d.transformResults),_=f.data;_.setAll(jv(o)),_.setAll(y),f.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):(function(o,f,d){f.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Yl(s,e,i,r){return s instanceof Rd?(function(f,d,y,_){if(!Ku(f.precondition,d))return y;const v=f.value.clone(),A=o_(f.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(s,e,i,r):s instanceof Ec?(function(f,d,y,_){if(!Ku(f.precondition,d))return y;const v=o_(f.fieldTransforms,_,d),A=d.data;return A.setAll(jv(f)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),y===null?null:y.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map((N=>N.field)))})(s,e,i,r):(function(f,d,y){return Ku(f.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(s,e,i)}function r_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&yr(r,o,((f,d)=>pS(f,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Rd extends Cd{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ec extends Cd{constructor(e,i,r,o,f=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function jv(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function l_(s,e,i){const r=new Map;le(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const f=s[o],d=f.transform,y=e.data.field(f.field);r.set(f.field,mS(d,y,i[o]))}return r}function o_(s,e,i){const r=new Map;for(const o of s){const f=o.transform,d=i.data.field(o.field);r.set(o.field,dS(f,d,e))}return r}class _S extends Cd{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vS{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const f=this.mutations[o];f.key.isEqual(e.key)&&yS(f,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Yl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Yl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=Nv();return this.mutations.forEach((o=>{const f=e.get(o.key),d=f.overlayedDocument;let y=this.applyToLocalView(d,f.mutatedFields);y=i.has(o.key)?null:y;const _=Mv(d,y);_!==null&&r.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(pt.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),zt())}isEqual(e){return this.batchId===e.batchId&&yr(this.mutations,e.mutations,((i,r)=>r_(i,r)))&&yr(this.baseMutations,e.baseMutations,((i,r)=>r_(i,r)))}}class ES{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class TS{constructor(e,i){this.count=e,this.unchangedNames=i}}var Re,Ot;function zv(s){if(s===void 0)return qi("GRPC error has no .code"),J.UNKNOWN;switch(s){case Re.OK:return J.OK;case Re.CANCELLED:return J.CANCELLED;case Re.UNKNOWN:return J.UNKNOWN;case Re.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Re.INTERNAL:return J.INTERNAL;case Re.UNAVAILABLE:return J.UNAVAILABLE;case Re.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Re.NOT_FOUND:return J.NOT_FOUND;case Re.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Re.ABORTED:return J.ABORTED;case Re.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Re.DATA_LOSS:return J.DATA_LOSS;default:return yt(39323,{code:s})}}(Ot=Re||(Re={}))[Ot.OK=0]="OK",Ot[Ot.CANCELLED=1]="CANCELLED",Ot[Ot.UNKNOWN=2]="UNKNOWN",Ot[Ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ot[Ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ot[Ot.NOT_FOUND=5]="NOT_FOUND",Ot[Ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ot[Ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ot[Ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ot[Ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ot[Ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ot[Ot.ABORTED=10]="ABORTED",Ot[Ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ot[Ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ot[Ot.INTERNAL=13]="INTERNAL",Ot[Ot.UNAVAILABLE=14]="UNAVAILABLE",Ot[Ot.DATA_LOSS=15]="DATA_LOSS";function SS(){return new TextEncoder}const AS=new Ca([4294967295,4294967295],0);function u_(s){const e=SS().encode(s),i=new tv;return i.update(e),new Uint8Array(i.digest())}function c_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),f=e.getUint32(12,!0);return[new Ca([i,r],0),new Ca([o,f],0)]}class wd{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new ql(`Invalid padding: ${i}`);if(r<0)throw new ql(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new ql(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ca.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(Ca.fromNumber(r)));return o.compare(AS)===1&&(o=new Ca([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=u_(e),[r,o]=c_(i);for(let f=0;f<this.hashCount;f++){const d=this.ye(r,o,f);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,f=new Uint8Array(Math.ceil(e/8)),d=new wd(f,o,i);return r.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=u_(e),[r,o]=c_(i);for(let f=0;f<this.hashCount;f++){const d=this.ye(r,o,f);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Tc{constructor(e,i,r,o,f){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,ao.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Tc(pt.min(),o,new pe(Vt),xa(),zt())}}class ao{constructor(e,i,r,o,f){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new ao(r,i,zt(),zt(),zt())}}class Zu{constructor(e,i,r,o){this.be=e,this.removedTargetIds=i,this.key=r,this.De=o}}class Lv{constructor(e,i){this.targetId=e,this.Ce=i}}class Uv{constructor(e,i,r=He.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class h_{constructor(){this.ve=0,this.Fe=f_(),this.Me=He.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=zt(),i=zt(),r=zt();return this.Fe.forEach(((o,f)=>{switch(f){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:yt(38017,{changeType:f})}})),new ao(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=f_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,le(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class bS{constructor(e){this.Ge=e,this.ze=new Map,this.je=xa(),this.Je=Hu(),this.He=Hu(),this.Ye=new pe(Vt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:yt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const f=o.target;if(Wf(f))if(r===0){const d=new ft(f.path);this.et(i,d,Ye.newNoDocument(d,pt.min()))}else le(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const y=this.ut(e),_=y?this.ct(y,e,d):1;if(_!==0){this.it(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:f=0}=i;let d,y;try{d=Da(r).toUint8Array()}catch(_){if(_ instanceof fv)return pr("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{y=new wd(d,o,f)}catch(_){return pr(_ instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return y.ge===0?null:y}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((f=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${f.path.canonicalString()}`;e.mightContain(y)||(this.et(i,f,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((f,d)=>{const y=this.ot(d);if(y){if(f.current&&Wf(y.target)){const _=new ft(y.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Ye.newNoDocument(_,e))}f.Be&&(i.set(d,f.ke()),f.qe())}}));let r=zt();this.He.forEach(((f,d)=>{let y=!0;d.forEachWhile((_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(r=r.add(f))})),this.je.forEach(((f,d)=>d.setReadTime(e)));const o=new Tc(e,i,this.Ye,this.je,r);return this.je=xa(),this.Je=Hu(),this.He=Hu(),this.Ye=new pe(Vt),o}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new h_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ve(Vt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ve(Vt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||at("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new h_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Hu(){return new pe(ft.comparator)}function f_(){return new pe(ft.comparator)}const CS={asc:"ASCENDING",desc:"DESCENDING"},RS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wS={and:"AND",or:"OR"};class DS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function ad(s,e){return s.useProto3Json||gc(e)?e:{value:e}}function sd(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Bv(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function fr(s){return le(!!s,49232),pt.fromTimestamp((function(i){const r=wa(i);return new re(r.seconds,r.nanos)})(s))}function Pv(s,e){return rd(s,e).canonicalString()}function rd(s,e){const i=(function(o){return new se(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function qv(s){const e=se.fromString(s);return le(Qv(e),10190,{key:e.toString()}),e}function zf(s,e){const i=qv(e);if(i.get(1)!==s.databaseId.projectId)throw new lt(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new lt(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ft(Hv(i))}function kv(s,e){return Pv(s.databaseId,e)}function NS(s){const e=qv(s);return e.length===4?se.emptyPath():Hv(e)}function d_(s){return new se(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Hv(s){return le(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function xS(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:yt(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],f=(function(v,A){return v.useProto3Json?(le(A===void 0||typeof A=="string",58123),He.fromBase64String(A||"")):(le(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),He.fromUint8Array(A||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(v){const A=v.code===void 0?J.UNKNOWN:zv(v.code);return new lt(A,v.message||"")})(d);i=new Uv(r,o,f,y||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=zf(s,r.document.name),f=fr(r.document.updateTime),d=r.document.createTime?fr(r.document.createTime):pt.min(),y=new pi({mapValue:{fields:r.document.fields}}),_=Ye.newFoundDocument(o,f,d,y),v=r.targetIds||[],A=r.removedTargetIds||[];i=new Zu(v,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=zf(s,r.document),f=r.readTime?fr(r.readTime):pt.min(),d=Ye.newNoDocument(o,f),y=r.removedTargetIds||[];i=new Zu([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=zf(s,r.document),f=r.removedTargetIds||[];i=new Zu([],f,o,null)}else{if(!("filter"in e))return yt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:f}=r,d=new TS(o,f),y=r.targetId;i=new Lv(y,d)}}return i}function VS(s,e){return{documents:[kv(s,e.path)]}}function OS(s,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=kv(s,o);const f=(function(v){if(v.length!==0)return Fv(Qn.create(v,"and"))})(e.filters);f&&(i.structuredQuery.where=f);const d=(function(v){if(v.length!==0)return v.map((A=>(function(M){return{field:or(M.field),direction:jS(M.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=ad(s,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:i,parent:o}}function IS(s){let e=NS(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){le(r===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let f=[];i.where&&(f=(function(N){const M=Gv(N);return M instanceof Qn&&Tv(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(N){return N.map((M=>(function(Z){return new lc(ur(Z.field),(function(nt){switch(nt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(M)))})(i.orderBy));let y=null;i.limit&&(y=(function(N){let M;return M=typeof N=="object"?N.value:N,gc(M)?null:M})(i.limit));let _=null;i.startAt&&(_=(function(N){const M=!!N.before,K=N.values||[];return new rc(K,M)})(i.startAt));let v=null;return i.endAt&&(v=(function(N){const M=!N.before,K=N.values||[];return new rc(K,M)})(i.endAt)),iS(e,o,d,f,y,"F",_,v)}function MS(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Gv(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=ur(i.unaryFilter.field);return we.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=ur(i.unaryFilter.field);return we.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=ur(i.unaryFilter.field);return we.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ur(i.unaryFilter.field);return we.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return we.create(ur(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Qn.create(i.compositeFilter.filters.map((r=>Gv(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(s):yt(30097,{filter:s})}function jS(s){return CS[s]}function zS(s){return RS[s]}function LS(s){return wS[s]}function or(s){return{fieldPath:s.canonicalString()}}function ur(s){return Xe.fromServerFormat(s.fieldPath)}function Fv(s){return s instanceof we?(function(i){if(i.op==="=="){if(t_(i.value))return{unaryFilter:{field:or(i.field),op:"IS_NAN"}};if(Wy(i.value))return{unaryFilter:{field:or(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(t_(i.value))return{unaryFilter:{field:or(i.field),op:"IS_NOT_NAN"}};if(Wy(i.value))return{unaryFilter:{field:or(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:or(i.field),op:zS(i.op),value:i.value}}})(s):s instanceof Qn?(function(i){const r=i.getFilters().map((o=>Fv(o)));return r.length===1?r[0]:{compositeFilter:{op:LS(i.op),filters:r}}})(s):yt(54877,{filter:s})}function Qv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Sa{constructor(e,i,r,o,f=pt.min(),d=pt.min(),y=He.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=_}withSequenceNumber(e){return new Sa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class US{constructor(e){this.yt=e}}function BS(s){const e=IS({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?ed(e,e.limit,"L"):e}class PS{constructor(){this.Cn=new qS}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(Ra.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(Ra.min())}updateCollectionGroup(e,i,r){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class qS{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new Ve(se.comparator),f=!o.has(r);return this.index[i]=o.add(r),f}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ve(se.comparator)).toArray()}}const m_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Yv=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(Yv,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);class Er{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Er(0)}static cr(){return new Er(-1)}}const g_="LruGarbageCollector",kS=1048576;function p_([s,e],[i,r]){const o=Vt(s,i);return o===0?Vt(e,r):o}class HS{constructor(e){this.Ir=e,this.buffer=new Ve(p_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();p_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class GS{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){at(g_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Cr(i)?at(g_,"Ignoring IndexedDB error during garbage collection: ",i):await dc(i)}await this.Vr(3e5)}))}}class FS{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(mc.ce);const r=new HS(i);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(m_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),m_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,o,f,d,y,_,v;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((N=>(N>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),o=this.params.maximumSequenceNumbersToCollect):o=N,d=Date.now(),this.nthSequenceNumber(e,o)))).next((N=>(r=N,y=Date.now(),this.removeTargets(e,r,i)))).next((N=>(f=N,_=Date.now(),this.removeOrphanedDocuments(e,r)))).next((N=>(v=Date.now(),rr()<=It.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${f} targets in `+(_-y)+`ms
	Removed ${N} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:f,documentsRemoved:N}))))}}function QS(s,e){return new FS(s,e)}class YS{constructor(){this.changes=new gs((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ye.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?X.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class XS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class KS{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&Yl(r.mutation,o,Ta.empty(),re.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,zt()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=zt()){const o=cs();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((f=>{let d=Pl();return f.forEach(((y,_)=>{d=d.insert(y,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=cs();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,zt())))}populateOverlays(e,i,r){const o=[];return r.forEach((f=>{i.has(f)||o.push(f)})),this.documentOverlayCache.getOverlays(e,o).next((f=>{f.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,r,o){let f=xa();const d=Ql(),y=(function(){return Ql()})();return i.forEach(((_,v)=>{const A=r.get(v.key);o.has(v.key)&&(A===void 0||A.mutation instanceof Ec)?f=f.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),Yl(A.mutation,v,A.mutation.getFieldMask(),re.now())):d.set(v.key,Ta.empty())})),this.recalculateAndSaveOverlays(e,f).next((_=>(_.forEach(((v,A)=>d.set(v,A))),i.forEach(((v,A)=>y.set(v,new XS(A,d.get(v)??null)))),y)))}recalculateAndSaveOverlays(e,i){const r=Ql();let o=new pe(((d,y)=>d-y)),f=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((_=>{const v=i.get(_);if(v===null)return;let A=r.get(_)||Ta.empty();A=y.applyToLocalView(v,A),r.set(_,A);const N=(o.get(y.batchId)||zt()).add(_);o=o.insert(y.batchId,N)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const _=y.getNext(),v=_.key,A=_.value,N=Nv();A.forEach((M=>{if(!f.has(M)){const K=Mv(i.get(M),r.get(M));K!==null&&N.set(M,K),f=f.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,N))}return X.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return(function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Cv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((f=>{const d=o-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-f.size):X.resolve(cs());let y=$l,_=f;return d.next((v=>X.forEach(v,((A,N)=>(y<N.largestBatchId&&(y=N.largestBatchId),f.get(A)?X.resolve():this.remoteDocumentCache.getEntry(e,A).next((M=>{_=_.insert(A,M)}))))).next((()=>this.populateOverlays(e,v,f))).next((()=>this.computeViews(e,_,v,zt()))).next((A=>({batchId:y,changes:oS(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ft(i)).next((r=>{let o=Pl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const f=i.collectionGroup;let d=Pl();return this.indexManager.getCollectionParents(e,f).next((y=>X.forEach(y,(_=>{const v=(function(N,M){return new io(M,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt)})(i,_.child(f));return this.getDocumentsMatchingCollectionQuery(e,v,r,o).next((A=>{A.forEach(((N,M)=>{d=d.insert(N,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let f;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(f=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,f,o)))).next((d=>{f.forEach(((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Ye.newInvalidDocument(A)))}));let y=Pl();return d.forEach(((_,v)=>{const A=f.get(_);A!==void 0&&Yl(A.mutation,v,Ta.empty(),re.now()),_c(i,v)&&(y=y.insert(_,v))})),y}))}}class ZS{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:fr(o.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:BS(o.bundledQuery),readTime:fr(o.readTime)}})(i)),X.resolve()}}class JS{constructor(){this.overlays=new pe(ft.comparator),this.qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const r=cs();return X.forEach(i,(o=>this.getOverlay(e,o).next((f=>{f!==null&&r.set(o,f)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,f)=>{this.St(e,i,f)})),X.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((f=>this.overlays=this.overlays.remove(f))),this.qr.delete(r)),X.resolve()}getOverlaysForCollection(e,i,r){const o=cs(),f=i.length+1,d=new ft(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const _=y.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===f&&_.largestBatchId>r&&o.set(_.getKey(),_)}return X.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let f=new pe(((v,A)=>v-A));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>r){let A=f.get(v.largestBatchId);A===null&&(A=cs(),f=f.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const y=cs(),_=f.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,A)=>y.set(v,A))),!(y.size()>=o)););return X.resolve(y)}St(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new ES(i,r));let f=this.qr.get(i);f===void 0&&(f=zt(),this.qr.set(i,f)),this.qr.set(i,f.add(r.key))}}class $S{constructor(){this.sessionToken=He.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}class Dd{constructor(){this.Qr=new Ve(je.$r),this.Ur=new Ve(je.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new je(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new je(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new ft(new se([])),r=new je(i,e),o=new je(i,e+1),f=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),f.push(d.key)})),f}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ft(new se([])),r=new je(i,e),o=new je(i,e+1);let f=zt();return this.Ur.forEachInRange([r,o],(d=>{f=f.add(d.key)})),f}containsKey(e){const i=new je(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class je{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ft.comparator(e.key,i.key)||Vt(e.Yr,i.Yr)}static Kr(e,i){return Vt(e.Yr,i.Yr)||ft.comparator(e.key,i.key)}}class WS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ve(je.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const f=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new vS(f,i,r,o);this.mutationQueue.push(d);for(const y of o)this.Zr=this.Zr.add(new je(y.key,f)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.ei(r),f=o<0?0:o;return X.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?U2:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new je(i,0),o=new je(i,Number.POSITIVE_INFINITY),f=[];return this.Zr.forEachInRange([r,o],(d=>{const y=this.Xr(d.Yr);f.push(y)})),X.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Ve(Vt);return i.forEach((o=>{const f=new je(o,0),d=new je(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([f,d],(y=>{r=r.add(y.Yr)}))})),X.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let f=r;ft.isDocumentKey(f)||(f=f.child(""));const d=new je(new ft(f),0);let y=new Ve(Vt);return this.Zr.forEachWhile((_=>{const v=_.key.path;return!!r.isPrefixOf(v)&&(v.length===o&&(y=y.add(_.Yr)),!0)}),d),X.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){le(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return X.forEach(i.mutations,(o=>{const f=new je(o.key,i.batchId);return r=r.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new je(i,0),o=this.Zr.firstAfterOrEqual(r);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class tA{constructor(e){this.ri=e,this.docs=(function(){return new pe(ft.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),f=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-f,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return X.resolve(r?r.document.mutableCopy():Ye.newInvalidDocument(i))}getEntries(e,i){let r=xa();return i.forEach((o=>{const f=this.docs.get(o);r=r.insert(o,f?f.document.mutableCopy():Ye.newInvalidDocument(o))})),X.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let f=xa();const d=i.path,y=new ft(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(y);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||M2(I2(A),r)<=0||(o.has(A.key)||_c(i,A))&&(f=f.insert(A.key,A.mutableCopy()))}return X.resolve(f)}getAllFromCollectionGroup(e,i,r,o){yt(9500)}ii(e,i){return X.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new eA(this)}getSize(e){return X.resolve(this.size)}}class eA extends YS{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),X.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class nA{constructor(e){this.persistence=e,this.si=new gs((i=>Td(i)),Sd),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.oi=0,this._i=new Dd,this.targetCount=0,this.ai=Er.ur()}forEachTarget(e,i){return this.si.forEach(((r,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),X.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Er(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Pr(i),X.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,r){let o=0;const f=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&r.get(y.targetId)===null&&(this.si.delete(d),f.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),X.waitFor(f).next((()=>o))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return X.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),X.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,f=[];return o&&i.forEach((d=>{f.push(o.markPotentiallyOrphaned(e,d))})),X.waitFor(f)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return X.resolve(r)}containsKey(e,i){return X.resolve(this._i.containsKey(i))}}class Xv{constructor(e,i){this.ui={},this.overlays={},this.ci=new mc(0),this.li=!1,this.li=!0,this.hi=new $S,this.referenceDelegate=e(this),this.Pi=new nA(this),this.indexManager=new PS,this.remoteDocumentCache=(function(o){return new tA(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new US(i),this.Ii=new ZS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new JS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new WS(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){at("MemoryPersistence","Starting transaction:",e);const o=new iA(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((f=>this.referenceDelegate.di(o).next((()=>f)))).toPromise().then((f=>(o.raiseOnCommittedEvent(),f)))}Ai(e,i){return X.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class iA extends z2{constructor(e){super(),this.currentSequenceNumber=e}}class Nd{constructor(e){this.persistence=e,this.Ri=new Dd,this.Vi=null}static mi(e){return new Nd(e)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),X.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((f=>this.fi.add(f.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(r=>{const o=ft.fromPath(r);return this.gi(e,o).next((f=>{f||i.removeEntry(o,pt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class cc{constructor(e,i){this.persistence=e,this.pi=new gs((r=>P2(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=QS(this,i)}static mi(e,i){return new cc(e,i)}Ei(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return X.forEach(this.pi,((r,o)=>this.br(e,r,o).next((f=>f?X.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),f=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((y=>{y||(r++,f.removeEntry(d,pt.min()))})))).next((()=>f.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Xu(e.data.value)),i}br(e,i,r){return X.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return X.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class xd{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=o}static As(e,i){let r=zt(),o=zt();for(const f of i.docChanges)switch(f.type){case 0:r=r.add(f.doc.key);break;case 1:o=o.add(f.doc.key)}return new xd(e,i.fromCache,r,o)}}class aA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class sA{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return iT()?8:L2(eT())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const f={result:null};return this.ys(e,i).next((d=>{f.result=d})).next((()=>{if(!f.result)return this.ws(e,i,o,r).next((d=>{f.result=d}))})).next((()=>{if(f.result)return;const d=new aA;return this.Ss(e,i,d).next((y=>{if(f.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>f.result))}bs(e,i,r,o){return r.documentReadCount<this.fs?(rr()<=It.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",lr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(rr()<=It.DEBUG&&at("QueryEngine","Query:",lr(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(rr()<=It.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",lr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yi(i))):X.resolve())}ys(e,i){if(a_(i))return X.resolve(null);let r=yi(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=ed(i,null,"F"),r=yi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((f=>{const d=zt(...f);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,r).next((_=>{const v=this.Ds(i,y);return this.Cs(i,v,d,_.readTime)?this.ys(e,ed(i,null,"F")):this.vs(e,v,i,_)}))))})))))}ws(e,i,r,o){return a_(i)||o.isEqual(pt.min())?X.resolve(null):this.ps.getDocuments(e,r).next((f=>{const d=this.Ds(i,f);return this.Cs(i,d,r,o)?X.resolve(null):(rr()<=It.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),lr(i)),this.vs(e,d,i,O2(o,$l)).next((y=>y)))}))}Ds(e,i){let r=new Ve(wv(e));return i.forEach(((o,f)=>{_c(e,f)&&(r=r.add(f))})),r}Cs(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const f=e.limitType==="F"?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(o)>0)}Ss(e,i,r){return rr()<=It.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",lr(i)),this.ps.getDocumentsMatchingQuery(e,i,Ra.min(),r)}vs(e,i,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((f=>(i.forEach((d=>{f=f.insert(d.key,d)})),f)))}}const Vd="LocalStore",rA=3e8;class lA{constructor(e,i,r,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new pe(Vt),this.xs=new gs((f=>Td(f)),Sd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function oA(s,e,i,r){return new lA(s,e,i,r)}async function Kv(s,e){const i=Mt(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((f=>(o=f,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((f=>{const d=[],y=[];let _=zt();for(const v of o){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of f){y.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(r,_).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:y})))}))}))}function Zv(s){const e=Mt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function uA(s,e){const i=Mt(s),r=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(f=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const y=[];e.targetChanges.forEach(((A,N)=>{const M=o.get(N);if(!M)return;y.push(i.Pi.removeMatchingKeys(f,A.removedDocuments,N).next((()=>i.Pi.addMatchingKeys(f,A.addedDocuments,N))));let K=M.withSequenceNumber(f.currentSequenceNumber);e.targetMismatches.get(N)!==null?K=K.withResumeToken(He.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):A.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(A.resumeToken,r)),o=o.insert(N,K),(function(rt,nt,Tt){return rt.resumeToken.approximateByteSize()===0||nt.snapshotVersion.toMicroseconds()-rt.snapshotVersion.toMicroseconds()>=rA?!0:Tt.addedDocuments.size+Tt.modifiedDocuments.size+Tt.removedDocuments.size>0})(M,K,A)&&y.push(i.Pi.updateTargetData(f,K))}));let _=xa(),v=zt();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(f,A))})),y.push(cA(f,d,e.documentUpdates).next((A=>{_=A.ks,v=A.qs}))),!r.isEqual(pt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(f).next((N=>i.Pi.setTargetsMetadata(f,f.currentSequenceNumber,r)));y.push(A)}return X.waitFor(y).next((()=>d.apply(f))).next((()=>i.localDocuments.getLocalViewOfDocuments(f,_,v))).next((()=>_))})).then((f=>(i.Ms=o,f)))}function cA(s,e,i){let r=zt(),o=zt();return i.forEach((f=>r=r.add(f))),e.getEntries(s,r).next((f=>{let d=xa();return i.forEach(((y,_)=>{const v=f.get(y);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(y)),_.isNoDocument()&&_.version.isEqual(pt.min())?(e.removeEntry(y,_.readTime),d=d.insert(y,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(y,_)):at(Vd,"Ignoring outdated watch update for ",y,". Current version:",v.version," Watch version:",_.version)})),{ks:d,qs:o}}))}function hA(s,e){const i=Mt(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,e).next((f=>f?(o=f,X.resolve(o)):i.Pi.allocateTargetId(r).next((d=>(o=new Sa(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function ld(s,e,i){const r=Mt(s),o=r.Ms.get(e),f=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",f,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Cr(d))throw d;at(Vd,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function y_(s,e,i){const r=Mt(s);let o=pt.min(),f=zt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,v,A){const N=Mt(_),M=N.xs.get(A);return M!==void 0?X.resolve(N.Ms.get(M)):N.Pi.getTargetData(v,A)})(r,d,yi(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,y.targetId).next((_=>{f=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?o:pt.min(),i?f:zt()))).next((y=>(fA(r,sS(e),y),{documents:y,Qs:f})))))}function fA(s,e,i){let r=s.Os.get(e)||pt.min();i.forEach(((o,f)=>{f.readTime.compareTo(r)>0&&(r=f.readTime)})),s.Os.set(e,r)}class __{constructor(){this.activeTargetIds=hS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dA{constructor(){this.Mo=new __,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new __,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class mA{Oo(e){}shutdown(){}}const v_="ConnectivityMonitor";class E_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(v_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){at(v_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Gu=null;function od(){return Gu===null?Gu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gu++,"0x"+Gu.toString(16)}const Lf="RestConnection",gA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pA{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===ac?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,i,r,o,f){const d=od(),y=this.zo(e,i.toUriEncodedString());at(Lf,`Sending RPC '${e}' ${d}:`,y,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,f);const{host:v}=new URL(y),A=pd(v);return this.Jo(e,y,_,r,A).then((N=>(at(Lf,`Received RPC '${e}' ${d}: `,N),N)),(N=>{throw pr(Lf,`RPC '${e}' ${d} failed with error: `,N,"url: ",y,"request:",r),N}))}Ho(e,i,r,o,f,d){return this.Go(e,i,r,o,f)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+br})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,f)=>e[f]=o)),r&&r.headers.forEach(((o,f)=>e[f]=o))}zo(e,i){const r=gA[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class yA{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Fe="WebChannelConnection";class _A extends pA{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,o,f){const d=od();return new Promise(((y,_)=>{const v=new ev;v.setWithCredentials(!0),v.listenOnce(nv.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Qu.NO_ERROR:const N=v.getResponseJson();at(Fe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(N)),y(N);break;case Qu.TIMEOUT:at(Fe,`RPC '${e}' ${d} timed out`),_(new lt(J.DEADLINE_EXCEEDED,"Request time out"));break;case Qu.HTTP_ERROR:const M=v.getStatus();if(at(Fe,`RPC '${e}' ${d} failed with status:`,M,"response text:",v.getResponseText()),M>0){let K=v.getResponseJson();Array.isArray(K)&&(K=K[0]);const Z=K?.error;if(Z&&Z.status&&Z.message){const rt=(function(Tt){const bt=Tt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(bt)>=0?bt:J.UNKNOWN})(Z.status);_(new lt(rt,Z.message))}else _(new lt(J.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new lt(J.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{at(Fe,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);at(Fe,`RPC '${e}' ${d} sending request:`,o),v.send(i,"POST",A,r,15)}))}T_(e,i,r){const o=od(),f=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=sv(),y=av(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const A=f.join("");at(Fe,`Creating RPC '${e}' stream ${o}: ${A}`,_);const N=d.createWebChannel(A,_);this.I_(N);let M=!1,K=!1;const Z=new yA({Yo:nt=>{K?at(Fe,`Not sending because RPC '${e}' stream ${o} is closed:`,nt):(M||(at(Fe,`Opening RPC '${e}' stream ${o} transport.`),N.open(),M=!0),at(Fe,`RPC '${e}' stream ${o} sending:`,nt),N.send(nt))},Zo:()=>N.close()}),rt=(nt,Tt,bt)=>{nt.listen(Tt,(mt=>{try{bt(mt)}catch(Bt){setTimeout((()=>{throw Bt}),0)}}))};return rt(N,Bl.EventType.OPEN,(()=>{K||(at(Fe,`RPC '${e}' stream ${o} transport opened.`),Z.o_())})),rt(N,Bl.EventType.CLOSE,(()=>{K||(K=!0,at(Fe,`RPC '${e}' stream ${o} transport closed`),Z.a_(),this.E_(N))})),rt(N,Bl.EventType.ERROR,(nt=>{K||(K=!0,pr(Fe,`RPC '${e}' stream ${o} transport errored. Name:`,nt.name,"Message:",nt.message),Z.a_(new lt(J.UNAVAILABLE,"The operation could not be completed")))})),rt(N,Bl.EventType.MESSAGE,(nt=>{if(!K){const Tt=nt.data[0];le(!!Tt,16349);const bt=Tt,mt=bt?.error||bt[0]?.error;if(mt){at(Fe,`RPC '${e}' stream ${o} received error:`,mt);const Bt=mt.status;let $t=(function(b){const w=Re[b];if(w!==void 0)return zv(w)})(Bt),wt=mt.message;$t===void 0&&($t=J.INTERNAL,wt="Unknown error status: "+Bt+" with message "+mt.message),K=!0,Z.a_(new lt($t,wt)),N.close()}else at(Fe,`RPC '${e}' stream ${o} received:`,Tt),Z.u_(Tt)}})),rt(y,iv.STAT_EVENT,(nt=>{nt.stat===Xf.PROXY?at(Fe,`RPC '${e}' stream ${o} detected buffering proxy`):nt.stat===Xf.NOPROXY&&at(Fe,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Uf(){return typeof document<"u"?document:null}function Sc(s){return new DS(s,!0)}class Jv{constructor(e,i,r=1e3,o=1.5,f=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=o,this.R_=f,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&at("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const T_="PersistentStream";class vA{constructor(e,i,r,o,f,d,y,_){this.Mi=e,this.S_=r,this.b_=o,this.connection=f,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Jv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(qi(i.toString()),qi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new lt(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return at(T_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(at(T_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class EA extends vA{constructor(e,i,r,o,f,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=f}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=xS(this.serializer,e),r=(function(f){if(!("targetChange"in f))return pt.min();const d=f.targetChange;return d.targetIds&&d.targetIds.length?pt.min():d.readTime?fr(d.readTime):pt.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=d_(this.serializer),i.addTarget=(function(f,d){let y;const _=d.target;if(y=Wf(_)?{documents:VS(f,_)}:{query:OS(f,_).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=Bv(f,d.resumeToken);const v=ad(f,d.expectedCount);v!==null&&(y.expectedCount=v)}else if(d.snapshotVersion.compareTo(pt.min())>0){y.readTime=sd(f,d.snapshotVersion.toTimestamp());const v=ad(f,d.expectedCount);v!==null&&(y.expectedCount=v)}return y})(this.serializer,e);const r=MS(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=d_(this.serializer),i.removeTarget=e,this.q_(i)}}class TA{}class SA extends TA{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new lt(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,d])=>this.connection.Go(e,rd(i,r),o,f,d))).catch((f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new lt(J.UNKNOWN,f.toString())}))}Ho(e,i,r,o,f){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,rd(i,r),o,d,y,f))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class AA{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(qi(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Tr="RemoteStore";class bA{constructor(e,i,r,o,f){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=f,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{ro(this)&&(at(Tr,"Restarting streams for network reachability change."),await(async function(_){const v=Mt(_);v.Ea.add(4),await so(v),v.Ra.set("Unknown"),v.Ea.delete(4),await Ac(v)})(this))}))})),this.Ra=new AA(r,o)}}async function Ac(s){if(ro(s))for(const e of s.da)await e(!0)}async function so(s){for(const e of s.da)await e(!1)}function $v(s,e){const i=Mt(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),jd(i)?Md(i):wr(i).O_()&&Id(i,e))}function Od(s,e){const i=Mt(s),r=wr(i);i.Ia.delete(e),r.O_()&&Wv(i,e),i.Ia.size===0&&(r.O_()?r.L_():ro(i)&&i.Ra.set("Unknown"))}function Id(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}wr(s).Y_(e)}function Wv(s,e){s.Va.Ue(e),wr(s).Z_(e)}function Md(s){s.Va=new bS({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),wr(s).start(),s.Ra.ua()}function jd(s){return ro(s)&&!wr(s).x_()&&s.Ia.size>0}function ro(s){return Mt(s).Ea.size===0}function t1(s){s.Va=void 0}async function CA(s){s.Ra.set("Online")}async function RA(s){s.Ia.forEach(((e,i)=>{Id(s,e)}))}async function wA(s,e){t1(s),jd(s)?(s.Ra.ha(e),Md(s)):s.Ra.set("Unknown")}async function DA(s,e,i){if(s.Ra.set("Online"),e instanceof Uv&&e.state===2&&e.cause)try{await(async function(o,f){const d=f.cause;for(const y of f.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.Va.removeTarget(y))})(s,e)}catch(r){at(Tr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await S_(s,r)}else if(e instanceof Zu?s.Va.Ze(e):e instanceof Lv?s.Va.st(e):s.Va.tt(e),!i.isEqual(pt.min()))try{const r=await Zv(s.localStore);i.compareTo(r)>=0&&await(function(f,d){const y=f.Va.Tt(d);return y.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=f.Ia.get(v);A&&f.Ia.set(v,A.withResumeToken(_.resumeToken,d))}})),y.targetMismatches.forEach(((_,v)=>{const A=f.Ia.get(_);if(!A)return;f.Ia.set(_,A.withResumeToken(He.EMPTY_BYTE_STRING,A.snapshotVersion)),Wv(f,_);const N=new Sa(A.target,_,v,A.sequenceNumber);Id(f,N)})),f.remoteSyncer.applyRemoteEvent(y)})(s,i)}catch(r){at(Tr,"Failed to raise snapshot:",r),await S_(s,r)}}async function S_(s,e,i){if(!Cr(e))throw e;s.Ea.add(1),await so(s),s.Ra.set("Offline"),i||(i=()=>Zv(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{at(Tr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ac(s)}))}async function A_(s,e){const i=Mt(s);i.asyncQueue.verifyOperationInProgress(),at(Tr,"RemoteStore received new credentials");const r=ro(i);i.Ea.add(3),await so(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Ac(i)}async function NA(s,e){const i=Mt(s);e?(i.Ea.delete(2),await Ac(i)):e||(i.Ea.add(2),await so(i),i.Ra.set("Unknown"))}function wr(s){return s.ma||(s.ma=(function(i,r,o){const f=Mt(i);return f.sa(),new EA(r,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)})(s.datastore,s.asyncQueue,{Xo:CA.bind(null,s),t_:RA.bind(null,s),r_:wA.bind(null,s),H_:DA.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),jd(s)?Md(s):s.Ra.set("Unknown")):(await s.ma.stop(),t1(s))}))),s.ma}class zd{constructor(e,i,r,o,f){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=f,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,f){const d=Date.now()+r,y=new zd(e,i,d,o,f);return y.start(r),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function e1(s,e){if(qi("AsyncQueue",`${e}: ${s}`),Cr(s))return new lt(J.UNAVAILABLE,`${e}: ${s}`);throw s}class dr{static emptySet(e){return new dr(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||ft.comparator(i.key,r.key):(i,r)=>ft.comparator(i.key,r.key),this.keyedMap=Pl(),this.sortedSet=new pe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof dr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,f=r.getNext().key;if(!o.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new dr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class b_{constructor(){this.ga=new pe(ft.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):yt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Sr{constructor(e,i,r,o,f,d,y,_,v){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=f,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,r,o,f){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new Sr(e,i,dr.emptySet(i),d,r,o,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class xA{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class VA{constructor(){this.queries=C_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Mt(i),f=o.queries;o.queries=C_(),f.forEach(((d,y)=>{for(const _ of y.Sa)_.onError(r)}))})(this,new lt(J.ABORTED,"Firestore shutting down"))}}function C_(){return new gs((s=>Rv(s)),yc)}async function OA(s,e){const i=Mt(s);let r=3;const o=e.query;let f=i.queries.get(o);f?!f.ba()&&e.Da()&&(r=2):(f=new xA,r=e.Da()?0:1);try{switch(r){case 0:f.wa=await i.onListen(o,!0);break;case 1:f.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const y=e1(d,`Initialization of query '${lr(e.query)}' failed`);return void e.onError(y)}i.queries.set(o,f),f.Sa.push(e),e.va(i.onlineState),f.wa&&e.Fa(f.wa)&&Ld(i)}async function IA(s,e){const i=Mt(s),r=e.query;let o=3;const f=i.queries.get(r);if(f){const d=f.Sa.indexOf(e);d>=0&&(f.Sa.splice(d,1),f.Sa.length===0?o=e.Da()?0:1:!f.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function MA(s,e){const i=Mt(s);let r=!1;for(const o of e){const f=o.query,d=i.queries.get(f);if(d){for(const y of d.Sa)y.Fa(o)&&(r=!0);d.wa=o}}r&&Ld(i)}function jA(s,e,i){const r=Mt(s),o=r.queries.get(e);if(o)for(const f of o.Sa)f.onError(i);r.queries.delete(e)}function Ld(s){s.Ca.forEach((e=>{e.next()}))}var ud,R_;(R_=ud||(ud={})).Ma="default",R_.Cache="cache";class zA{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Sr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Sr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ud.Cache}}class n1{constructor(e){this.key=e}}class i1{constructor(e){this.key=e}}class LA{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=zt(),this.mutatedKeys=zt(),this.eu=wv(e),this.tu=new dr(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new b_,o=i?i.tu:this.tu;let f=i?i.mutatedKeys:this.mutatedKeys,d=o,y=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,N)=>{const M=o.get(A),K=_c(this.query,N)?N:null,Z=!!M&&this.mutatedKeys.has(M.key),rt=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let nt=!1;M&&K?M.data.isEqual(K.data)?Z!==rt&&(r.track({type:3,doc:K}),nt=!0):this.su(M,K)||(r.track({type:2,doc:K}),nt=!0,(_&&this.eu(K,_)>0||v&&this.eu(K,v)<0)&&(y=!0)):!M&&K?(r.track({type:0,doc:K}),nt=!0):M&&!K&&(r.track({type:1,doc:M}),nt=!0,(_||v)&&(y=!0)),nt&&(K?(d=d.add(K),f=rt?f.add(A):f.delete(A)):(d=d.delete(A),f=f.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),f=f.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:y,mutatedKeys:f}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const f=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,N)=>(function(K,Z){const rt=nt=>{switch(nt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:nt})}};return rt(K)-rt(Z)})(A.type,N.type)||this.eu(A.doc,N.doc))),this.ou(r),o=o??!1;const y=i&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,v=_!==this.Za;return this.Za=_,d.length!==0||v?{snapshot:new Sr(this.query,e.tu,f,d,e.mutatedKeys,_===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new b_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=zt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new i1(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new n1(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=zt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Sr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ud="SyncEngine";class UA{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class BA{constructor(e){this.key=e,this.hu=!1}}class PA{constructor(e,i,r,o,f,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=f,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new gs((y=>Rv(y)),yc),this.Iu=new Map,this.Eu=new Set,this.du=new pe(ft.comparator),this.Au=new Map,this.Ru=new Dd,this.Vu={},this.mu=new Map,this.fu=Er.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function qA(s,e,i=!0){const r=o1(s);let o;const f=r.Tu.get(e);return f?(r.sharedClientState.addLocalQueryTarget(f.targetId),o=f.view.lu()):o=await a1(r,e,i,!0),o}async function kA(s,e){const i=o1(s);await a1(i,e,!0,!1)}async function a1(s,e,i,r){const o=await hA(s.localStore,yi(e)),f=o.targetId,d=s.sharedClientState.addLocalQueryTarget(f,i);let y;return r&&(y=await HA(s,e,f,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&$v(s.remoteStore,o),y}async function HA(s,e,i,r,o){s.pu=(N,M,K)=>(async function(rt,nt,Tt,bt){let mt=nt.view.ru(Tt);mt.Cs&&(mt=await y_(rt.localStore,nt.query,!1).then((({documents:D})=>nt.view.ru(D,mt))));const Bt=bt&&bt.targetChanges.get(nt.targetId),$t=bt&&bt.targetMismatches.get(nt.targetId)!=null,wt=nt.view.applyChanges(mt,rt.isPrimaryClient,Bt,$t);return D_(rt,nt.targetId,wt.au),wt.snapshot})(s,N,M,K);const f=await y_(s.localStore,e,!0),d=new LA(e,f.Qs),y=d.ru(f.documents),_=ao.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),v=d.applyChanges(y,s.isPrimaryClient,_);D_(s,i,v.au);const A=new UA(e,i,d);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),v.snapshot}async function GA(s,e,i){const r=Mt(s),o=r.Tu.get(e),f=r.Iu.get(o.targetId);if(f.length>1)return r.Iu.set(o.targetId,f.filter((d=>!yc(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await ld(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Od(r.remoteStore,o.targetId),cd(r,o.targetId)})).catch(dc)):(cd(r,o.targetId),await ld(r.localStore,o.targetId,!0))}async function FA(s,e){const i=Mt(s),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Od(i.remoteStore,r.targetId))}async function s1(s,e){const i=Mt(s);try{const r=await uA(i.localStore,e);e.targetChanges.forEach(((o,f)=>{const d=i.Au.get(f);d&&(le(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?le(d.hu,14607):o.removedDocuments.size>0&&(le(d.hu,42227),d.hu=!1))})),await l1(i,r,e)}catch(r){await dc(r)}}function w_(s,e,i){const r=Mt(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((f,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const _=Mt(d);_.onlineState=y;let v=!1;_.queries.forEach(((A,N)=>{for(const M of N.Sa)M.va(y)&&(v=!0)})),v&&Ld(_)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function QA(s,e,i){const r=Mt(s);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),f=o&&o.key;if(f){let d=new pe(ft.comparator);d=d.insert(f,Ye.newNoDocument(f,pt.min()));const y=zt().add(f),_=new Tc(pt.min(),new Map,new pe(Vt),d,y);await s1(r,_),r.du=r.du.remove(f),r.Au.delete(e),Bd(r)}else await ld(r.localStore,e,!1).then((()=>cd(r,e,i))).catch(dc)}function cd(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||r1(s,r)}))}function r1(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(Od(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),Bd(s))}function D_(s,e,i){for(const r of i)r instanceof n1?(s.Ru.addReference(r.key,e),YA(s,r)):r instanceof i1?(at(Ud,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||r1(s,r.key)):yt(19791,{wu:r})}function YA(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(at(Ud,"New document in limbo: "+i),s.Eu.add(r),Bd(s))}function Bd(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ft(se.fromString(e)),r=s.fu.next();s.Au.set(r,new BA(i)),s.du=s.du.insert(i,r),$v(s.remoteStore,new Sa(yi(Ad(i.path)),r,"TargetPurposeLimboResolution",mc.ce))}}async function l1(s,e,i){const r=Mt(s),o=[],f=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((y,_)=>{d.push(r.pu(_,e,i).then((v=>{if((v||i)&&r.isPrimaryClient){const A=v?!v.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(v){o.push(v);const A=xd.As(_.targetId,v);f.push(A)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(_,v){const A=Mt(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(N=>X.forEach(v,(M=>X.forEach(M.Es,(K=>A.persistence.referenceDelegate.addReference(N,M.targetId,K))).next((()=>X.forEach(M.ds,(K=>A.persistence.referenceDelegate.removeReference(N,M.targetId,K)))))))))}catch(N){if(!Cr(N))throw N;at(Vd,"Failed to update sequence numbers: "+N)}for(const N of v){const M=N.targetId;if(!N.fromCache){const K=A.Ms.get(M),Z=K.snapshotVersion,rt=K.withLastLimboFreeSnapshotVersion(Z);A.Ms=A.Ms.insert(M,rt)}}})(r.localStore,f))}async function XA(s,e){const i=Mt(s);if(!i.currentUser.isEqual(e)){at(Ud,"User change. New user:",e.toKey());const r=await Kv(i.localStore,e);i.currentUser=e,(function(f,d){f.mu.forEach((y=>{y.forEach((_=>{_.reject(new lt(J.CANCELLED,d))}))})),f.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await l1(i,r.Ls)}}function KA(s,e){const i=Mt(s),r=i.Au.get(e);if(r&&r.hu)return zt().add(r.key);{let o=zt();const f=i.Iu.get(e);if(!f)return o;for(const d of f){const y=i.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function o1(s){const e=Mt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=s1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QA.bind(null,e),e.Pu.H_=MA.bind(null,e.eventManager),e.Pu.yu=jA.bind(null,e.eventManager),e}class hc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return oA(this.persistence,new sA,e.initialUser,this.serializer)}Cu(e){return new Xv(Nd.mi,this.serializer)}Du(e){return new dA}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hc.provider={build:()=>new hc};class ZA extends hc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){le(this.persistence.referenceDelegate instanceof cc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new GS(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new Xv((r=>cc.mi(r,i)),this.serializer)}}class hd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>w_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=XA.bind(null,this.syncEngine),await NA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new VA})()}createDatastore(e){const i=Sc(e.databaseInfo.databaseId),r=(function(f){return new _A(f)})(e.databaseInfo);return(function(f,d,y,_){return new SA(f,d,y,_)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,f,d,y){return new bA(r,o,f,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>w_(this.syncEngine,i,0)),(function(){return E_.v()?new E_:new mA})())}createSyncEngine(e,i){return(function(o,f,d,y,_,v,A){const N=new PA(o,f,d,y,_,v);return A&&(N.gu=!0),N})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Mt(i);at(Tr,"RemoteStore shutting down."),r.Ea.add(5),await so(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}hd.provider={build:()=>new hd};class JA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):qi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Va="FirestoreClient";class $A{constructor(e,i,r,o,f){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=Qe.UNAUTHENTICATED,this.clientId=ov.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(r,(async d=>{at(Va,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(at(Va,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=e1(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Bf(s,e){s.asyncQueue.verifyOperationInProgress(),at(Va,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await Kv(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function N_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await WA(s);at(Va,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>A_(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>A_(e.remoteStore,o))),s._onlineComponents=e}async function WA(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){at(Va,"Using user provided OfflineComponentProvider");try{await Bf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;pr("Error using user provided cache. Falling back to memory cache: "+i),await Bf(s,new hc)}}else at(Va,"Using default OfflineComponentProvider"),await Bf(s,new ZA(void 0));return s._offlineComponents}async function tb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(at(Va,"Using user provided OnlineComponentProvider"),await N_(s,s._uninitializedComponentsProvider._online)):(at(Va,"Using default OnlineComponentProvider"),await N_(s,new hd))),s._onlineComponents}async function x_(s){const e=await tb(s),i=e.eventManager;return i.onListen=qA.bind(null,e.syncEngine),i.onUnlisten=GA.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=kA.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=FA.bind(null,e.syncEngine),i}function u1(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const V_=new Map;const c1="firestore.googleapis.com",O_=!0;class I_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new lt(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=c1,this.ssl=O_}else this.host=e.host,this.ssl=e.ssl??O_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Yv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kS)throw new lt(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}V2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=u1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pd{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new I_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new lt(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new I_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new T2;switch(r.type){case"firstParty":return new C2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new lt(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=V_.get(i);r&&(at("ComponentProvider","Removing Datastore"),V_.delete(i),r.terminate())})(this),Promise.resolve()}}function eb(s,e,i,r={}){s=Yu(s,Pd);const o=pd(e),f=s._getSettings(),d={...f,emulatorOptions:s._getEmulatorOptions()},y=`${e}:${i}`;o&&(ZE(`https://${y}`),tT("Firestore",!0)),f.host!==c1&&f.host!==y&&pr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...f,host:y,ssl:o,emulatorOptions:r};if(!ec(_,d)&&(s._setSettings(_),r.mockUserToken)){let v,A;if(typeof r.mockUserToken=="string")v=r.mockUserToken,A=Qe.MOCK_USER;else{v=JE(r.mockUserToken,s._app?.options.projectId);const N=r.mockUserToken.sub||r.mockUserToken.user_id;if(!N)throw new lt(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Qe(N)}s._authCredentials=new S2(new lv(v,A))}}class Dr{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Dr(this.firestore,e,this._query)}}class Ke{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ke(this.firestore,e,this._key)}toJSON(){return{type:Ke._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(no(i,Ke._jsonSchema))return new Ke(e,r||null,new ft(se.fromString(i.referencePath)))}}Ke._jsonSchemaVersion="firestore/documentReference/1.0",Ke._jsonSchema={type:De("string",Ke._jsonSchemaVersion),referencePath:De("string")};class mr extends Dr{constructor(e,i,r){super(e,i,Ad(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ke(this.firestore,null,new ft(e))}withConverter(e){return new mr(this.firestore,e,this._path)}}function nb(s,e,...i){if(s=Xl(s),s instanceof Pd){const r=se.fromString(e,...i);return Gy(r),new mr(s,null,r)}{if(!(s instanceof Ke||s instanceof mr))throw new lt(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(se.fromString(e,...i));return Gy(r),new mr(s.firestore,null,r)}}const M_="AsyncQueue";class j_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Jv(this,"async_queue_retry"),this._c=()=>{const r=Uf();r&&at(M_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Uf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Uf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new hr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Cr(e))throw e;at(M_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,qi("INTERNAL UNHANDLED ERROR: ",z_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=zd.createAndSchedule(this,e,i,r,(f=>this.hc(f)));return this.tc.push(o),o}uc(){this.nc&&yt(47125,{Pc:z_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function z_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function L_(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const f of r)if(f in o&&typeof o[f]=="function")return!0;return!1})(s,["next","error","complete"])}class fd extends Pd{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new j_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new j_(e),this._firestoreClient=void 0,await e}}}function ib(s,e){const i=typeof s=="object"?s:c2(),r=typeof s=="string"?s:ac,o=s2(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const f=XE("firestore");f&&eb(o,...f)}return o}function ab(s){if(s._terminated)throw new lt(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||sb(s),s._firestoreClient}function sb(s){const e=s._freezeSettings(),i=(function(o,f,d,y){return new H2(o,f,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,u1(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new $A(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const f=o?._online.build();return{_offline:o?._offline.build(f),_online:f}})(s._componentsProvider))}class Vn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vn(He.fromBase64String(e))}catch(i){throw new lt(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Vn(He.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(no(e,Vn._jsonSchema))return Vn.fromBase64String(e.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:De("string",Vn._jsonSchemaVersion),bytes:De("string")};class h1{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new lt(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class f1{constructor(e){this._methodName=e}}class _i{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new lt(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new lt(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Vt(this._lat,e._lat)||Vt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_i._jsonSchemaVersion}}static fromJSON(e){if(no(e,_i._jsonSchema))return new _i(e.latitude,e.longitude)}}_i._jsonSchemaVersion="firestore/geoPoint/1.0",_i._jsonSchema={type:De("string",_i._jsonSchemaVersion),latitude:De("number"),longitude:De("number")};class vi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let f=0;f<r.length;++f)if(r[f]!==o[f])return!1;return!0})(this._values,e._values)}toJSON(){return{type:vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(no(e,vi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new vi(e.vectorValues);throw new lt(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vi._jsonSchemaVersion="firestore/vectorValue/1.0",vi._jsonSchema={type:De("string",vi._jsonSchemaVersion),vectorValues:De("object")};const rb=/^__.*__$/;function d1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:s})}}class qd{constructor(e,i,r,o,f,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,f===void 0&&this.Rc(),this.fieldTransforms=f||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new qd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return dd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(d1(this.Ac)&&rb.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class lb{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Sc(e)}Cc(e,i,r,o=!1){return new qd({Ac:e,methodName:i,Dc:r,path:Xe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ob(s){const e=s._freezeSettings(),i=Sc(s._databaseId);return new lb(s._databaseId,!!e.ignoreUndefinedProperties,i)}function ub(s,e,i,r=!1){return kd(i,s.Cc(r?4:3,e))}function kd(s,e){if(m1(s=Xl(s)))return hb("Unsupported field value:",e,s),cb(s,e);if(s instanceof f1)return(function(r,o){if(!d1(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const f=r._toFieldTransform(o);f&&o.fieldTransforms.push(f)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const f=[];let d=0;for(const y of r){let _=kd(y,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),f.push(_),d++}return{arrayValue:{values:f}}})(s,e)}return(function(r,o){if((r=Xl(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return fS(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const f=re.fromDate(r);return{timestampValue:sd(o.serializer,f)}}if(r instanceof re){const f=new re(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sd(o.serializer,f)}}if(r instanceof _i)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Vn)return{bytesValue:Bv(o.serializer,r._byteString)};if(r instanceof Ke){const f=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(f))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Pv(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof vi)return(function(d,y){return{mapValue:{fields:{[yv]:{stringValue:_v},[sc]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw y.Sc("VectorValues must only contain numeric values.");return bd(y.serializer,v)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${fc(r)}`)})(s,e)}function cb(s,e){const i={};return hv(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rr(s,((r,o)=>{const f=kd(o,e.mc(r));f!=null&&(i[r]=f)})),{mapValue:{fields:i}}}function m1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof re||s instanceof _i||s instanceof Vn||s instanceof Ke||s instanceof f1||s instanceof vi)}function hb(s,e,i){if(!m1(i)||!uv(i)){const r=fc(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}const fb=new RegExp("[~\\*/\\[\\]]");function db(s,e,i){if(e.search(fb)>=0)throw dd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new h1(...e.split("."))._internalPath}catch{throw dd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function dd(s,e,i,r,o){const f=r&&!r.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let _="";return(f||d)&&(_+=" (found",f&&(_+=` in field ${r}`),d&&(_+=` in document ${o}`),_+=")"),new lt(J.INVALID_ARGUMENT,y+s+_)}class g1{constructor(e,i,r,o,f){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new Ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(p1("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class mb extends g1{data(){return super.data()}}function p1(s,e){return typeof e=="string"?db(s,e):e instanceof h1?e._internalPath:e._delegate._internalPath}function gb(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new lt(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hd{}class pb extends Hd{}function yb(s,e,...i){let r=[];e instanceof Hd&&r.push(e),r=r.concat(i),(function(f){const d=f.filter((_=>_ instanceof Fd)).length,y=f.filter((_=>_ instanceof Gd)).length;if(d>1||d>0&&y>0)throw new lt(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class Gd extends pb{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new Gd(e,i,r)}_apply(e){const i=this._parse(e);return y1(e._query,i),new Dr(e.firestore,e.converter,td(e._query,i))}_parse(e){const i=ob(e.firestore);return(function(f,d,y,_,v,A,N){let M;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new lt(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){B_(N,A);const Z=[];for(const rt of N)Z.push(U_(_,f,rt));M={arrayValue:{values:Z}}}else M=U_(_,f,N)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||B_(N,A),M=ub(y,d,N,A==="in"||A==="not-in");return we.create(v,A,M)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Fd extends Hd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Fd(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:Qn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,f){let d=o;const y=f.getFlattenedFilters();for(const _ of y)y1(d,_),d=td(d,_)})(e._query,i),new Dr(e.firestore,e.converter,td(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function U_(s,e,i){if(typeof(i=Xl(i))=="string"){if(i==="")throw new lt(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cv(e)&&i.indexOf("/")!==-1)throw new lt(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(se.fromString(i));if(!ft.isDocumentKey(r))throw new lt(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $y(s,new ft(r))}if(i instanceof Ke)return $y(s,i._key);throw new lt(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fc(i)}.`)}function B_(s,e){if(!Array.isArray(s)||s.length===0)throw new lt(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function y1(s,e){const i=(function(o,f){for(const d of o)for(const y of d.getFlattenedFilters())if(f.indexOf(y.op)>=0)return y.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new lt(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new lt(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class _b{convertValue(e,i="none"){switch(Na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Da(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw yt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Rr(e,((o,f)=>{r[o]=this.convertValue(f,i)})),r}convertVectorValue(e){const i=e.fields?.[sc].arrayValue?.values?.map((r=>ge(r.doubleValue)));return new vi(i)}convertGeoPoint(e){return new _i(ge(e.latitude),ge(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=pc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Wl(e));default:return null}}convertTimestamp(e){const i=wa(e);return new re(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=se.fromString(e);le(Qv(r),9688,{name:e});const o=new to(r.get(1),r.get(3)),f=new ft(r.popFirst(5));return o.isEqual(i)||qi(`Document ${f} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),f}}class kl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ds extends g1{constructor(e,i,r,o,f,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Ju(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(p1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ds._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ds._jsonSchemaVersion="firestore/documentSnapshot/1.0",ds._jsonSchema={type:De("string",ds._jsonSchemaVersion),bundleSource:De("string","DocumentSnapshot"),bundleName:De("string"),bundle:De("string")};class Ju extends ds{data(e={}){return super.data(e)}}class gr{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new kl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Ju(this._firestore,this._userDataWriter,r.key,r,new kl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,f){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const _=new Ju(o._firestore,o._userDataWriter,y.doc.key,y.doc,new kl(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>f||y.type!==3)).map((y=>{const _=new Ju(o._firestore,o._userDataWriter,y.doc.key,y.doc,new kl(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,A=-1;return y.type!==0&&(v=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),A=d.indexOf(y.doc.key)),{type:vb(y.type),doc:_,oldIndex:v,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=gr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ov.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((f=>{f._document!==null&&(i.push(f._document),r.push(this._userDataWriter.convertObjectMap(f._document.data.value.mapValue.fields,"previous")),o.push(f.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function vb(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:s})}}gr._jsonSchemaVersion="firestore/querySnapshot/1.0",gr._jsonSchema={type:De("string",gr._jsonSchemaVersion),bundleSource:De("string","QuerySnapshot"),bundleName:De("string"),bundle:De("string")};class _1 extends _b{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ke(this.firestore,null,i)}}function Eb(s,...e){s=Xl(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||L_(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(L_(e[r])){const _=e[r];e[r]=_.next?.bind(_),e[r+1]=_.error?.bind(_),e[r+2]=_.complete?.bind(_)}let f,d,y;if(s instanceof Ke)d=Yu(s.firestore,fd),y=Ad(s._key.path),f={next:_=>{e[r]&&e[r](Tb(d,s,_))},error:e[r+1],complete:e[r+2]};else{const _=Yu(s,Dr);d=Yu(_.firestore,fd),y=_._query;const v=new _1(d);f={next:A=>{e[r]&&e[r](new gr(d,v,_,A))},error:e[r+1],complete:e[r+2]},gb(s._query)}return(function(v,A,N,M){const K=new JA(M),Z=new zA(A,K,N);return v.asyncQueue.enqueueAndForget((async()=>OA(await x_(v),Z))),()=>{K.Nu(),v.asyncQueue.enqueueAndForget((async()=>IA(await x_(v),Z)))}})(ab(d),y,o,f)}function Tb(s,e,i){const r=i.docs.get(e._key),o=new _1(s);return new ds(s,o,e._key,r,new kl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){br=o})(u2),nc(new Kl("firestore",((r,{instanceIdentifier:o,options:f})=>{const d=r.getProvider("app").getImmediate(),y=new fd(new A2(r.getProvider("auth-internal")),new R2(d,r.getProvider("app-check-internal")),(function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new lt(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new to(v.options.projectId,A)})(d,o),d);return f={useFetchStreams:i,...f},y._setSettings(f),y}),"PUBLIC").setMultipleInstances(!0)),cr(Py,qy,e),cr(Py,qy,"esm2020")})();var Sb="firebase",Ab="12.6.0";cr(Sb,Ab,"app");const v1={apiKey:"AIzaSyA8946encVrDm5iDdbuaBkyAGypdMlWLFY",authDomain:"planted-dea3b.firebaseapp.com",projectId:"planted-dea3b",storageBucket:"planted-dea3b.firebasestorage.app",messagingSenderId:"427558637972",appId:"1:427558637972:web:e4bee00300194c0d45bf81"},E1=Object.values(v1).every(Boolean);let P_,T1;E1&&(P_=jy().length?jy()[0]:J_(v1),T1=ib(P_));const Fu={isConfigured:E1,db:T1};function bb(s,e){const[i,r]=jt.useState(e),[o,f]=jt.useState(Fu.isConfigured);return jt.useEffect(()=>{if(!Fu.db)return;const d=yb(nb(Fu.db,s)),y=Eb(d,_=>{r(_.docs.map(v=>({id:v.id,...v.data()}))),f(!1)},()=>f(!1));return()=>y()},[s]),{data:i,loading:o,isLive:Fu.isConfigured}}const Cb={summary:"Focus on soil biodiversity, moisture retention, and beneficial insect allies.",dailySchedule:["Sunrise: check dew levels + remove pest-prone leaves","Midday: mist canopy lightly if humidity < 50%","Sunset: journal plant observations with quick photo"],weeklySchedule:["Deep watering w/ captured rainwater","Apply worm castings and chopped leaf mulch","Invite pollinators via flowering guild companions"],soilAmendments:["Compost tea","Biochar blend","Crushed eggshell buffer"],recoveryTips:["Rotate neem + kelp foliar spray to manage insects","Introduce ladybug habitat via dill or yarrow","Shade cloth midday if temps exceed 34C"],progressTrackers:[{label:"Moisture stewardship",guidance:"Mulch depth steady at 5cm; monitor runoff after storms.",value:68,status:"stable"},{label:"Pest resilience",guidance:"Ladybug counts dipped; companion plant dill near guild.",value:52,status:"attention"},{label:"Soil biology",guidance:"Alternate compost tea + biochar to lift microbial diversity.",value:61,status:"stable"}]},Rb={spotlight:{title:"Peace Table Harvest Bowl",description:"Layered grains, slow-roasted roots, and probiotic pickles honoring Levant + Sahel flavors.",ingredients:["Fonio","Roasted carrots","Chickpeas","Preserved lemon","Sesame tahini","Garden herbs"],steps:["Cook grains in veg broth","Roast and spice vegetables","Blend tahini citrus sauce","Assemble with fresh greens"],culturalNotes:"Inspired by communal meals served during interfaith dialogues."},alternates:[{title:"Halal Hearth Stew",description:"Warming chickpea + okra stew with berbere spices.",ingredients:["Okra","Chickpeas","Tomato passata","Berbere blend"],steps:["Bloom spices","Simmer legumes + veg","Finish with citrus + herbs"]},{title:"Shabbat Orchard Tart",description:"Gluten-free crust with date caramel and spiced pears.",ingredients:["Almond flour","Dates","Pears","Cardamom"],steps:["Pulse crust","Par-bake shell","Layer fruit + bake"]}]},wb={overview:"Batch-prep once, stretch meals into quick assemblies with mindful rest.",plans:[{day:"Monday",meals:["Sunrise millet porridge","Garden mezze board","Coconut dal"],prepTips:["Toast grains night prior","Soak pulses","Pre-chop crunchy veg"]},{day:"Tuesday",meals:["Herbal smoothie","Peace table rice rolls","Smoky veggie tagine"],prepTips:["Freeze herb cubes","Marinate tofu overnight"]}],shoppingList:["Seasonal greens","Fermented veggies","Heritage grains","Legumes","Citrus"]},Pf=[{title:"Sustainable Cooking 101",durationMinutes:30,milestones:["Compost sorting","Energy-aware cooking","Zero-waste plating"],ethicalFocus:"Energy justice"},{title:"Cultural Respect Lab",durationMinutes:45,milestones:["Food diplomacy basics","Faith-sensitive menus","Story sharing circle"],ethicalFocus:"Cultural humility"}],qf=[{id:"1",author:"Ama  Accra",country:"Ghana",headline:"Fonio + okra stew heals our drought-stressed garden",body:"Layering mulch, mentoring neighbors, and trading seeds revived soil life.",tags:["permaculture","peace-table"],progress:78},{id:"2",author:"Mila  Sarajevo",country:"Bosnia & Herzegovina",headline:"Interfaith baklava workshop funds native tree planting",body:"We mapped pollinator corridors and merged family recipes.",tags:["community","biodiversity"],progress:64}],Db={narrative:"Bissap, the hibiscus blossom drink, stretches from Sahel caravans to Caribbean block parties, carrying memories of resistance and shared joy.",scienceInsights:["Anthocyanins in hibiscus support cardiovascular resilience.","Solar-infused syrups preserve phytonutrients while minimizing energy use."]},q_=[{id:"mock-seed-circle",title:"Seed Circle Week",description:"Exchange seeds + recipes that honor drought-resilient crops.",countryFocus:"Global South",callToAction:"Invite two households + upload a Peace Table photo.",progressGoal:120,startDate:"2025-11-01",endDate:"2025-12-01"},{id:"mock-soil",title:"Sabbath Soil Rest",description:"Co-design faith-based meals centered on regenerative farms.",countryFocus:"Mediterranean",callToAction:"Share menu notes + soil-building tips.",progressGoal:80,startDate:"2025-12-05",endDate:"2026-01-15"}],Nb={plantName:"Moringa tree",growthStage:"vegetative",climate:{country:"South Africa",hardinessZone:"10A",avgTempC:28},biodiversityConcerns:["pollinator-support","leaf-miners"],observations:[{note:"Lower leaf yellowing after heat wave",symptomTags:["stress","heat"]}]},xb={dietaryNeeds:["vegan","halaal"],availableIngredients:["fonio","okra","eggplant","hibiscus leaves","tomato"],culturalPreferences:["Sahel","Levant"],season:"late-summer"},Vb={householdSize:4,focusAreas:["family meal prep","balanced macros"],timeAvailablePerDay:45},Ob={dishName:"Bissap",region:"Senegal & Diaspora"},Ib={plant:"idle",recipes:"idle",nutrition:"idle",storytelling:"idle"};function Mb(){const[s,e]=jt.useState(Cb),[i,r]=jt.useState(Rb),[o,f]=jt.useState(wb),[d,y]=jt.useState(Pf),[_,v]=jt.useState(Pf),[A,N]=jt.useState(Db),[M,K]=jt.useState(q_),[Z,rt]=jt.useState(qf),[nt,Tt]=jt.useState("South Africa"),[bt,mt]=jt.useState(!1),[Bt,$t]=jt.useState(Nb),[wt,D]=jt.useState(xb),[b,w]=jt.useState(Vb),[I,V]=jt.useState(Ob),[z,C]=jt.useState(Ib),[te,oe]=jt.useState({}),{data:H,isLive:W}=bb("stories",qf),ut=W?H:Z;jt.useEffect(()=>{Fn.communityStories().then(rt).catch(()=>rt(qf)),Fn.peaceChallenges().then(K).catch(()=>K(q_)),Fn.learningModules().then(v).catch(()=>v(Pf))},[]),jt.useEffect(()=>{Fn.learning(nt).then(y).catch(()=>y(_))},[nt,_]);const St=async(et,At)=>{C(Qt=>({...Qt,[et]:"loading"})),oe(Qt=>({...Qt,[et]:void 0}));try{await At(),C(Qt=>({...Qt,[et]:"ready"}))}catch(Qt){console.error(Qt),C(Yt=>({...Yt,[et]:"error"})),oe(Yt=>({...Yt,[et]:Qt.message??"Unable to sync"}))}},Pt=()=>St("plant",async()=>{const et=await Fn.plantPlan(Bt);e(et)}),O=()=>St("recipes",async()=>{const et=await Fn.recipes(wt);r(et)}),Q=()=>St("nutrition",async()=>{const et=await Fn.nutrition(b);f(et)}),tt=()=>St("storytelling",async()=>{const et=await Fn.storytelling(I);N(et)}),it=et=>{rt(At=>[et,...At])},dt=jt.useMemo(()=>[{icon:bE,title:"AI Plant Growth Assistant",description:"Dynamic guild planning with climate, biodiversity, and photo insights.",tags:["permaculture","soil health","climate data"]},{icon:CE,title:"Water & Compost Rhythm",description:"Daily / weekly hydration cues, compost teas, and recovery nudges.",tags:["watering","composting","disease care"]},{icon:EE,title:"AI Nutrition Coach",description:"Family meal prep, dietary respect, and faith-aligned guidance.",tags:["meal prep","faith aware","family"]},{icon:SE,title:"Global Community Feed",description:"Share recipes, Peace Table stories, and biodiversity wins.",tags:["peace table","community","recipes"]},{icon:kf,title:"Cultural Storytelling",description:"AI shares histories + science of beloved dishes.",tags:["heritage","science","respect"]},{icon:TE,title:"Learning Pathways",description:"Structured modules for ethical sourcing and cultural humility.",tags:["learning","ethics","sustainability"]}],[]);return S.jsxs("div",{className:"app-shell",children:[S.jsxs("nav",{className:"navbar navbar-expand-lg shadow-sm bg-body-tertiary rounded-pill px-4 py-3",children:[S.jsx("span",{className:"navbar-brand fw-bold text-success",children:"Planted"}),S.jsxs("div",{className:"d-flex gap-3 ms-auto",children:[S.jsx("button",{className:"btn btn-link text-success",children:"Product"}),S.jsx("button",{className:"btn btn-link text-success",children:"Community"}),S.jsx("button",{className:"btn btn-warning text-dark fw-semibold rounded-pill",children:"Join Peace Table"})]})]}),S.jsxs("main",{children:[S.jsxs("section",{className:"hero",children:[S.jsxs("div",{children:[S.jsx("p",{className:"eyebrow",children:"AI Stewardship Suite"}),S.jsx("h1",{children:"Grow food systems rooted in care, culture, and community."}),S.jsx("p",{className:"lead",children:"Planted unites agroecology, culinary wisdom, and nutrition science so every household can heal soil, share recipes, and honor diverse traditions."}),S.jsxs("div",{className:"d-flex flex-wrap gap-3",children:[S.jsx("button",{className:"btn btn-success fw-semibold rounded-pill px-4",children:"Generate plant plan"}),S.jsx("button",{className:"btn btn-outline-success rounded-pill px-4",children:"Explore cultural stories"})]})]}),S.jsxs("div",{className:"hero-card",children:[S.jsx("p",{className:"eyebrow",children:"Today's care pulse"}),S.jsx("h3",{children:s.summary}),S.jsx(Uu,{title:"Daily",items:s.dailySchedule}),S.jsx(Uu,{title:"Weekly",items:s.weeklySchedule})]})]}),S.jsx(jE,{plantRequest:Bt,recipeRequest:wt,nutritionRequest:b,storytellingRequest:I,status:z,errors:te,onUpdatePlant:$t,onUpdateRecipe:D,onUpdateNutrition:w,onUpdateStorytelling:V,onRunPlant:Pt,onRunRecipes:O,onRunNutrition:Q,onRunStorytelling:tt}),S.jsx(jl,{title:"Everything you need to steward food systems",eyebrow:"Core tools",children:S.jsx("span",{className:"text-muted",children:"Powered by OpenAI + Firebase + community data"})}),S.jsx("div",{className:"feature-grid",children:dt.map(et=>S.jsx(RE,{...et},et.title))}),S.jsxs("section",{className:"planner-grid",children:[S.jsxs("div",{className:"growth-panel",children:[S.jsx(jl,{title:"Plant growth assistant",eyebrow:"AI plant guide"}),S.jsxs("div",{className:"grid-two",children:[S.jsx(Uu,{title:"Soil amendments",items:s.soilAmendments}),S.jsx(Uu,{title:"Recovery tips",items:s.recoveryTips})]}),S.jsx(zE,{metrics:s.progressTrackers??[]})]}),S.jsx(wE,{bundle:i}),S.jsx(DE,{plan:o})]}),S.jsx(jl,{title:"Peace Table community feed",eyebrow:"Global community",children:S.jsx("button",{className:"btn btn-outline-success rounded-pill",onClick:()=>mt(et=>!et),children:bt?"Close form":"Share story"})}),bt&&S.jsx(IE,{onCreated:it,onClose:()=>mt(!1)}),S.jsx("div",{className:"community-grid",children:ut.map(et=>S.jsx(NE,{story:et},et.id))}),S.jsx(jl,{title:"Learning pathways",eyebrow:"AI learning modules",children:S.jsxs("div",{className:"d-flex gap-2 align-items-center",children:[S.jsx("span",{className:"text-muted",children:"Country focus"}),S.jsx("select",{className:"form-select",value:nt,onChange:et=>Tt(et.target.value),children:["South Africa","Brazil","Morocco","India"].map(et=>S.jsx("option",{value:et,children:et},et))})]})}),S.jsx("div",{className:"learning-grid",children:d.map(et=>S.jsx(xE,{pathway:et},et.title))}),M.length>0&&S.jsxs(S.Fragment,{children:[S.jsx(jl,{title:"Peace Table challenges",eyebrow:"Global actions",children:S.jsx("span",{className:"text-muted",children:"Track shared commitments across regions"})}),S.jsx("div",{className:"challenge-grid",children:M.map(et=>S.jsx(LE,{challenge:et},et.id))})]}),S.jsxs("div",{className:"story-panel",children:[S.jsx(VE,{story:A}),S.jsx(ME,{})]})]})]})}oE.createRoot(document.getElementById("root")).render(S.jsx(jt.StrictMode,{children:S.jsx(Mb,{})}));
